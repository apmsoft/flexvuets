{"version":3,"file":"asynctask.class.js","names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","AsyncTask","execute","method","url","params","_options","_headers","_method","toUpperCase","redirect_url","headers","options","cache","Headers","body","JSON","stringify","Object","entries","forEach","key","response","fetch","contentType","get","ok","Error","String","status","includes","json","text","blob","doImport","doImportCss","document","querySelector","getElementsByTagName","insertAdjacentHTML"],"sources":["asynctask.class.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport default class AsyncTask {\n    /**\n     *\n     * @param method 전송방식\n     * @param url 서버 접속 경로\n     * @param params 전송할 데이터\n     * @param _options 옵션\n     * @param _headers 전송할 헤더값\n     */\n    execute(method, url, params = {}, _options = {}, _headers = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const _method = method.toUpperCase();\n            let redirect_url = url;\n            let headers = _headers || ((_method == 'GET') ? { 'Content-Type': 'text/plain' } : { 'Content-Type': 'application/json' });\n            let options = {\n                method: _method,\n                cache: 'no-cache',\n                headers: new Headers(headers)\n            };\n            if (_method != 'GET') {\n                options.body = JSON.stringify(params);\n            }\n            Object.entries(_options).forEach(([key, value]) => {\n                options[key] = value;\n            });\n            const response = yield fetch(redirect_url, options);\n            const contentType = response.headers.get('content-type');\n            if (!response.ok) {\n                throw new Error(String(response.status));\n            }\n            let result;\n            if (contentType && contentType.includes('application/json')) {\n                result = yield response.json();\n            }\n            else if (contentType && contentType.includes('text')) {\n                result = yield response.text();\n            }\n            else if (contentType && contentType.includes('application')) {\n                result = yield response.blob();\n            }\n            return result;\n        });\n    }\n    doImport(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return import(url);\n        });\n    }\n    doImportCss(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!document.querySelector(`[href=\"${url}\"]`)) {\n                document.getElementsByTagName(\"head\")[0].insertAdjacentHTML(\"beforeend\", `<link rel=\"stylesheet\" href=\"${url}\" />`);\n            }\n        });\n    }\n}\n"],"mappings":"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","ignoreList":[]}