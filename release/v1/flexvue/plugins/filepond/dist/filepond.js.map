{"version":3,"file":"filepond.js","names":["global","factory","exports","module","define","amd","self","FilePond","isNode","value","HTMLElement","createStore","initialState","queries","arguments","length","undefined","actions","state","Object","assign","actionQueue","dispatchQueue","getState","processActionQueue","queue","concat","processDispatchQueue","forEach","_ref","type","data","dispatch","isBlocking","document","hidden","push","actionHandlers","query","str","_queryHandles","_len","args","Array","_key","queryHandles","apply","api","action","defineProperty","obj","property","definition","forin","cb","key","hasOwnProperty","createObject","attr","node","name","getAttribute","hasAttribute","setAttribute","ns","svgElements","isSVGElement","tag","includes","createElement","className","attributes","element","createElementNS","appendChild","parent","child","index","children","insertBefore","appendChildView","childViews","view","splice","removeChildView","indexOf","parentNode","removeChild","IS_BROWSER","window","isBrowser","testElement","getChildCount","el","childNodes","getViewRect","elementRect","offset","scale","left","top","right","width","bottom","height","rect","inner","outer","filter","childView","isRectIgnored","map","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","Math","abs","spring","_ref$stiffness","stiffness","_ref$damping","damping","_ref$mass","mass","target","resting","interpolate","ts","skipToEndState","f","onupdate","oncomplete","setTarget","set","get","easeLinear","t","easeInOutQuad","tween","_ref$duration","duration","_ref$easing","easing","_ref$delay","delay","start","p","reverse","animator","createAnimator","category","def","props","addGetSet","keys","overwrite","isArray","o","getter","setter","animations","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","animation","prop","write","destroy","addEvent","fn","addEventListener","removeEvent","removeEventListener","listeners","viewState","events","add","remove","on","off","findIndex","event","apis","isDefined","defaults","opacity","scaleX","scaleY","translateX","translateY","rotateX","rotateY","rotateZ","originX","originY","styles","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","_ref2","perspective","transforms","elementCurrentStyle","style","cssText","Mixins","updateRect","layoutCalculated","paddingTop","parseInt","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","createView","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","_ref$didCreateView","didCreateView","_ref$didWriteView","didWriteView","_ref$ignoreRect","ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","mixins","store","getComputedStyle","frameRect","isResting","activeMixins","ref","writers","readers","destroyers","getElement","getChildViews","getReference","createChildView","getStyle","_read","shouldUpdate","root","internalAPI","reader","_write","frameActions","shouldOptimize","writer","writerResting","timestamp","mixin","mixinResting","childResting","_destroy","destroyer","sharedAPIDefinition","internalAPIDefinition","is","needle","linkView","unlinkView","registerWriter","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","sort","a","b","mixinAPI","childCount","createPainter","fps","painter","interval","last","id","requestTick","cancelTick","setTimerType","setTimeout","tick","performance","now","clearTimeout","requestAnimationFrame","cancelAnimationFrame","delta","pause","createRoute","routes","_ref$actions","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","toString","toArray","splitter","split","isBoolean","toBoolean","isString","toNumber","replace","toInt","toFloat","parseFloat","isInt","isFinite","floor","toBytes","base","naturalFileSize","test","isFunction","toFunctionReference","string","levels","level","shift","methods","process","patch","revert","fetch","restore","load","createServerAPI","outline","url","timeout","headers","createAction","method","withCredentials","onload","ondata","onerror","parts","header","toServerAPI","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","array","boolean","int","number","float","bytes","function","_function","serverapi","object","JSON","parse","e","convertTo","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOption","currentValue","enumerable","createOptions","options","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","part","toLowerCase","join","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substr","_typeof","Symbol","iterator","constructor","prototype","REACT_ELEMENT_TYPE","_jsx","defaultProps","childrenLength","propName","childArray","i","$$typeof","_owner","_asyncIterator","iterable","asyncIterator","call","TypeError","_AwaitValue","wrapped","_AsyncGenerator","gen","front","back","send","arg","Promise","resolve","reject","request","next","resume","result","wrappedAwait","then","settle","done","err","_invoke","return","throw","_wrapAsyncGenerator","_awaitAsyncGenerator","_asyncGeneratorDelegate","awaitWrap","iter","waiting","pump","asyncGeneratorStep","_next","_throw","info","error","_asyncToGenerator","_classCallCheck","instance","Constructor","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_defineEnumerableProperties","descs","desc","getOwnPropertySymbols","objectSymbols","sym","_defaults","getOwnPropertyNames","getOwnPropertyDescriptor","_defineProperty","_extends","source","_objectSpread","ownKeys","enumerableOnly","symbols","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","_setPrototypeOf","_inheritsLoose","__proto__","_getPrototypeOf","setPrototypeOf","getPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_construct","Parent","Class","Function","bind","_isNativeFunction","_wrapNativeSuper","_cache","Map","has","Wrapper","_instanceof","hasInstance","_interopRequireDefault","__esModule","default","_interopRequireWildcard","newObj","_newArrowCheck","innerThis","boundThis","_objectDestructuringEmpty","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_superPropBase","_get","receiver","_set","isStrict","s","Error","_taggedTemplateLiteral","strings","raw","slice","freeze","_taggedTemplateLiteralLoose","_temporalRef","val","_temporalUndefined","_readOnlyError","_classNameTDZError","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_slicedToArrayLoose","_iterableToArrayLimitLoose","_toArray","_iterableToArray","_toConsumableArray","_arrayWithoutHoles","_nonIterableSpread","arr2","from","_arr","_n","_d","_e","_i","_s","_iterator","_step","_skipFirstGeneratorNext","it","_toPrimitive","input","hint","prim","toPrimitive","res","String","Number","_toPropertyKey","_initializerWarningHelper","context","_initializerDefineProperty","initializer","_applyDecoratedDescriptor","decorators","reduce","decorator","_classPrivateFieldLooseKey","_classPrivateFieldLooseBase","privateKey","_classPrivateFieldGet","privateMap","_classPrivateFieldSet","_classPrivateFieldDestructureSet","__destrObj","v","_classStaticPrivateFieldSpecGet","classConstructor","_classStaticPrivateFieldSpecSet","_classStaticPrivateMethodGet","_classStaticPrivateMethodSet","_decorate","_getDecoratorsApi","r","initialize","O","initializeInstanceElements","decorated","elements","decorateClass","_coalesceClassElements","d","_createElementDescriptor","initializeClassElements","F","runClassFinishers","finishers","elementsDefinitionOrder","kind","placement","defineClassElement","proto","newElements","placements","static","own","addElementPlacement","_hasDecorators","elementFinishersExtras","decorateElement","extras","decorateConstructor","silent","elementObject","fromElementDescriptor","elementFinisherExtras","toElementFinisherExtras","finisher","newExtras","j","fromClassDescriptor","elementsAndFinisher","toClassDescriptor","k","toStringTag","toElementDescriptors","elementObjects","toElementDescriptor","disallowProperty","_optionalCallableProperty","newConstructor","objectType","_coalesceGetterSetter","other","isSameElement","find","_isDataDescriptor","_classPrivateMethodGet","privateSet","_classPrivateMethodSet","_wrapRegExp","re","groups","BabelRegExp","_RegExp","RegExp","_super","_groups","WeakMap","_this","exec","buildGroups","substitution","_","g","arrayRemove","run","sync","listener","_fire","fire","fireSync","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","src","PRIVATE","createItemAPI","item","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","Type","BOOLEAN","INT","NUMBER","STRING","ARRAY","OBJECT","FUNCTION","ACTION","SERVER_API","REGEX","filters","applyFilterChain","utils","matchingFilters","initialFilter","current","catch","applyFilters","addFilter","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","setOptions","opts","disabled","required","captureMethod","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowMultiple","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","getNumericAspectRatioFromString","aspectRatio","getActiveItems","archived","Status","EMPTY","ERROR","BUSY","READY","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","status","isItemInBusyState","isItemInReadyState","GET_STATUS","some","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","filename","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","IS_ASYNC","hasRoomForItem","count","maxFileCount","limit","min","max","arrayInsert","insertItem","isBase64DataURI","getFilenameFromURL","pop","getExtensionFromFilename","guesstimateExtension","subtype","leftPad","padding","getDateString","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","extension","file","size","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","mimeType","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","match","getTranfserIdFromHeader","getFileInfoFromHeaders","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","createFileLoader","fetchFn","complete","progress","getProgress","abort","File","loadURL","body","code","response","computable","total","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","every","processChunks","updateTotalProgress","retryProcessChunk","totalBytesTransfered","totalSize","totalProcessing","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","reset","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","isFile","deepCloneObject","createItem","origin","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","success","retryLoad","abortLoad","processor","onprocess","console","requestProcessing","abortProcessing","revertFileUpload","_setMetadata","setMetadata","getMetadata","filenameWithoutExtension","fileExtension","fileType","relativePath","extend","handler","itemAPI","release","archive","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","location","protocol","isExternalURL","href","dynamicLabel","label","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","DID_UPDATE_ITEM_METADATA","_ref3","shouldPrepareOutput","doUpload","MOVE_ITEM","_ref4","currentIndex","SORT","_ref5","ADD_ITEMS","_ref6","_ref6$success","_ref6$failure","insertLocation","totalItems","isValidFile","validItems","promises","all","ADD_ITEM","_ref7","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","_item","mainStatus","main","sub","handleAdd","shouldAdd","change","loadComplete","_ref8","REQUEST_PREPARE_OUTPUT","_ref9","_ref9$failure","COMPLETE_LOAD_ITEM","_ref10","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","itemReference","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","_ref11","formatFilename","createElement$1","tagName","text","textNode","createTextNode","nodeValue","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","x","cos","y","sin","describeArc","startAngle","endAngle","arcSweep","end","percentageArc","to","spin","svg","path","align","dataset","ringStrokeWidth","ringFrom","ringTo","coordinates","progressIndicator","create$1","innerHTML","icon","isDisabled","write$1","shouldDisable","removeAttribute","fileActionButton","toNaturalFileSize","round","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_LOAD_ITEM","DID_UPDATE_ITEM_META","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_INVALID","toPercentage","create$3","didSetItemLoadProgress","title","didSetItemProcessProgress","didRequestItemProcessing","didAbortItemProcessing","didCompleteItemProcessing","fileStatus","DID_REVERT_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_COMPLETE_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getLoadIndicatorAlignment","getProcessIndicatorAlignment","getRemoveIndicatorAligment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","DID_START_ITEM_PROCESSING","processingCompleteIndicatorView","create$4","isAsync","alignRemoveItemButton","buttonFilter","enabledButtons","_map","buttonView","classList","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","route","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","_ref12","create$5","didLoadItem","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","write$3","topRect","bottomRect","center","panel","heightCurrent","createDragHelper","itemIds","prevIndex","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","container","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","dist","drop","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemIndexByPosition","positionInView","horizontalSpace","l","itemRect","itemHorizontalMargin","itemWidth","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","getHeight","setHeight","getWidth","setWidth","setDimensions","create$8","lastItemSpanwDate","addItemView","addIndex","spawnDate","cooldown","moveItem","vx","vy","introItemView","removeItemView","getItemHeight","getItemWidth","dragItem","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","getGridIndex","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","route$2","DID_ADD_ITEM","DID_REMOVE_ITEM","write$5","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","filterSetItemActions","list","create$9","overflowing","storeDragCoordinates","scopeLeft","scopeTop","clearDragCoordinates","route$3","DID_DRAG","DID_END_DRAG","write$6","overflow","newHeight","listScroller","attrToggle","enabledValue","resetFileInput","form","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","shouldCheckValidity","setCustomValidity","updateFieldValidityStatus","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","isActivationKey","keyCode","click","isLabelClick","contains","updateLabelValue","caption","clickable","querySelector","dropLabel","DID_SET_LABEL_IDLE","addBlob","moveBlob","hideBlob","explodeBlob","write$7","route$4","DID_DROP","drip","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","didAddItem","dataContainer","didLoadItem$1","field","didSetDisabled","didRemoveItem","didDefineValue","write$8","DID_DEFINE_VALUE","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","images","text$1","zip","epub","guesstimateMimeType","requestDataTransferItems","dataTransfer","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","entry","getAsEntry","isDirectory","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","observer","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","point","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","listen","unlisten","createPaster","create$d","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","message","textContent","clear$1","listModified","isUsingFilePond","itemAdded","itemRemoved","itemProcessed","itemProcessedUndo","itemError","assistant","toCamels","charAt","debounce","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","hasCredits","frag","tabindex","rel","write$9","route$5","calculateRootBoundingBoxHeight","_root$ref","hopper","isMultiItem","maxItems","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","fixedHeight","_listAvailableHeight","cappedHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","transform","scrollList","itemList","newItem","removedItem","verticalItemCount","ceil","measureHeight","maxHeight","exceedsMaxFiles","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_PREPARE_OUTPUT","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","detail","pond","dispatchEvent","CustomEvent","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","_len3","_key3","removeFiles","_len4","_key4","mappedQueries","q","moveFile","browse","insertBefore$1","insertAfter$1","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","createApp$1","PRIVATE_METHODS","createAppAPI","replaceInString","replacements","createWorker","workerBlob","workerURL","URL","createObjectURL","worker","Worker","post","transferList","onmessage","postMessage","terminate","revokeObjectURL","loadImage","img","Image","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","plugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","navigator","userAgent","supported","isSupported","apps","FileStatus","OptionTypes","registerPlugin","updateOptionTypes","hook","indexToRemove","matchedHooks","newHooks","newHook","plugins","getOptions$1","setOptions$1"],"sources":["filepond.js"],"sourcesContent":["\"use strict\";\n/*!\n * FilePond 4.25.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n/* eslint-disable */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n            ? define(['exports'], factory)\n            : ((global = global || self), factory((global.FilePond = {})));\n})(this, function (exports) {\n    'use strict';\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n            return queue;\n        };\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n            // now dispatch these actions\n            queue.forEach(function (_ref) {\n                var type = _ref.type, data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data\n            });\n        };\n        var query = function query(str) {\n            var _queryHandles;\n            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query\n        };\n        var queryHandles = {};\n        queries.forEach(function (query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n        var actionHandlers = {};\n        actions.forEach(function (action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n        return api;\n    };\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n            cb(key, obj[key]);\n        }\n    };\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function (property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            }\n            else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function (name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n    var appendChild = function appendChild(parent) {\n        return function (child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            }\n            else {\n                parent.appendChild(child);\n            }\n        };\n    };\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function (view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            }\n            else {\n                childViews.push(view);\n            }\n            return view;\n        };\n    };\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function (view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n            return view;\n        };\n    };\n    var IS_BROWSER = (function () {\n        return (typeof window !== 'undefined' && typeof window.document !== 'undefined');\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount = 'children' in testElement\n        ? function (el) {\n            return el.children.length;\n        }\n        : function (el) {\n            return el.childNodes.length;\n        };\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom\n            },\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom\n            }\n        };\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function (childView) {\n            return !childView.isRectIgnored();\n        })\n            .map(function (childView) {\n            return childView.rect;\n        })\n            .forEach(function (childViewRect) {\n            expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n            expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n        });\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n        return rect;\n    };\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return (Math.abs(position - destination) < errorMargin &&\n            Math.abs(velocity) < errorMargin);\n    };\n    /**\n     * Spring animation\n     */\n    var spring = \n    // default options\n    function spring() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined\n            ? arguments[0]\n            : {}, _ref$stiffness = _ref.stiffness, stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness, _ref$damping = _ref.damping, damping = _ref$damping === void 0 ? 0.75 : _ref$damping, _ref$mass = _ref.mass, mass = _ref$mass === void 0 ? 10 : _ref$mass;\n        var target = null;\n        var position = null;\n        var velocity = 0;\n        var resting = false;\n        // updates spring state\n        var interpolate = function interpolate(ts, skipToEndState) {\n            // in rest, don't animate\n            if (resting)\n                return;\n            // need at least a target or position to do springy things\n            if (!(isNumber(target) && isNumber(position))) {\n                resting = true;\n                velocity = 0;\n                return;\n            }\n            // calculate spring force\n            var f = -(position - target) * stiffness;\n            // update velocity by adding force based on mass\n            velocity += f / mass;\n            // update position by adding velocity\n            position += velocity;\n            // slow down based on amount of damping\n            velocity *= damping;\n            // we've arrived if we're near target and our velocity is near zero\n            if (thereYet(position, target, velocity) || skipToEndState) {\n                position = target;\n                velocity = 0;\n                resting = true;\n                // we done\n                api.onupdate(position);\n                api.oncomplete(position);\n            }\n            else {\n                // progress update\n                api.onupdate(position);\n            }\n        };\n        /**\n         * Set new target value\n         * @param value\n         */\n        var setTarget = function setTarget(value) {\n            // if currently has no position, set target and position to this value\n            if (isNumber(value) && !isNumber(position)) {\n                position = value;\n            }\n            // next target value will not be animated to\n            if (target === null) {\n                target = value;\n                position = value;\n            }\n            // let start moving to target\n            target = value;\n            // already at target\n            if (position === target || typeof target === 'undefined') {\n                // now resting as target is current position, stop moving\n                resting = true;\n                velocity = 0;\n                // done!\n                api.onupdate(position);\n                api.oncomplete(position);\n                return;\n            }\n            resting = false;\n        };\n        // need 'api' to call onupdate callback\n        var api = createObject({\n            interpolate: interpolate,\n            target: {\n                set: setTarget,\n                get: function get() {\n                    return target;\n                }\n            },\n            resting: {\n                get: function get() {\n                    return resting;\n                }\n            },\n            onupdate: function onupdate(value) { },\n            oncomplete: function oncomplete(value) { }\n        });\n        return api;\n    };\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n    var tween = \n    // default values\n    function tween() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined\n            ? arguments[0]\n            : {}, _ref$duration = _ref.duration, duration = _ref$duration === void 0 ? 500 : _ref$duration, _ref$easing = _ref.easing, easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing, _ref$delay = _ref.delay, delay = _ref$delay === void 0 ? 0 : _ref$delay;\n        var start = null;\n        var t;\n        var p;\n        var resting = true;\n        var reverse = false;\n        var target = null;\n        var interpolate = function interpolate(ts, skipToEndState) {\n            if (resting || target === null)\n                return;\n            if (start === null) {\n                start = ts;\n            }\n            if (ts - start < delay)\n                return;\n            t = ts - start - delay;\n            if (t >= duration || skipToEndState) {\n                t = 1;\n                p = reverse ? 0 : 1;\n                api.onupdate(p * target);\n                api.oncomplete(p * target);\n                resting = true;\n            }\n            else {\n                p = t / duration;\n                api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n            }\n        };\n        // need 'api' to call onupdate callback\n        var api = createObject({\n            interpolate: interpolate,\n            target: {\n                get: function get() {\n                    return reverse ? 0 : target;\n                },\n                set: function set(value) {\n                    // is initial value\n                    if (target === null) {\n                        target = value;\n                        api.onupdate(value);\n                        api.oncomplete(value);\n                        return;\n                    }\n                    // want to tween to a smaller value and have a current value\n                    if (value < target) {\n                        target = 1;\n                        reverse = true;\n                    }\n                    else {\n                        // not tweening to a smaller value\n                        reverse = false;\n                        target = value;\n                    }\n                    // let's go!\n                    resting = false;\n                    start = null;\n                }\n            },\n            resting: {\n                get: function get() {\n                    return resting;\n                }\n            },\n            onupdate: function onupdate(value) { },\n            oncomplete: function oncomplete(value) { }\n        });\n        return api;\n    };\n    var animator = {\n        spring: spring,\n        tween: tween\n    };\n    /*\n                         { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                         { translation: { type: 'spring', ... }, ... }\n                         { translation: { x: { type: 'spring', ... } } }\n                        */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def = definition[category] && typeof definition[category][property] === 'object'\n            ? definition[category][property]\n            : definition[category] || definition;\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n        return animator[type] ? animator[type](props) : null;\n    };\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function (o) {\n            keys.forEach(function (key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n                if (o[name] && !overwrite) {\n                    return;\n                }\n                o[name] = {\n                    get: getter,\n                    set: setter\n                };\n            });\n        });\n    };\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig, viewProps = _ref.viewProps, viewInternalAPI = _ref.viewInternalAPI, viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n        // list of all active animations\n        var animations = [];\n        // setup animators\n        forin(mixinConfig, function (property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n            // when the animator updates, update the view state value\n            animator.onupdate = function (value) {\n                viewProps[property] = value;\n            };\n            // set animator target\n            animator.target = initialProps[property];\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                }\n            };\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function (animation) {\n                    if (!animation.resting)\n                        resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() { }\n        };\n    };\n    var addEvent = function addEvent(element) {\n        return function (type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n    var removeEvent = function removeEvent(element) {\n        return function (type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig, viewProps = _ref.viewProps, viewInternalAPI = _ref.viewInternalAPI, viewExternalAPI = _ref.viewExternalAPI, viewState = _ref.viewState, view = _ref.view;\n        var events = [];\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n        viewExternalAPI.on = function (type, fn) {\n            events.push({\n                type: type,\n                fn: fn\n            });\n            add(type, fn);\n        };\n        viewExternalAPI.off = function (type, fn) {\n            events.splice(events.findIndex(function (event) {\n                return event.type === type && event.fn === fn;\n            }), 1);\n            remove(type, fn);\n        };\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function (event) {\n                    remove(event.type, event.fn);\n                });\n            }\n        };\n    };\n    // add to external api and link to props\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig, viewProps = _ref.viewProps, viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0\n    };\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig, viewProps = _ref.viewProps, viewInternalAPI = _ref.viewInternalAPI, viewExternalAPI = _ref.viewExternalAPI, view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n        // current props\n        var currentProps = {};\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n        // apply view props\n        mixinConfig.forEach(function (key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined'\n                    ? defaults[key]\n                    : initialProps[key];\n        });\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() { }\n        };\n    };\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity, perspective = _ref2.perspective, translateX = _ref2.translateX, translateY = _ref2.translateY, scaleX = _ref2.scaleX, scaleY = _ref2.scaleY, rotateX = _ref2.rotateX, rotateY = _ref2.rotateY, rotateZ = _ref2.rotateZ, originX = _ref2.originX, originY = _ref2.originY, width = _ref2.width, height = _ref2.height;\n        var transforms = '';\n        var styles = '';\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles +=\n                'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' +\n                    (translateX || 0) +\n                    'px, ' +\n                    (translateY || 0) +\n                    'px, 0) ';\n        }\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                    (isDefined(scaleX) ? scaleX : 1) +\n                    ', ' +\n                    (isDefined(scaleY) ? scaleY : 1) +\n                    ', 1) ';\n        }\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length ||\n            styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis\n    };\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n        rect.scrollTop = element.scrollTop;\n        rect.hidden = element.offsetParent === null;\n        return rect;\n    };\n    var createView = \n    // default view definition\n    function createView() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined\n            ? arguments[0]\n            : {}, _ref$tag = _ref.tag, tag = _ref$tag === void 0 ? 'div' : _ref$tag, _ref$name = _ref.name, name = _ref$name === void 0 ? null : _ref$name, _ref$attributes = _ref.attributes, attributes = _ref$attributes === void 0 ? {} : _ref$attributes, _ref$read = _ref.read, read = _ref$read === void 0 ? function () { } : _ref$read, _ref$write = _ref.write, write = _ref$write === void 0 ? function () { } : _ref$write, _ref$create = _ref.create, create = _ref$create === void 0 ? function () { } : _ref$create, _ref$destroy = _ref.destroy, destroy = _ref$destroy === void 0 ? function () { } : _ref$destroy, _ref$filterFrameActio = _ref.filterFrameActionsForChild, filterFrameActionsForChild = _ref$filterFrameActio === void 0\n            ? function (child, actions) {\n                return actions;\n            }\n            : _ref$filterFrameActio, _ref$didCreateView = _ref.didCreateView, didCreateView = _ref$didCreateView === void 0 ? function () { } : _ref$didCreateView, _ref$didWriteView = _ref.didWriteView, didWriteView = _ref$didWriteView === void 0 ? function () { } : _ref$didWriteView, _ref$ignoreRect = _ref.ignoreRect, ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect, _ref$ignoreRectUpdate = _ref.ignoreRectUpdate, ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate, _ref$mixins = _ref.mixins, mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n        return function (\n        // each view requires reference to store\n        store) {\n            var props = arguments.length > 1 && arguments[1] !== undefined\n                ? arguments[1]\n                : {};\n            // root element should not be changed\n            var element = createElement(tag, 'filepond--' + name, attributes);\n            // style reference should also not be changed\n            var style = window.getComputedStyle(element, null);\n            // element rectangle\n            var rect = updateRect();\n            var frameRect = null;\n            // rest state\n            var isResting = false;\n            // pretty self explanatory\n            var childViews = [];\n            // loaded mixins\n            var activeMixins = [];\n            // references to created children\n            var ref = {};\n            // state used for each instance\n            var state = {};\n            // list of writers that will be called to update this view\n            var writers = [\n                write // default writer\n            ];\n            var readers = [\n                read // default reader\n            ];\n            var destroyers = [\n                destroy // default destroy\n            ];\n            // core view methods\n            var getElement = function getElement() {\n                return element;\n            };\n            var getChildViews = function getChildViews() {\n                return childViews.concat();\n            };\n            var getReference = function getReference() {\n                return ref;\n            };\n            var createChildView = function createChildView(store) {\n                return function (view, props) {\n                    return view(store, props);\n                };\n            };\n            var getRect = function getRect() {\n                if (frameRect) {\n                    return frameRect;\n                }\n                frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                return frameRect;\n            };\n            var getStyle = function getStyle() {\n                return style;\n            };\n            /**\n             * Read data from DOM\n             * @private\n             */\n            var _read = function _read() {\n                frameRect = null;\n                // read child views\n                childViews.forEach(function (child) {\n                    return child._read();\n                });\n                var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                if (shouldUpdate) {\n                    updateRect(rect, element, style);\n                }\n                // readers\n                var api = { root: internalAPI, props: props, rect: rect };\n                readers.forEach(function (reader) {\n                    return reader(api);\n                });\n            };\n            /**\n             * Write data to DOM\n             * @private\n             */\n            var _write = function _write(ts, frameActions, shouldOptimize) {\n                // if no actions, we assume that the view is resting\n                var resting = frameActions.length === 0;\n                // writers\n                writers.forEach(function (writer) {\n                    var writerResting = writer({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                        shouldOptimize: shouldOptimize\n                    });\n                    if (writerResting === false) {\n                        resting = false;\n                    }\n                });\n                // run mixins\n                activeMixins.forEach(function (mixin) {\n                    // if one of the mixins is still busy after write operation, we are not resting\n                    var mixinResting = mixin.write(ts);\n                    if (mixinResting === false) {\n                        resting = false;\n                    }\n                });\n                // updates child views that are currently attached to the DOM\n                childViews\n                    .filter(function (child) {\n                    return !!child.element.parentNode;\n                })\n                    .forEach(function (child) {\n                    // if a child view is not resting, we are not resting\n                    var childResting = child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize);\n                    if (!childResting) {\n                        resting = false;\n                    }\n                });\n                // append new elements to DOM and update those\n                childViews\n                    //.filter(child => !child.element.parentNode)\n                    .forEach(function (child, index) {\n                    // skip\n                    if (child.element.parentNode) {\n                        return;\n                    }\n                    // append to DOM\n                    internalAPI.appendChild(child.element, index);\n                    // call read (need to know the size of these elements)\n                    child._read();\n                    // re-call write\n                    child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize);\n                    // we just added somthing to the dom, no rest\n                    resting = false;\n                });\n                // update resting state\n                isResting = resting;\n                didWriteView({\n                    props: props,\n                    root: internalAPI,\n                    actions: frameActions,\n                    timestamp: ts\n                });\n                // let parent know if we are resting\n                return resting;\n            };\n            var _destroy = function _destroy() {\n                activeMixins.forEach(function (mixin) {\n                    return mixin.destroy();\n                });\n                destroyers.forEach(function (destroyer) {\n                    destroyer({ root: internalAPI, props: props });\n                });\n                childViews.forEach(function (child) {\n                    return child._destroy();\n                });\n            };\n            // sharedAPI\n            var sharedAPIDefinition = {\n                element: {\n                    get: getElement\n                },\n                style: {\n                    get: getStyle\n                },\n                childViews: {\n                    get: getChildViews\n                }\n            };\n            // private API definition\n            var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                rect: {\n                    get: getRect\n                },\n                // access to custom children references\n                ref: {\n                    get: getReference\n                },\n                // dom modifiers\n                is: function is(needle) {\n                    return name === needle;\n                },\n                appendChild: appendChild(element),\n                createChildView: createChildView(store),\n                linkView: function linkView(view) {\n                    childViews.push(view);\n                    return view;\n                },\n                unlinkView: function unlinkView(view) {\n                    childViews.splice(childViews.indexOf(view), 1);\n                },\n                appendChildView: appendChildView(element, childViews),\n                removeChildView: removeChildView(element, childViews),\n                registerWriter: function registerWriter(writer) {\n                    return writers.push(writer);\n                },\n                registerReader: function registerReader(reader) {\n                    return readers.push(reader);\n                },\n                registerDestroyer: function registerDestroyer(destroyer) {\n                    return destroyers.push(destroyer);\n                },\n                invalidateLayout: function invalidateLayout() {\n                    return (element.layoutCalculated = false);\n                },\n                // access to data store\n                dispatch: store.dispatch,\n                query: store.query\n            });\n            // public view API methods\n            var externalAPIDefinition = {\n                element: {\n                    get: getElement\n                },\n                childViews: {\n                    get: getChildViews\n                },\n                rect: {\n                    get: getRect\n                },\n                resting: {\n                    get: function get() {\n                        return isResting;\n                    }\n                },\n                isRectIgnored: function isRectIgnored() {\n                    return ignoreRect;\n                },\n                _read: _read,\n                _write: _write,\n                _destroy: _destroy\n            };\n            // mixin API methods\n            var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                rect: {\n                    get: function get() {\n                        return rect;\n                    }\n                }\n            });\n            // add mixin functionality\n            Object.keys(mixins)\n                .sort(function (a, b) {\n                // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                if (a === 'styles') {\n                    return 1;\n                }\n                else if (b === 'styles') {\n                    return -1;\n                }\n                return 0;\n            })\n                .forEach(function (key) {\n                var mixinAPI = Mixins[key]({\n                    mixinConfig: mixins[key],\n                    viewProps: props,\n                    viewState: state,\n                    viewInternalAPI: internalAPIDefinition,\n                    viewExternalAPI: externalAPIDefinition,\n                    view: createObject(mixinAPIDefinition)\n                });\n                if (mixinAPI) {\n                    activeMixins.push(mixinAPI);\n                }\n            });\n            // construct private api\n            var internalAPI = createObject(internalAPIDefinition);\n            // create the view\n            create({\n                root: internalAPI,\n                props: props\n            });\n            // append created child views to root node\n            var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n            childViews.forEach(function (child, index) {\n                internalAPI.appendChild(child.element, childCount + index);\n            });\n            // call did create\n            didCreateView(internalAPI);\n            // expose public api\n            return createObject(externalAPIDefinition);\n        };\n    };\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n        var name = '__framePainter';\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n        window[name] = {\n            readers: [read],\n            writers: [write]\n        };\n        var painter = window[name];\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function () {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            }\n            else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n        document.addEventListener('visibilitychange', function () {\n            if (cancelTick)\n                cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n            var delta = ts - last;\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n            // align next frame\n            last = ts - (delta % interval);\n            // update view\n            painter.readers.forEach(function (read) {\n                return read();\n            });\n            painter.writers.forEach(function (write) {\n                return write(ts);\n            });\n        };\n        setTimerType();\n        tick(performance.now());\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            }\n        };\n    };\n    var createRoute = function createRoute(routes, fn) {\n        return function (_ref) {\n            var root = _ref.root, props = _ref.props, _ref$actions = _ref.actions, actions = _ref$actions === void 0 ? [] : _ref$actions, timestamp = _ref.timestamp, shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function (action) {\n                return routes[action.type];\n            })\n                .forEach(function (action) {\n                return routes[action.type]({\n                    root: root,\n                    props: props,\n                    action: action.data,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize\n                });\n            });\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize\n                });\n            }\n        };\n    };\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n    var trim = function trim(str) {\n        return str.trim();\n    };\n    var toString = function toString(value) {\n        return '' + value;\n    };\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function (str) {\n            return str.length;\n        });\n    };\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n                ? toString(value).replace(/[a-z]+/gi, '')\n                : 0;\n    };\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n        return toInt(naturalFileSize);\n    };\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET'\n    };\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n        forin(methods, function (key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n        // special treatment for remove\n        api.remove = outline.remove || null;\n        // remove generic headers from api object\n        delete api.headers;\n        return api;\n    };\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null\n        };\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n        // overwrite\n        Object.assign(action, outline);\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1]\n            };\n        }\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n        return action;\n    };\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n    var isAPI = function isAPI(value) {\n        return (isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch));\n    };\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n        if (isNull(value)) {\n            return 'null';\n        }\n        if (isInt(value)) {\n            return 'int';\n        }\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n        if (isAPI(value)) {\n            return 'api';\n        }\n        return typeof value;\n    };\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            }\n            catch (e) {\n                return null;\n            }\n        }\n    };\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n        // get the type of the new value\n        var newValueType = getType(newValue);\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n            // what is the type now\n            newValueType = getType(convertedValue);\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            }\n            else {\n                newValue = convertedValue;\n            }\n        }\n        // assign new value\n        return newValue;\n    };\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            }\n        };\n    };\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function (prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n            // queue of items waiting to be processed\n            processingQueue: [],\n            // options\n            options: createOptions(options)\n        };\n    };\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function (part) {\n            return part.toLowerCase();\n        })\n            .join(separator);\n    };\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function (key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value\n                    });\n                }\n            };\n        });\n        return obj;\n    };\n    var createOptionActions = function createOptionActions(options) {\n        return function (dispatch, query, state) {\n            var obj = {};\n            forin(options, function (key) {\n                var name = fromCamels(key, '_').toUpperCase();\n                obj['SET_' + name] = function (action) {\n                    try {\n                        state.options[key] = action.value;\n                    }\n                    catch (e) { } // nope, failed\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n    var createOptionQueries = function createOptionQueries(options) {\n        return function (state) {\n            var obj = {};\n            forin(options, function (key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function (action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5\n    };\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substr(2, 9);\n    };\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function (obj) {\n                return typeof obj;\n            };\n        }\n        else {\n            _typeof = function (obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n        return _typeof(obj);\n    }\n    var REACT_ELEMENT_TYPE;\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' &&\n                    Symbol['for'] &&\n                    Symbol['for']('react.element')) ||\n                    0xeac7;\n        }\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0\n            };\n        }\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        }\n        else if (!props) {\n            props = defaultProps || {};\n        }\n        if (childrenLength === 1) {\n            props.children = children;\n        }\n        else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n            props.children = childArray;\n        }\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null\n        };\n    }\n    function _asyncIterator(iterable) {\n        var method;\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null)\n                    return method.call(iterable);\n            }\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null)\n                    return method.call(iterable);\n            }\n        }\n        throw new TypeError('Object is not async iterable');\n    }\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n    function _AsyncGenerator(gen) {\n        var front, back;\n        function send(key, arg) {\n            return new Promise(function (resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null\n                };\n                if (back) {\n                    back = back.next = request;\n                }\n                else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n                    if (wrappedAwait) {\n                        resume('next', arg);\n                        return;\n                    }\n                    settle(result.done ? 'return' : 'normal', arg);\n                }, function (err) {\n                    resume('throw', err);\n                });\n            }\n            catch (err) {\n                settle('throw', err);\n            }\n        }\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true\n                    });\n                    break;\n                case 'throw':\n                    front.reject(value);\n                    break;\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false\n                    });\n                    break;\n            }\n            front = front.next;\n            if (front) {\n                resume(front.key, front.arg);\n            }\n            else {\n                back = null;\n            }\n        }\n        this._invoke = send;\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n            return this;\n        };\n    }\n    _AsyncGenerator.prototype.next = function (arg) {\n        return this._invoke('next', arg);\n    };\n    _AsyncGenerator.prototype.throw = function (arg) {\n        return this._invoke('throw', arg);\n    };\n    _AsyncGenerator.prototype.return = function (arg) {\n        return this._invoke('return', arg);\n    };\n    function _wrapAsyncGenerator(fn) {\n        return function () {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {}, waiting = false;\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function (resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value)\n            };\n        }\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function () {\n                return this;\n            };\n        }\n        iter.next = function (value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n            return pump('next', value);\n        };\n        if (typeof inner.throw === 'function') {\n            iter.throw = function (value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n                return pump('throw', value);\n            };\n        }\n        if (typeof inner.return === 'function') {\n            iter.return = function (value) {\n                return pump('return', value);\n            };\n        }\n        return iter;\n    }\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        }\n        catch (error) {\n            reject(error);\n            return;\n        }\n        if (info.done) {\n            resolve(value);\n        }\n        else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n    function _asyncToGenerator(fn) {\n        return function () {\n            var self = this, args = arguments;\n            return new Promise(function (resolve, reject) {\n                var gen = fn.apply(self, args);\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n                _next(undefined);\n            });\n        };\n    }\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps)\n            _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc)\n                desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc)\n                    desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n        return obj;\n    }\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n        return obj;\n    }\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true\n            });\n        }\n        else {\n            obj[key] = value;\n        }\n        return obj;\n    }\n    function _extends() {\n        _extends =\n            Object.assign ||\n                function (target) {\n                    for (var i = 1; i < arguments.length; i++) {\n                        var source = arguments[i];\n                        for (var key in source) {\n                            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                                target[key] = source[key];\n                            }\n                        }\n                    }\n                    return target;\n                };\n        return _extends.apply(this, arguments);\n    }\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                }));\n            }\n            ownKeys.forEach(function (key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n        return target;\n    }\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function (sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n        return keys;\n    }\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            if (i % 2) {\n                ownKeys(source, true).forEach(function (key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            }\n            else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            }\n            else {\n                ownKeys(source).forEach(function (key) {\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n                });\n            }\n        }\n        return target;\n    }\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass)\n            _setPrototypeOf(subClass, superClass);\n    }\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                return o.__proto__ || Object.getPrototypeOf(o);\n            };\n        return _getPrototypeOf(o);\n    }\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n                function _setPrototypeOf(o, p) {\n                    o.__proto__ = p;\n                    return o;\n                };\n        return _setPrototypeOf(o, p);\n    }\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct)\n            return false;\n        if (Reflect.construct.sham)\n            return false;\n        if (typeof Proxy === 'function')\n            return true;\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n            return true;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        }\n        else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class)\n                    _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n        return _construct.apply(null, arguments);\n    }\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class))\n                return Class;\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class))\n                    return _cache.get(Class);\n                _cache.set(Class, Wrapper);\n            }\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n        return _wrapNativeSuper(Class);\n    }\n    function _instanceof(left, right) {\n        if (right != null &&\n            typeof Symbol !== 'undefined' &&\n            right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        }\n        else {\n            return left instanceof right;\n        }\n    }\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                default: obj\n            };\n    }\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        }\n        else {\n            var newObj = {};\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc = Object.defineProperty && Object.getOwnPropertyDescriptor\n                            ? Object.getOwnPropertyDescriptor(obj, key)\n                            : {};\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        }\n                        else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null)\n            throw new TypeError('Cannot destructure undefined');\n    }\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null)\n            return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0)\n                continue;\n            target[key] = source[key];\n        }\n        return target;\n    }\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null)\n            return {};\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n        var key, i;\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0)\n                    continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                    continue;\n                target[key] = source[key];\n            }\n        }\n        return target;\n    }\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n        return self;\n    }\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n        return _assertThisInitialized(self);\n    }\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null)\n                break;\n        }\n        return object;\n    }\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        }\n        else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n                if (!base)\n                    return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n                return desc.value;\n            };\n        }\n        return _get(target, property, receiver || target);\n    }\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        }\n        else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n                var desc;\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    }\n                    else if (!desc.writable) {\n                        return false;\n                    }\n                }\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                }\n                else {\n                    _defineProperty(receiver, property, value);\n                }\n                return true;\n            };\n        }\n        return set(target, property, value, receiver);\n    }\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n        return value;\n    }\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n        return Object.freeze(Object.defineProperties(strings, {\n            raw: {\n                value: Object.freeze(raw)\n            }\n        }));\n    }\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n        strings.raw = raw;\n        return strings;\n    }\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        }\n        else {\n            return val;\n        }\n    }\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n    var _temporalUndefined = {};\n    function _slicedToArray(arr, i) {\n        return (_arrayWithHoles(arr) ||\n            _iterableToArrayLimit(arr, i) ||\n            _nonIterableRest());\n    }\n    function _slicedToArrayLoose(arr, i) {\n        return (_arrayWithHoles(arr) ||\n            _iterableToArrayLimitLoose(arr, i) ||\n            _nonIterableRest());\n    }\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n    function _toConsumableArray(arr) {\n        return (_arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread());\n    }\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n                arr2[i] = arr[i];\n            return arr2;\n        }\n    }\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr))\n            return arr;\n    }\n    function _iterableToArray(iter) {\n        if (Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]')\n            return Array.from(iter);\n    }\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n                if (i && _arr.length === i)\n                    break;\n            }\n        }\n        catch (err) {\n            _d = true;\n            _e = err;\n        }\n        finally {\n            try {\n                if (!_n && _i['return'] != null)\n                    _i['return']();\n            }\n            finally {\n                if (_d)\n                    throw _e;\n            }\n        }\n        return _arr;\n    }\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n            _arr.push(_step.value);\n            if (i && _arr.length === i)\n                break;\n        }\n        return _arr;\n    }\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n    function _skipFirstGeneratorNext(fn) {\n        return function () {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null)\n            return input;\n        var prim = input[Symbol.toPrimitive];\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object')\n                return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n        return (hint === 'string' ? String : Number)(input);\n    }\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n        return typeof key === 'symbol' ? key : String(key);\n    }\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error('Decorating class property failed. Please ensure that ' +\n            'proposal-class-properties is enabled and set to use loose mode. ' +\n            'To use proposal-class-properties in spec mode with decorators, wait for ' +\n            'the next major version of decorators in stage 2.');\n    }\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor)\n            return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer\n                ? descriptor.initializer.call(context)\n                : void 0\n        });\n    }\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function (key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function (desc, decorator) {\n            return decorator(target, property, desc) || desc;\n        }, desc);\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n        return desc;\n    }\n    var id = 0;\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n        return receiver;\n    }\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n        return descriptor.value;\n    }\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        }\n        else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n            descriptor.value = value;\n        }\n        return value;\n    }\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n        var descriptor = privateMap.get(receiver);\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    }\n                };\n            }\n            return descriptor.__destrObj;\n        }\n        else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n            return descriptor;\n        }\n    }\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n        return descriptor.value;\n    }\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n        descriptor.value = value;\n        return value;\n    }\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n        return method;\n    }\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function () {\n            return api;\n        };\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function (O, elements) {\n                ['method', 'field'].forEach(function (kind) {\n                    elements.forEach(function (element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function (F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function (kind) {\n                    elements.forEach(function (element) {\n                        var placement = element.placement;\n                        if (element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function (receiver, element) {\n                var descriptor = element.descriptor;\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver)\n                    };\n                }\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function (elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: []\n                };\n                elements.forEach(function (element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function (element) {\n                    if (!_hasDecorators(element))\n                        return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers\n                    };\n                }\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function (element, placements, silent) {\n                var keys = placements[element.placement];\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n                keys.push(element.key);\n            },\n            decorateElement: function (element, placements) {\n                var extras = [];\n                var finishers = [];\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n                    var newExtras = elementFinisherExtras.extras;\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras\n                };\n            },\n            decorateConstructor: function (elements, decorators) {\n                var finishers = [];\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj);\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement) {\n                                    throw new TypeError('Duplicated element (' + elements[j].key + ')');\n                                }\n                            }\n                        }\n                    }\n                }\n                return {\n                    elements: elements,\n                    finishers: finishers\n                };\n            },\n            fromElementDescriptor: function (element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field')\n                    obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function (elementObjects) {\n                if (elementObjects === undefined)\n                    return;\n                return _toArray(elementObjects).map(function (elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function (elementObject) {\n                var kind = String(elementObject.kind);\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' +\n                        ' \"field\", but a decorator created an element descriptor with' +\n                        ' .kind \"' +\n                        kind +\n                        '\"');\n                }\n                var key = _toPropertyKey(elementObject.key);\n                var placement = String(elementObject.placement);\n                if (placement !== 'static' &&\n                    placement !== 'prototype' &&\n                    placement !== 'own') {\n                    throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' +\n                        ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                        ' with .placement \"' +\n                        placement +\n                        '\"');\n                }\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor)\n                };\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                }\n                else {\n                    this.disallowProperty(descriptor, 'get', 'The property descriptor of a field descriptor');\n                    this.disallowProperty(descriptor, 'set', 'The property descriptor of a field descriptor');\n                    this.disallowProperty(descriptor, 'value', 'The property descriptor of a field descriptor');\n                    element.initializer = elementObject.initializer;\n                }\n                return element;\n            },\n            toElementFinisherExtras: function (elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras\n                };\n            },\n            fromClassDescriptor: function (elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this)\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function (obj) {\n                var kind = String(obj.kind);\n                if (kind !== 'class') {\n                    throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                        ' created a class descriptor with .kind \"' +\n                        kind +\n                        '\"');\n                }\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher\n                };\n            },\n            runClassFinishers: function (constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n                        constructor = newConstructor;\n                    }\n                }\n                return constructor;\n            },\n            disallowProperty: function (obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            }\n        };\n        return api;\n    }\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n        var descriptor;\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false\n            };\n        }\n        else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false\n            };\n        }\n        else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false\n            };\n        }\n        else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true\n            };\n        }\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static\n                ? 'static'\n                : def.kind === 'field'\n                    ? 'own'\n                    : 'prototype',\n            descriptor: descriptor\n        };\n        if (def.decorators)\n            element.decorators = def.decorators;\n        if (def.kind === 'field')\n            element.initializer = def.value;\n        return element;\n    }\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        }\n        else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n        var isSameElement = function (other) {\n            return (other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement);\n        };\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n            if (element.kind === 'method' &&\n                (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) ||\n                    _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError('Duplicated methods (' + element.key + \") can't be decorated.\");\n                    }\n                    other.descriptor = element.descriptor;\n                }\n                else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" +\n                                'the same property (' +\n                                element.key +\n                                ').');\n                        }\n                        other.decorators = element.decorators;\n                    }\n                    _coalesceGetterSetter(element, other);\n                }\n            }\n            else {\n                newElements.push(element);\n            }\n        }\n        return newElements;\n    }\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n    function _isDataDescriptor(desc) {\n        return (desc !== undefined &&\n            !(desc.value === undefined && desc.writable === undefined));\n    }\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n        return value;\n    }\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n        return fn;\n    }\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function (re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n        var _RegExp = _wrapNativeSuper(RegExp);\n        var _super = RegExp.prototype;\n        var _groups = new WeakMap();\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n            _groups.set(_this, groups);\n            return _this;\n        }\n        _inherits(BabelRegExp, _RegExp);\n        BabelRegExp.prototype.exec = function (str) {\n            var result = _super.exec.call(this, str);\n            if (result)\n                result.groups = buildGroups(result, this);\n            return result;\n        };\n        BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n                return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n                    return '$' + groups[name];\n                }));\n            }\n            else if (typeof substitution === 'function') {\n                var _this = this;\n                return _super[Symbol.replace].call(this, str, function () {\n                    var args = [];\n                    args.push.apply(args, arguments);\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n                    return substitution.apply(this, args);\n                });\n            }\n            else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n            return Object.keys(g).reduce(function (groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n        return _wrapRegExp.apply(this, arguments);\n    }\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        }\n        else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        }\n        else {\n            setTimeout(cb, 0);\n        }\n    };\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(listeners, listeners.findIndex(function (listener) {\n                return listener.event === event && (listener.cb === cb || !cb);\n            }));\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function (listener) {\n                return listener.event === event;\n            })\n                .map(function (listener) {\n                return listener.cb;\n            })\n                .forEach(function (cb) {\n                return run(function () {\n                    return cb.apply(void 0, _toConsumableArray(args));\n                }, sync);\n            });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    }\n                });\n            },\n            off: off\n        };\n    };\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(src, target, excluded) {\n        Object.getOwnPropertyNames(src)\n            .filter(function (property) {\n            return !excluded.includes(property);\n        })\n            .forEach(function (key) {\n            return Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key));\n        });\n    };\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze'\n    ];\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function (item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8\n    };\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3\n    };\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex'\n    };\n    // all registered filters\n    var filters = [];\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function (resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function (f) {\n                return f.key === key;\n            })\n                .map(function (f) {\n                return f.cb;\n            });\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n            // chain filters\n            matchingFilters\n                .reduce(\n            // loop over promises passing value to next promise\n            function (current, next) {\n                return current.then(function (value) {\n                    return next(value, utils);\n                });\n            }, \n            // call initial filter, will return a promise\n            initialFilter(value, utils)\n            // all executed\n            )\n                .then(function (value) {\n                return resolve(value);\n            })\n                .catch(function (error) {\n                return reject(error);\n            });\n        });\n    };\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function (f) {\n            return f.key === key;\n        })\n            .map(function (f) {\n            return f.cb(value, utils);\n        });\n    };\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n    var setOptions = function setOptions(opts) {\n        forin(opts, function (key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(value, defaultOptions[key][0], defaultOptions[key][1]);\n        });\n    };\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n        // input field name to use\n        name: ['filepond', Type.STRING],\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n        // is the field required\n        required: [false, Type.BOOLEAN],\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN],\n        allowBrowse: [true, Type.BOOLEAN],\n        allowPaste: [true, Type.BOOLEAN],\n        allowMultiple: [false, Type.BOOLEAN],\n        allowReplace: [true, Type.BOOLEAN],\n        allowRevert: [true, Type.BOOLEAN],\n        allowRemove: [true, Type.BOOLEAN],\n        allowProcess: [true, Type.BOOLEAN],\n        allowReorder: [false, Type.BOOLEAN],\n        allowDirectoriesOnly: [false, Type.BOOLEAN],\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN],\n        // Input requirements\n        maxFiles: [null, Type.INT],\n        checkValidity: [false, Type.BOOLEAN],\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN],\n        itemInsertLocation: ['before', Type.STRING],\n        itemInsertInterval: [75, Type.INT],\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN],\n        dropOnElement: [true, Type.BOOLEAN],\n        dropValidation: [false, Type.BOOLEAN],\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN],\n        maxParallelUploads: [2, Type.INT],\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN],\n        chunkForce: [false, Type.BOOLEAN],\n        chunkSize: [5000000, Type.INT],\n        chunkRetryDelays: [[500, 1000, 3000], Type.Array],\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n        // Labels and status messages\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING],\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING],\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING\n        ],\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING],\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING],\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING\n        ],\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING\n        ],\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING\n        ],\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING\n        ],\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING\n        ],\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n        // styles\n        stylePanelLayout: [null, Type.STRING],\n        stylePanelAspectRatio: [null, Type.STRING],\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n        // custom initial files array\n        files: [[], Type.ARRAY],\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY]\n    };\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n        // assume query is a string and return item by id\n        return (items.find(function (item) {\n            return item.id === query;\n        }) || null);\n    };\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function (item) {\n            return !item.archived;\n        });\n    };\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1,\n        ERROR: 2,\n        BUSY: 3,\n        READY: 4 // all files uploaded\n    };\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR\n    ];\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT\n    ];\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY, ERROR = Status.ERROR, BUSY = Status.BUSY, IDLE = Status.IDLE, READY = Status.READY;\n                if (items.length === 0)\n                    return EMPTY;\n                if (items.some(isItemInErrorState))\n                    return ERROR;\n                if (items.some(isItemInBusyState))\n                    return BUSY;\n                if (items.some(isItemInReadyState))\n                    return READY;\n                return IDLE;\n            },\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function (key) {\n                    return /^style/.test(key);\n                })\n                    .map(function (option) {\n                    return {\n                        name: option,\n                        value: state.options[option]\n                    };\n                });\n            },\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function (item) {\n                    return item.status === status;\n                });\n            },\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n            IS_ASYNC: function IS_ASYNC() {\n                return (isObject(state.options.server) &&\n                    (isObject(state.options.server.process) ||\n                        isFunction(state.options.server.process)));\n            }\n        };\n    };\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n        // no more room for another file\n        return false;\n    };\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n        // add item to array\n        arrayInsert(items, index, item);\n        // expose\n        return item;\n    };\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(str);\n    };\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return url\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n        // get subtype\n        var subtype = type.split('/').pop();\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n            // return subtype\n            return subtype;\n        }\n        return '';\n    };\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined\n            ? arguments[0]\n            : new Date();\n        return (date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00'));\n    };\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file = typeof type === 'string'\n            ? blob.slice(0, blob.size, type)\n            : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n        // copy relative path\n        if (blob._relativePath)\n            file._relativePath = blob._relativePath;\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        }\n        else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n        return file;\n    };\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n                window.WebKitBlobBuilder ||\n                window.MozBlobBuilder ||\n                window.MSBlobBuilder);\n    };\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n        return new Blob([arrayBuffer], {\n            type: mimeType\n        });\n    };\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(byteString, mimeType) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n        return createBlob(ab, mimeType);\n    };\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header))\n            return null;\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function (name) {\n            return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n        })\n            .filter(function (name) {\n            return name.length;\n        });\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null\n        };\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var header = _step.value;\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        }\n        catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        }\n        finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            }\n            finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n        return info;\n    };\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null\n        };\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n            api.fire('init', source);\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            }\n            else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            }\n            else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            }\n            else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400\n                });\n                return;\n            }\n            // set request start\n            state.timestamp = Date.now();\n            // load file\n            state.request = fetchFn(url, function (response) {\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n                // done!\n                state.complete = true;\n                // turn blob response into a file\n                if (response instanceof Blob) {\n                    response = getFileFromBlob(response, response.name || getFilenameFromURL(url));\n                }\n                api.fire('load', \n                // if has received blob, we go with blob, if no response, we return null\n                response instanceof Blob\n                    ? response\n                    : response\n                        ? response.body\n                        : null);\n            }, function (error) {\n                api.fire('error', typeof error === 'string'\n                    ? {\n                        type: 'error',\n                        code: 0,\n                        body: error\n                    }\n                    : error);\n            }, function (computable, current, total) {\n                // collected some meta data already\n                if (total) {\n                    state.size = total;\n                }\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n                // if we can't compute progress, we're not going to fire progress events\n                if (!computable) {\n                    state.progress = null;\n                    return;\n                }\n                // update progress percentage\n                state.progress = current / total;\n                // expose\n                api.fire('progress', state.progress);\n            }, function () {\n                api.fire('abort');\n            }, function (response) {\n                var fileinfo = getFileInfoFromHeaders(typeof response === 'string' ? response : response.headers);\n                api.fire('meta', {\n                    size: state.size || fileinfo.size,\n                    filename: fileinfo.name,\n                    source: fileinfo.source\n                });\n            });\n        };\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress,\n            abort: abort,\n            load: load // start load\n        });\n        return api;\n    };\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() { },\n            onprogress: function onprogress() { },\n            onload: function onload() { },\n            ontimeout: function ontimeout() { },\n            onerror: function onerror() { },\n            onabort: function onabort() { },\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            }\n        };\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n        // set default options\n        options = Object.assign({\n            method: 'POST',\n            headers: {},\n            withCredentials: false\n        }, options);\n        // encode url\n        url = encodeURI(url);\n        // if method is GET, add any received data to url\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                    url +\n                    encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n        // create request\n        var xhr = new XMLHttpRequest();\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function (e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function () {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n            if (headersReceived) {\n                return;\n            }\n            headersReceived = true;\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n        // load successful\n        xhr.onload = function () {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            }\n            else {\n                api.onerror(xhr);\n            }\n        };\n        // error during load\n        xhr.onerror = function () {\n            return api.onerror(xhr);\n        };\n        // request aborted\n        xhr.onabort = function () {\n            aborted = true;\n            api.onabort();\n        };\n        // request timeout\n        xhr.ontimeout = function () {\n            return api.ontimeout(xhr);\n        };\n        // open up open up!\n        xhr.open(options.method, url, true);\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n        // add headers\n        Object.keys(options.headers).forEach(function (key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n        // let's send our data\n        xhr.send(data);\n        return api;\n    };\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers\n        };\n    };\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function (xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function (part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n        // set onload hanlder\n        var onload = action.onload ||\n            function (res) {\n                return res;\n            };\n        var onerror = action.onerror ||\n            function (res) {\n                return null;\n            };\n        // internal handler\n        return function (url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(url, buildURL(apiUrl, action.url), Object.assign({}, action, {\n                responseType: 'blob'\n            }));\n            request.onload = function (xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n                // create response\n                load(createResponse('load', xhr.status, action.method === 'HEAD'\n                    ? null\n                    : getFileFromBlob(onload(xhr.response), filename), headers));\n            };\n            request.onerror = function (xhr) {\n                error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            };\n            request.onheaders = function (xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n            // should return request\n            return request;\n        };\n    };\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4\n    };\n    /*\n                                                         function signature:\n                                                           (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                             return {\n                                                             abort:() => {}\n                                                           }\n                                                         }\n                                                         */\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId, chunkServer = options.chunkServer, chunkSize = options.chunkSize, chunkRetryDelays = options.chunkRetryDelays;\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false\n        };\n        // set onload handlers\n        var ondata = action.ondata ||\n            function (fd) {\n                return fd;\n            };\n        var onload = action.onload ||\n            function (xhr, method) {\n                return method === 'HEAD'\n                    ? xhr.getResponseHeader('Upload-Offset')\n                    : xhr.response;\n            };\n        var onerror = action.onerror ||\n            function (res) {\n                return null;\n            };\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n            // add metadata under same name\n            if (isObject(metadata))\n                formData.append(name, JSON.stringify(metadata));\n            var headers = typeof action.headers === 'function'\n                ? action.headers(file, metadata)\n                : Object.assign({}, action.headers, {\n                    'Upload-Length': file.size\n                });\n            var requestParams = Object.assign({}, action, {\n                headers: headers\n            });\n            // send request object\n            var request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);\n            request.onload = function (xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n            request.onerror = function (xhr) {\n                return error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            };\n            request.ontimeout = createTimeoutResponse(error);\n        };\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n            var headers = typeof action.headers === 'function'\n                ? action.headers(state.serverId)\n                : Object.assign({}, action.headers);\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD'\n            };\n            var request = sendRequest(null, requestUrl, requestParams);\n            request.onload = function (xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n            request.onerror = function (xhr) {\n                return error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            };\n            request.ontimeout = createTimeoutResponse(error);\n        };\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null\n            };\n        }\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return (chunk.status === ChunkStatus.QUEUED ||\n                chunk.status === ChunkStatus.ERROR);\n        };\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted)\n                return;\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (chunks.every(function (chunk) {\n                    return chunk.status === ChunkStatus.COMPLETE;\n                })) {\n                    completeProcessingChunks();\n                }\n                // no chunk to handle\n                return;\n            }\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n            // allow parsing of formdata\n            var ondata = chunkServer.ondata ||\n                function (fd) {\n                    return fd;\n                };\n            var onerror = chunkServer.onerror ||\n                function (res) {\n                    return null;\n                };\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n            var headers = typeof chunkServer.headers === 'function'\n                ? chunkServer.headers(chunk)\n                : Object.assign({}, chunkServer.headers, {\n                    'Content-Type': 'application/offset+octet-stream',\n                    'Upload-Offset': chunk.offset,\n                    'Upload-Length': file.size,\n                    'Upload-Name': file.name\n                });\n            var request = (chunk.request = sendRequest(ondata(chunk.data), requestUrl, Object.assign({}, chunkServer, {\n                headers: headers\n            })));\n            request.onload = function () {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n                // remove request reference\n                chunk.request = null;\n                // start processing more chunks\n                processChunks();\n            };\n            request.onprogress = function (lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n            request.onerror = function (xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n                }\n            };\n            request.ontimeout = function (xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n            request.onabort = function () {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0)\n                return false;\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function () {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n            // we're going to retry\n            return true;\n        };\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function (p, chunk) {\n                if (p === null || chunk.progress === null)\n                    return null;\n                return p + chunk.progress;\n            }, 0);\n            // can't compute progress\n            if (totalBytesTransfered === null)\n                return progress(false, 0, 0);\n            // calculate progress values\n            var totalSize = chunks.reduce(function (total, chunk) {\n                return total + chunk.size;\n            }, 0);\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function (chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1)\n                return;\n            processChunk();\n        };\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function (chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function (serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted)\n                    return;\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        }\n        else {\n            requestTransferOffset(function (offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted)\n                    return;\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function (chunk) {\n                    return chunk.offset < offset;\n                })\n                    .forEach(function (chunk) {\n                    chunk.status = ChunkStatus.COMPLETE;\n                    chunk.progress = chunk.size;\n                });\n                // continue processing\n                processChunks();\n            });\n        }\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            }\n        };\n    };\n    /*\n                                                                 function signature:\n                                                                   (file, metadata, load, error, progress, abort) => {\n                                                                     return {\n                                                                     abort:() => {}\n                                                                   }\n                                                                 }\n                                                                 */\n    var createFileProcessorFunction = function createFileProcessorFunction(apiUrl, action, name, options) {\n        return function (file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file)\n                return;\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options);\n            // set handlers\n            var ondata = action.ondata ||\n                function (fd) {\n                    return fd;\n                };\n            var onload = action.onload ||\n                function (res) {\n                    return res;\n                };\n            var onerror = action.onerror ||\n                function (res) {\n                    return null;\n                };\n            // create formdata object\n            var formData = new FormData();\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function (item) {\n                formData.append(name, item.file, item.name === null\n                    ? item.file.name\n                    : '' + item.name + item.file.name);\n            });\n            // send request object\n            var request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), action);\n            request.onload = function (xhr) {\n                load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n            };\n            request.onerror = function (xhr) {\n                error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            };\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n            // should return request\n            return request;\n        };\n    };\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function () {\n                for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n        // no action supplied\n        if (!action || !isString(action.url))\n            return null;\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n    /*\n                                                        function signature:\n                                                        (uniqueFileId, load, error) => { }\n                                                        */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function (uniqueFileId, load) {\n                return load();\n            };\n        }\n        // set onload hanlder\n        var onload = action.onload ||\n            function (res) {\n                return res;\n            };\n        var onerror = action.onerror ||\n            function (res) {\n                return null;\n            };\n        // internal implementation\n        return function (uniqueFileId, load, error) {\n            var request = sendRequest(uniqueFileId, apiUrl + action.url, action // contains method, headers and withCredentials properties\n            );\n            request.onload = function (xhr) {\n                load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n            };\n            request.onerror = function (xhr) {\n                error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            };\n            request.ontimeout = createTimeoutResponse(error);\n            return request;\n        };\n    };\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n            cb(progress);\n            timeout = setTimeout(tick, delay);\n        };\n        tick();\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            }\n        };\n    };\n    var createFileProcessor = function createFileProcessor(processFn) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null\n        };\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null)\n                    return;\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n            // let's start processing\n            api.fire('start');\n            // set request start\n            state.timestamp = Date.now();\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(function (progress) {\n                state.perceivedProgress = progress;\n                state.perceivedDuration = Date.now() - state.timestamp;\n                progressFn();\n                // if fake progress is done, and a response has been received,\n                // and we've not yet called the complete method\n                if (state.response &&\n                    state.perceivedProgress === 1 &&\n                    !state.complete) {\n                    // we done!\n                    completeFn();\n                }\n            }, \n            // random delay as in a list of files you start noticing\n            // files uploading at the exact same speed\n            getRandomNumber(750, 1500));\n            // remember request so we can abort it later\n            state.request = processFn(\n            // the file to process\n            file, \n            // the metadata to send along\n            metadata, \n            // callbacks (load, error, progress, abort, transfer)\n            // load expects the body to be a server id if\n            // you want to make use of revert\n            function (response) {\n                // we put the response in state so we can access\n                // it outside of this method\n                state.response = isObject(response)\n                    ? response\n                    : {\n                        type: 'load',\n                        code: 200,\n                        body: '' + response,\n                        headers: {}\n                    };\n                // update duration\n                state.duration = Date.now() - state.timestamp;\n                // force progress to 1 as we're now done\n                state.progress = 1;\n                // actual load is done let's share results\n                api.fire('load', state.response.body);\n                // we are really done\n                // if perceived progress is 1 ( wait for perceived progress to complete )\n                // or if server does not support progress ( null )\n                if (state.perceivedProgress === 1) {\n                    completeFn();\n                }\n            }, \n            // error is expected to be an object with type, code, body\n            function (error) {\n                // cancel updater\n                state.perceivedPerformanceUpdater.clear();\n                // update others about this error\n                api.fire('error', isObject(error)\n                    ? error\n                    : {\n                        type: 'error',\n                        code: 0,\n                        body: '' + error\n                    });\n            }, \n            // actual processing progress\n            function (computable, current, total) {\n                // update actual duration\n                state.duration = Date.now() - state.timestamp;\n                // update actual progress\n                state.progress = computable ? current / total : null;\n                progressFn();\n            }, \n            // abort does not expect a value\n            function () {\n                // stop updater\n                state.perceivedPerformanceUpdater.clear();\n                // fire the abort event so we can switch visuals\n                api.fire('abort', state.response ? state.response.body : null);\n            }, \n            // register the id for this transfer\n            function (transferId) {\n                api.fire('transfer', transferId);\n            });\n        };\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request)\n                return;\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n            // abort actual request\n            if (state.request.abort)\n                state.request.abort();\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n        var getProgress = function getProgress() {\n            return state.progress\n                ? Math.min(state.progress, state.perceivedProgress)\n                : null;\n        };\n        var getDuration = function getDuration() {\n            return Math.min(state.duration, state.perceivedDuration);\n        };\n        var api = Object.assign({}, on(), {\n            process: process,\n            abort: abort,\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset\n        });\n        return api;\n    };\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substr(0, name.lastIndexOf('.')) || name;\n    };\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        }\n        else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        }\n        else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2]\n        };\n    };\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src))\n            return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key))\n                continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n            // if is frozen, no longer fires events\n            frozen: false,\n            // removed from view\n            released: false,\n            // original source\n            source: null,\n            // file model reference\n            file: file,\n            // id of file on server\n            serverFileReference: serverFileReference,\n            // id of file transfer on server\n            transferId: null,\n            // is aborted\n            processingAborted: false,\n            // current item status\n            status: serverFileReference\n                ? ItemStatus.PROCESSING_COMPLETE\n                : ItemStatus.INIT,\n            // active processes\n            activeLoader: null,\n            activeProcessor: null\n        };\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen)\n                return;\n            for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n            // source is known\n            api.fireSync('init');\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n            // starts loading\n            loader.on('init', function () {\n                fire('load-init');\n            });\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function (meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n                // set name of file stub\n                state.file.filename = meta.filename;\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n                // size has been updated\n                fire('load-meta');\n            });\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function (progress) {\n                setStatus(ItemStatus.LOADING);\n                fire('load-progress', progress);\n            });\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function (error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n                fire('load-request-error', error);\n            });\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function () {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n            // done loading\n            loader.on('load', function (file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    }\n                    else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n                    fire('load');\n                };\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n            // set loader source data\n            loader.setSource(source);\n            // set as active loader\n            state.activeLoader = loader;\n            // load the source data\n            loader.load();\n        };\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function () {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n            // setup processor\n            processor.on('load', function (serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n            // register transfer id\n            processor.on('transfer', function (transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n            processor.on('load-perceived', function (serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n            processor.on('start', function () {\n                fire('process-start');\n            });\n            processor.on('error', function (error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n            processor.on('abort', function (serverFileReference) {\n                state.activeProcessor = null;\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n            processor.on('progress', function (progress) {\n                fire('process-progress', progress);\n            });\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived)\n                    return;\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n            // something went wrong during transform phase\n            var error = console.error;\n            // start processing the file\n            onprocess(state.file, success, error);\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function (resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n                    resolve();\n                    return;\n                }\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n                state.activeProcessor.abort();\n            });\n        };\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function (resolve, reject) {\n                // cannot revert without a server id for this process\n                if (state.serverFileReference === null) {\n                    resolve();\n                    return;\n                }\n                // revert the upload (fire and forget)\n                revertFileUpload(state.serverFileReference, function () {\n                    // reset file server id as now it's no available on the server\n                    state.serverFileReference = null;\n                    resolve();\n                }, function (error) {\n                    // don't set error state when reverting is optional, it will always resolve\n                    if (!forceRevert) {\n                        resolve();\n                        return;\n                    }\n                    // oh no errors\n                    setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                    fire('process-revert-error');\n                    reject(error);\n                });\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function (key) {\n                return (data = data[key]);\n            });\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value))\n                return;\n            // update value\n            data[last] = value;\n            // don't fire update\n            if (silent)\n                return;\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root]\n            });\n        };\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n        var api = Object.assign({\n            id: {\n                get: function get() {\n                    return id;\n                }\n            },\n            origin: {\n                get: function get() {\n                    return origin;\n                }\n            },\n            serverId: {\n                get: function get() {\n                    return state.serverFileReference;\n                }\n            },\n            transferId: {\n                get: function get() {\n                    return state.transferId;\n                }\n            },\n            status: {\n                get: function get() {\n                    return state.status;\n                }\n            },\n            filename: {\n                get: function get() {\n                    return state.file.name;\n                }\n            },\n            filenameWithoutExtension: {\n                get: function get() {\n                    return getFilenameWithoutExtension(state.file.name);\n                }\n            },\n            fileExtension: { get: getFileExtension },\n            fileType: { get: getFileType },\n            fileSize: { get: getFileSize },\n            file: { get: getFile },\n            relativePath: {\n                get: function get() {\n                    return state.file._relativePath;\n                }\n            },\n            source: {\n                get: function get() {\n                    return state.source;\n                }\n            },\n            getMetadata: getMetadata,\n            setMetadata: function setMetadata(key, value, silent) {\n                if (isObject(key)) {\n                    var data = key;\n                    Object.keys(data).forEach(function (key) {\n                        _setMetadata(key, data[key], value);\n                    });\n                    return key;\n                }\n                _setMetadata(key, value, silent);\n                return value;\n            },\n            extend: function extend(name, handler) {\n                return (itemAPI[name] = handler);\n            },\n            abortLoad: abortLoad,\n            retryLoad: retryLoad,\n            requestProcessing: requestProcessing,\n            abortProcessing: abortProcessing,\n            load: load,\n            process: process,\n            revert: revert\n        }, on(), {\n            freeze: function freeze() {\n                return (state.frozen = true);\n            },\n            release: function release() {\n                return (state.released = true);\n            },\n            released: {\n                get: function get() {\n                    return state.released;\n                }\n            },\n            archive: function archive() {\n                return (state.archived = true);\n            },\n            archived: {\n                get: function get() {\n                    return state.archived;\n                }\n            }\n        });\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n        return itemAPI;\n    };\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n        // return item by id (or -1 if not found)\n        return items.findIndex(function (item) {\n            return item.id === query;\n        });\n    };\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob'\n        });\n        request.onload = function (xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n            // create response\n            load(createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers));\n        };\n        request.onerror = function (xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n        request.onheaders = function (xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n        // should return request\n        return request;\n    };\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n    var isExternalURL = function isExternalURL(url) {\n        return ((url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url));\n    };\n    var dynamicLabel = function dynamicLabel(label) {\n        return function () {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function () {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n    var optionalPromise = function optionalPromise(fn) {\n        for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function (resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n            var result = fn.apply(void 0, params);\n            if (result == null) {\n                return resolve(true);\n            }\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function (a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function () {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query, _ref$success = _ref.success, success = _ref$success === void 0 ? function () { } : _ref$success, _ref$failure = _ref.failure, failure = _ref$failure === void 0 ? function () { } : _ref$failure, options = _objectWithoutProperties(_ref, [\n                'query',\n                'success',\n                'failure'\n            ]);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null\n                });\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function (item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value, value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function (file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options\n                    };\n                });\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n                activeItems.forEach(function (item) {\n                    // if item not is in new value, remove\n                    if (!files.find(function (file) {\n                        return file.source === item.source || file.source === item.file;\n                    })) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function (file, index) {\n                    // if file is already in list\n                    if (activeItems.find(function (item) {\n                        return item.source === file.source || item.file === file.source;\n                    }))\n                        return;\n                    // not in list, add\n                    dispatch('ADD_ITEM', Object.assign({}, file, {\n                        interactionMethod: InteractionMethod.NONE,\n                        index: index\n                    }));\n                });\n            },\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id, action = _ref3.action;\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function () {\n                    var item = getItemById(state.items, id);\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action\n                        }).then(function (shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n                            if (!shouldPrepareOutput)\n                                return;\n                            dispatch('REQUEST_PREPARE_OUTPUT', {\n                                query: id,\n                                item: item,\n                                success: function success(file) {\n                                    dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                }\n                            }, true);\n                        });\n                        return;\n                    }\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function () {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n                    var revert = function revert(doUpload) {\n                        item\n                            .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n                            .then(doUpload ? upload : function () { })\n                            .catch(function () { });\n                    };\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function () { });\n                    };\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query, index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item)\n                    return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index)\n                    return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS')\n                });\n            },\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items, index = _ref6.index, interactionMethod = _ref6.interactionMethod, _ref6$success = _ref6.success, success = _ref6$success === void 0 ? function () { } : _ref6$success, _ref6$failure = _ref6.failure, failure = _ref6$failure === void 0 ? function () { } : _ref6$failure;\n                var currentIndex = index;\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n                var promises = validItems.map(function (source) {\n                    return new Promise(function (resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {}\n                        });\n                    });\n                });\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source, _ref7$index = _ref7.index, index = _ref7$index === void 0 ? -1 : _ref7$index, interactionMethod = _ref7.interactionMethod, _ref7$success = _ref7.success, success = _ref7$success === void 0 ? function () { } : _ref7$success, _ref7$failure = _ref7.failure, failure = _ref7$failure === void 0 ? function () { } : _ref7$failure, _ref7$options = _ref7.options, options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null\n                    });\n                    return;\n                }\n                // filter out invalid file items, used to filter dropped directory contents\n                if (isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())) {\n                    // fail silently\n                    return;\n                }\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)) {\n                        var error = createResponse('warning', 0, 'Max files');\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error\n                        });\n                        failure({ error: error, file: null });\n                        return;\n                    }\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n                    // if has been processed remove it from the server as well\n                    if (_item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(createRevertFunction(state.options.server.url, state.options.server.revert), forceRevert)\n                            .then(function () {\n                            if (!forceRevert)\n                                return;\n                            // try to add now\n                            dispatch('ADD_ITEM', {\n                                source: source,\n                                index: index,\n                                interactionMethod: interactionMethod,\n                                success: success,\n                                failure: failure,\n                                options: options\n                            });\n                        })\n                            .catch(function () { }); // no need to handle this catch state for now\n                        if (forceRevert)\n                            return;\n                    }\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n                // where did the file originate\n                var origin = options.type === 'local'\n                    ? FileOrigin.LOCAL\n                    : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n                // create a new blank item\n                var item = createItem(\n                // where did this file come from\n                origin, \n                // an input file never has a server file reference\n                origin === FileOrigin.INPUT ? null : source, \n                // file mock data, if defined\n                options.file);\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function (key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, {\n                    query: query,\n                    dispatch: dispatch\n                });\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n                // add item to list\n                insertItem(state.items, item, index);\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n                // get a quick reference to the item id\n                var id = item.id;\n                // observe item events\n                item.on('init', function () {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n                item.on('load-init', function () {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n                item.on('load-meta', function () {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n                item.on('load-progress', function (progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', {\n                        id: id,\n                        progress: progress\n                    });\n                });\n                item.on('load-request-error', function (error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')'\n                            }\n                        });\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry\n                        }\n                    });\n                });\n                item.on('load-file-error', function (error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status\n                    });\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n                item.on('load-abort', function () {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n                item.on('load-skip', function () {\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success\n                        }\n                    });\n                });\n                item.on('load', function () {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id\n                            });\n                            return;\n                        }\n                        // now interested in metadata updates\n                        item.on('metadata-update', function (change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query\n                        }).then(function (shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success\n                                    }\n                                });\n                                listUpdated(dispatch, state);\n                            };\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch('REQUEST_PREPARE_OUTPUT', {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                        loadComplete();\n                                    }\n                                }, true);\n                                return;\n                            }\n                            loadComplete();\n                        });\n                    };\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, {\n                        query: query,\n                        dispatch: dispatch\n                    })\n                        .then(function () {\n                        optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(handleAdd);\n                    })\n                        .catch(function () {\n                        handleAdd(false);\n                    });\n                });\n                item.on('process-start', function () {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n                item.on('process-progress', function (progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', {\n                        id: id,\n                        progress: progress\n                    });\n                });\n                item.on('process-error', function (error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry\n                        }\n                    });\n                });\n                item.on('process-revert-error', function (error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry\n                        }\n                    });\n                });\n                item.on('process-complete', function (serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference\n                    });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n                item.on('process-abort', function () {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n                item.on('process-revert', function () {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod\n                });\n                listUpdated(dispatch, state);\n                // start loading the source\n                var _ref8 = state.options.server || {}, url = _ref8.url, load = _ref8.load, restore = _ref8.restore, fetch = _ref8.fetch;\n                item.load(source, \n                // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                createFileLoader(origin === FileOrigin.INPUT\n                    ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                        isString(source) && isExternalURL(source)\n                            ? fetch\n                                ? createFetchFunction(url, fetch)\n                                : fetchBlob // remote url\n                            : fetchBlob // try to fetch url\n                    : // limbo or local\n                        origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                ), \n                // called when the file is loaded so it can be piped through the filters\n                function (file, success, error) {\n                    // let's process the file\n                    applyFilterChain('LOAD_FILE', file, { query: query })\n                        .then(success)\n                        .catch(error);\n                });\n            },\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item, success = _ref9.success, _ref9$failure = _ref9.failure, failure = _ref9$failure === void 0 ? function () { } : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null\n                };\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived)\n                    return failure(err);\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, {\n                    query: query,\n                    item: item\n                }).then(function (result) {\n                    applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                        query: query,\n                        item: item\n                    }).then(function (result) {\n                        // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                        if (item.archived)\n                            return failure(err);\n                        // we done!\n                        success(result);\n                    });\n                });\n            },\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item, data = _ref10.data;\n                var success = data.success, source = data.source;\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source\n                });\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source\n                    });\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: source\n                    });\n                    return;\n                }\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function (item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function (item, _success, failure) {\n                dispatch('REQUEST_PREPARE_OUTPUT', {\n                    query: item.id,\n                    item: item,\n                    success: function success(file) {\n                        dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                        _success({\n                            file: item,\n                            output: file\n                        });\n                    },\n                    failure: failure\n                }, true);\n            }),\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function (item, success, failure) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing = \n                // waiting for something\n                item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure\n                        });\n                    };\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n                        item\n                            .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n                            .then(process)\n                            .catch(function () { }); // don't continue with processing if something went wrong\n                    }\n                    else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n                    return;\n                }\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED)\n                    return;\n                item.requestProcessing();\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n            PROCESS_ITEM: getItemByQueryFromState(state, function (item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING).length;\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure\n                    });\n                    // stop it!\n                    return;\n                }\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING)\n                    return;\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n                    // no items left\n                    if (!queueEntry)\n                        return;\n                    // get item reference\n                    var id = queueEntry.id, success = queueEntry.success, failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n                    // process queued item\n                    dispatch('PROCESS_ITEM', { query: id, success: success, failure: failure }, true);\n                };\n                // we done function\n                item.onOnce('process-complete', function () {\n                    success(createItemAPI(item));\n                    processNext();\n                    // All items processed? No errors?\n                    var allItemsProcessed = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE)\n                        .length === state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n                // we error function\n                item.onOnce('process-error', function (error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n                // start file processing\n                var options = state.options;\n                item.process(createFileProcessor(createProcessorFunction(options.server.url, options.server.process, options.name, {\n                    chunkTransferId: item.transferId,\n                    chunkServer: options.server.patch,\n                    chunkUploads: options.chunkUploads,\n                    chunkForce: options.chunkForce,\n                    chunkSize: options.chunkSize,\n                    chunkRetryDelays: options.chunkRetryDelays\n                })), \n                // called when the file is about to be processed so it can be piped through the transform filters\n                function (file, success, error) {\n                    // allow plugins to alter the file data\n                    applyFilterChain('PREPARE_OUTPUT', file, {\n                        query: query,\n                        item: item\n                    })\n                        .then(function (file) {\n                        dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                        success(file);\n                    })\n                        .catch(error);\n                });\n            }),\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function (item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function (shouldRemove) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n            RELEASE_ITEM: getItemByQueryFromState(state, function (item) {\n                item.release();\n            }),\n            REMOVE_ITEM: getItemByQueryFromState(state, function (item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n                // if this is a local file and the server.remove function has been configured, send source there so dev can remove file from server\n                var server = state.options.server;\n                if (item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n                    server.remove(item.source, function () {\n                        return removeFromView();\n                    }, function (status) {\n                        dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                            id: item.id,\n                            error: createResponse('error', 0, status, null),\n                            status: {\n                                main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                sub: state.options.labelTapToRetry\n                            }\n                        });\n                    });\n                }\n                else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (options.revert &&\n                        item.origin !== FileOrigin.LOCAL &&\n                        item.serverId !== null) {\n                        item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'));\n                    }\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function (item) {\n                item.abortLoad();\n            }),\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n                // abort\n                item.abortProcessing().then(function () {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert)\n                        return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n                item\n                    .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n                    .then(function () {\n                    var shouldRemove = state.options.instantUpload || isMockItem(item);\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                })\n                    .catch(function () { });\n            }),\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                forin(options, function (key, value) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value\n                    });\n                });\n            }\n        };\n    };\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        }\n        else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians)\n        };\n    };\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return [\n            'M',\n            start.x,\n            start.y,\n            'A',\n            radius,\n            radius,\n            0,\n            arcSweep,\n            0,\n            end.x,\n            end.y\n        ].join(' ');\n    };\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(x, y, radius, Math.min(0.9999, from) * 360, Math.min(0.9999, to) * 360, arcSweep);\n    };\n    var create = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round'\n        });\n        svg.appendChild(root.ref.path);\n        root.ref.svg = svg;\n        root.appendChild(svg);\n    };\n    var write = function write(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        }\n        else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10\n                }\n            }\n        }\n    });\n    var create$1 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        root.element.innerHTML =\n            (props.icon || '') + ('<span>' + props.label + '</span>');\n        props.isDisabled = false;\n    };\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        }\n        else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button'\n        },\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 }\n            },\n            listeners: true\n        },\n        create: create$1,\n        write: write$1\n    });\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' bytes';\n        }\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' KB';\n        }\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' MB';\n        }\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' GB';\n    };\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function (part) {\n            return part !== '0';\n        })\n            .join(separator);\n    };\n    var create$2 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        text(root.ref.fileSize, toNaturalFileSize(root.query('GET_ITEM_SIZE', props.id), '.', root.query('GET_FILE_SIZE_BASE')));\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root, props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            return;\n        }\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError\n        }),\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring'\n            }\n        }\n    });\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root, action = _ref2.action;\n        var title = action.progress === null\n            ? root.query('GET_LABEL_FILE_LOADING')\n            : root.query('GET_LABEL_FILE_LOADING') +\n                ' ' +\n                toPercentage(action.progress) +\n                '%';\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root, action = _ref3.action;\n        var title = action.progress === null\n            ? root.query('GET_LABEL_FILE_PROCESSING')\n            : root.query('GET_LABEL_FILE_PROCESSING') +\n                ' ' +\n                toPercentage(action.progress) +\n                '%';\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n    var error = function error(_ref8) {\n        var root = _ref8.root, action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error\n        }),\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring'\n            }\n        }\n    });\n    /**\n     * Button definitions for the file view\n     */\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION' // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION' // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n        }\n    };\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function (key) {\n        ButtonKeys.push(key);\n    });\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: {\n            opacity: 0,\n            align: getProcessIndicatorAlignment\n        },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 }\n    };\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset }\n    };\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 }\n    };\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 }\n        },\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 }\n        },\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 }\n        },\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: {\n                opacity: 1,\n                align: getRemoveIndicatorAligment\n            },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 }\n        },\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: {\n                opacity: 0,\n                align: getRemoveIndicatorAligment\n            },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset }\n        },\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset }\n        },\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 }\n        },\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset }\n        },\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 }\n        },\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 }\n        },\n        DID_REVERT_ITEM_PROCESSING: IdleStyle\n    };\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 }\n            }\n        }\n    });\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        var id = props.id;\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            }\n            else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            }\n            else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        }\n        else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n        var enabledButtons = buttonFilter\n            ? ButtonKeys.filter(buttonFilter)\n            : ButtonKeys.concat();\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            Buttons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            Buttons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR'\n            ].forEach(function (key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            Buttons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n        if (!allowRemove) {\n            Buttons['RemoveItem'].disabled = true;\n        }\n        // create the button views\n        forin(Buttons, function (key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0\n            });\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n            // add class\n            buttonView.element.classList.add(definition.className);\n            // handle interactions\n            buttonView.on('click', function (e) {\n                e.stopPropagation();\n                if (definition.disabled)\n                    return;\n                root.dispatch(definition.action, { query: id });\n            });\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(root.createChildView(processingCompleteIndicatorView));\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query('GET_STYLE_BUTTON_PROCESS_ITEM_POSITION');\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n            opacity: 0,\n            align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION')\n        }));\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n        var progressIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n            opacity: 0,\n            align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION')\n        }));\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root, actions = _ref3.actions, props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function (action) {\n            return /^DID_/.test(action.type);\n        })\n            .reverse()\n            .find(function (action) {\n            return StyleMap[action.type];\n        });\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function (name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n                // loop over all styles for this control\n                forin(defaultStyles, function (key, defaultValue) {\n                    var value = stylesToApply[name] &&\n                        typeof stylesToApply[name][key] !== 'undefined'\n                        ? stylesToApply[name][key]\n                        : defaultValue;\n                    root.ref.activeStyles.push({\n                        control: control,\n                        key: key,\n                        value: value\n                    });\n                });\n            });\n        }\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function (_ref4) {\n            var control = _ref4.control, key = _ref4.key, value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(_ref5) {\n            var root = _ref5.root, action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root, action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(_ref7) {\n            var root = _ref7.root, action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root, action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root, action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        }\n    });\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file'\n    });\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem\n        }),\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper'\n    });\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n    var create$6 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        [\n            {\n                name: 'top'\n            },\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null\n                },\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS\n                    },\n                    styles: ['translateY', 'scaleY']\n                }\n            },\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null\n                },\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS\n                    },\n                    styles: ['translateY']\n                }\n            }\n        ].forEach(function (section) {\n            createSection(root, section, props.name);\n        });\n        root.element.classList.add('filepond--' + props.name);\n        root.ref.scalable = null;\n    };\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true\n        });\n        var view = root.createChildView(viewConstructor, section.props);\n        root.ref[section.name] = root.appendChildView(view);\n    };\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root, props = _ref2.props;\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n        // no height, can't set\n        if (!props.height)\n            return;\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY =\n            (height - topRect.height - bottomRect.height) / 100;\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root, props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable']\n        }\n    });\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function (item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            }\n        };\n    };\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10\n    };\n    var ITEM_SCALE_SPRING = 'spring';\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle'\n    };\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // select\n        root.ref.handleClick = function (e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n        // file view\n        root.ref.container = root.appendChildView(root.createChildView(fileWrapper, { id: props.id }));\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n        // default start height\n        root.ref.panel.height = null;\n        // by default not marked for removal\n        props.markedForRemoval = false;\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER'))\n            return;\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n        var grab = function grab(e) {\n            if (!e.isPrimary)\n                return;\n            var removedActivateListener = false;\n            var origin = {\n                x: e.pageX,\n                y: e.pageY\n            };\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY\n            };\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY\n            };\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n            var drag = function drag(e) {\n                if (!e.isPrimary)\n                    return;\n                e.stopPropagation();\n                e.preventDefault();\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y\n                };\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist = props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n            var drop = function drop(e) {\n                if (!e.isPrimary)\n                    return;\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y\n                };\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function () {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n        root.element.addEventListener('pointerdown', grab);\n    };\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root, action = _ref2.action;\n            root.height = action.height;\n        }\n    });\n    var write$4 = createRoute({\n        DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n            var root = _ref3.root, props = _ref3.props;\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY\n            };\n        },\n        DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n            var root = _ref4.root;\n            root.element.dataset.dragState = 'drag';\n        },\n        DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n            var root = _ref5.root, props = _ref5.props;\n            props.dragOffset = null;\n            props.dragOrigin = null;\n            root.element.dataset.dragState = 'drop';\n        }\n    }, function (_ref6) {\n        var root = _ref6.root, actions = _ref6.actions, props = _ref6.props, shouldOptimize = _ref6.shouldOptimize;\n        if (root.element.dataset.dragState === 'drop') {\n            if (root.scaleX <= 1) {\n                root.element.dataset.dragState = 'idle';\n            }\n        }\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function (action) {\n            return /^DID_/.test(action.type);\n        })\n            .reverse()\n            .find(function (action) {\n            return StateMap[action.type];\n        });\n        // no need to set same state twice\n        if (action && action.type !== props.currentState) {\n            // set current state\n            props.currentState = action.type;\n            // set state\n            root.element.dataset.filepondItemState =\n                StateMap[props.currentState] || '';\n        }\n        // route actions\n        var aspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO') ||\n            root.query('GET_PANEL_ASPECT_RATIO');\n        if (!aspectRatio) {\n            route$1({ root: root, actions: actions, props: props });\n            if (!root.height && root.ref.container.rect.element.height > 0) {\n                root.height = root.ref.container.rect.element.height;\n            }\n        }\n        else if (!shouldOptimize) {\n            root.height = root.rect.element.width * aspectRatio;\n        }\n        // sync panel height with item height\n        if (shouldOptimize) {\n            root.ref.panel.height = null;\n        }\n        root.ref.panel.height = root.height;\n    });\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root, props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset'\n            ],\n            styles: [\n                'translateX',\n                'translateY',\n                'scaleX',\n                'scaleY',\n                'opacity',\n                'height'\n            ],\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 }\n            }\n        }\n    });\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView)\n            return;\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top)\n            return -1;\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = Math.round(horizontalSpace / itemWidth);\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                }\n                else if (_index !== l - 1) {\n                    last = _index;\n                }\n                else {\n                    last = null;\n                }\n            }\n        }\n        if (last !== null) {\n            return last;\n        }\n        return l;\n    };\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0)\n                this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0)\n                this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0)\n                this.height = height;\n            if (this.width === 0 || width === 0)\n                this.width = width;\n        }\n    };\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root, action = _ref2.action;\n        var id = action.id, index = action.index, interactionMethod = action.interactionMethod;\n        root.ref.addIndex = index;\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n        root.ref.lastItemSpanwDate = spawnDate;\n        root.appendChildView(root.createChildView(\n        // view type\n        item, \n        // props\n        {\n            spawnDate: spawnDate,\n            id: id,\n            opacity: opacity,\n            interactionMethod: interactionMethod\n        }), index);\n    };\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        }\n        else {\n            item.translateX = x;\n            item.translateY = y;\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        }\n        else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        }\n        else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        }\n        else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root, action = _ref3.action;\n        var id = action.id;\n        // get the view matching the given id\n        var view = root.childViews.find(function (child) {\n            return child.id === id;\n        });\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n    var getItemHeight = function getItemHeight(child) {\n        return (child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5);\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5);\n    };\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root, action = _ref4.action;\n        var id = action.id, dragState = action.dragState;\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n        // get the view matching the given id\n        var view = root.childViews.find(function (child) {\n            return child.id === id;\n        });\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n        // if no view found, exit\n        if (!view)\n            return;\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y\n            // get drag area dimensions\n        };\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems)\n            cols = numItems;\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0)\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function (child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function (item) {\n                    return visibleChildren.find(function (childView) {\n                        return childView.id === item.id;\n                    });\n                });\n                var currentIndex = children.findIndex(function (child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            }\n            // get new index\n        };\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n            if (currentIndex === undefined)\n                return;\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index\n            });\n        }\n    };\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem\n    });\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root, props = _ref5.props, actions = _ref5.actions, shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function (child) {\n            return child.rect.element.height;\n        });\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function (item) {\n            return visibleChildren.find(function (child) {\n                return child.id === item.id;\n            });\n        })\n            .filter(function (item) {\n            return item;\n        });\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n        if (children.length === 0)\n            return;\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = Math.round(horizontalSpace / itemWidth);\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n            children.forEach(function (child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    }\n                    else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    }\n                    else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    }\n                    else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    }\n                    else {\n                        dragOffset = 0;\n                    }\n                }\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n            children.forEach(function (child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n                prevX = offsetX;\n                prevY = offsetY;\n                if (child.markedForRemoval)\n                    return;\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function (action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n            // allow all other actions\n            return true;\n        });\n    };\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function (view) {\n                return view.markedForRemoval && view.opacity === 0 && view.resting;\n            })\n                .forEach(function (view) {\n                view._destroy();\n                root.removeChildView(view);\n            });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates']\n        }\n    });\n    var create$9 = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root, props = _ref2.props, action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM'))\n            return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top: action.position.scopeTop -\n                (root.rect.outer.top +\n                    root.rect.element.marginTop +\n                    root.rect.element.scrollTop)\n        };\n    };\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates\n    });\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root, props = _ref4.props, actions = _ref4.actions;\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring'\n            }\n        }\n    });\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        }\n        else {\n            element.removeAttribute(name);\n        }\n    };\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n        try {\n            // for modern browsers\n            input.value = '';\n        }\n        catch (err) { }\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            }\n            else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n    var create$a = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') }\n        });\n        toggleAllowMultiple({\n            root: root,\n            action: { value: root.query('GET_ALLOW_MULTIPLE') }\n        });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') }\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({\n            root: root,\n            action: { value: root.query('GET_REQUIRED') }\n        });\n        setCaptureMethod({\n            root: root,\n            action: { value: root.query('GET_CAPTURE_METHOD') }\n        });\n        // handle changes to the input field\n        root.ref.handleChange = function (e) {\n            if (!root.element.value) {\n                return;\n            }\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function (file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function () {\n                // load files\n                props.onload(files);\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root, action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE'))\n            return;\n        attrToggle(root.element, 'accept', !!action.value, action.value ? action.value.join(',') : '');\n    };\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root, action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root, action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root, action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root, action = _ref7.action;\n        attrToggle(root.element, 'capture', !!action.value, action.value === true ? '' : action.value);\n    };\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        }\n        else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity)\n            return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file'\n        },\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired\n        })\n    });\n    var Key = {\n        ENTER: 13,\n        SPACE: 32\n    };\n    var create$b = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n        // handle keys\n        root.ref.handleKeyDown = function (e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey)\n                return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n        root.ref.handleClick = function (e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n            // don't want to click twice\n            if (isLabelClick)\n                return;\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n        // update\n        updateLabelValue(label, props.caption);\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root, action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            }\n        }),\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring'\n            }\n        }\n    });\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 }\n            }\n        }\n    });\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n        root.ref.blob = root.appendChildView(root.createChildView(blob, {\n            opacity: 0,\n            scaleX: 2.5,\n            scaleY: 2.5,\n            translateX: centerX,\n            translateY: centerY\n        }));\n    };\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root, action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root, props = _ref5.props, actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob\n    });\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7\n    });\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function (item) {\n            if (!root.ref.fields[item.id])\n                return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root, action = _ref3.action;\n        var dataContainer = createElement$1('input');\n        dataContainer.type = 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root, action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field || action.serverFileReference === null)\n            return;\n        field.value = action.serverFileReference;\n    };\n    var didSetDisabled = function didSetDisabled(_ref5) {\n        var root = _ref5.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n    var didRemoveItem = function didRemoveItem(_ref6) {\n        var root = _ref6.root, action = _ref6.action;\n        var field = getField(root, action.id);\n        if (!field)\n            return;\n        if (field.parentNode)\n            field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n    var didDefineValue = function didDefineValue(_ref7) {\n        var root = _ref7.root, action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field)\n            return;\n        if (action.value === null) {\n            field.removeAttribute('value');\n        }\n        else {\n            field.value = action.value;\n        }\n        syncFieldPositionsWithItems(root);\n    };\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems\n    });\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true\n    });\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip'\n    };\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return ('image/' +\n                (extension === 'jpg'\n                    ? 'jpeg'\n                    : extension === 'svg'\n                        ? 'svg+xml'\n                        : extension));\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n        return map[extension] || '';\n    };\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function (resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files)\n            return dataTransfer.files.length > 0;\n        return false;\n    };\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function (resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items\n                ? Array.from(dataTransfer.items)\n                : [])\n                // only keep file system items (files and directories)\n                .filter(function (item) {\n                return isFileSystemItem(item);\n            })\n                // map each item to promise\n                .map(function (item) {\n                return getFilesFromItem(item);\n            });\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n            // done!\n            Promise.all(promisedFiles)\n                .then(function (returnedFileGroups) {\n                // flatten groups\n                var files = [];\n                returnedFileGroups.forEach(function (group) {\n                    files.push.apply(files, group);\n                });\n                // done (filter out empty files)!\n                resolve(files\n                    .filter(function (file) {\n                    return file;\n                })\n                    .map(function (file) {\n                    if (!file._relativePath)\n                        file._relativePath = file.webkitRelativePath;\n                    return file;\n                }));\n            })\n                .catch(console.error);\n        });\n    };\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function (resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n            resolve([item.getAsFile()]);\n        });\n    };\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function (resolve, reject) {\n            var files = [];\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n                var directoryReader = dirEntry.createReader();\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function (entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n                        entries.forEach(function (entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            }\n                            else {\n                                // read as file\n                                fileCounter++;\n                                entry.file(function (file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n                // read first batch of files\n                readBatch();\n            };\n            // go!\n            readEntries(entry);\n        });\n    };\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length)\n            return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length)\n            return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        }\n        catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n    var dragNDropObservers = [];\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY\n        };\n    };\n    var createDragNDropClient = function createDragNDropClient(element, scopeToObserve, filterElement) {\n        var observer = getDragNDropObserver(scopeToObserve);\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() { },\n            onenter: function onenter() { },\n            ondrag: function ondrag() { },\n            onexit: function onexit() { },\n            onload: function onload() { },\n            allowdrop: function allowdrop() { }\n        };\n        client.destroy = observer.addListener(client);\n        return client;\n    };\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function (item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop\n        };\n        var handlers = {};\n        forin(routes, function (event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n                // return removeListener function\n                return function () {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n                        forin(routes, function (event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            }\n        };\n        return observer;\n    };\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset\n        });\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n    var initialTarget = null;\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        }\n        catch (e) { }\n    };\n    var dragenter = function dragenter(root, clients) {\n        return function (e) {\n            e.preventDefault();\n            initialTarget = e.target;\n            clients.forEach(function (client) {\n                var element = client.element, onenter = client.onenter;\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n    var dragover = function dragover(root, clients) {\n        return function (e) {\n            e.preventDefault();\n            var dataTransfer = e.dataTransfer;\n            requestDataTransferItems(dataTransfer).then(function (items) {\n                var overDropTarget = false;\n                clients.some(function (client) {\n                    var filterElement = client.filterElement, element = client.element, onenter = client.onenter, onexit = client.onexit, ondrag = client.ondrag, allowdrop = client.allowdrop;\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n                        // dragging\n                        ondrag(eventPosition(e));\n                    }\n                    else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n    var drop = function drop(root, clients) {\n        return function (e) {\n            e.preventDefault();\n            var dataTransfer = e.dataTransfer;\n            requestDataTransferItems(dataTransfer).then(function (items) {\n                clients.forEach(function (client) {\n                    var filterElement = client.filterElement, element = client.element, ondrop = client.ondrop, onexit = client.onexit, allowdrop = client.allowdrop;\n                    client.state = null;\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element))\n                        return;\n                    // no transfer for this client\n                    if (!allowdrop(items))\n                        return onexit(eventPosition(e));\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n    var dragleave = function dragleave(root, clients) {\n        return function (e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n            clients.forEach(function (client) {\n                var onexit = client.onexit;\n                client.state = null;\n                onexit(eventPosition(e));\n            });\n        };\n    };\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage, requiresDropOnElement = options.requiresDropOnElement, _options$filterItems = options.filterItems, filterItems = _options$filterItems === void 0\n            ? function (items) {\n                return items;\n            }\n            : _options$filterItems;\n        // create a dnd client\n        var client = createDragNDropClient(scope, catchesDropsOnPage ? document.documentElement : scope, requiresDropOnElement);\n        // current client state\n        var lastState = '';\n        var currentState = '';\n        // determines if a file may be dropped\n        client.allowdrop = function (items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n            return validateItems(filterItems(items));\n        };\n        client.ondrop = function (position, items) {\n            var filteredItems = filterItems(items);\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n            currentState = 'drag-drop';\n            api.onload(filteredItems, position);\n        };\n        client.ondrag = function (position) {\n            api.ondrag(position);\n        };\n        client.onenter = function (position) {\n            currentState = 'drag-over';\n            api.ondragstart(position);\n        };\n        client.onexit = function (position) {\n            currentState = 'drag-exit';\n            api.ondragend(position);\n        };\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() { },\n            ondragstart: function ondragstart() { },\n            ondrag: function ondrag() { },\n            ondragend: function ondragend() { },\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            }\n        };\n        return api;\n    };\n    var listening = false;\n    var listeners$1 = [];\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n            if (!inScope)\n                return;\n        }\n        requestDataTransferItems(e.clipboardData).then(function (files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n            // notify listeners of received files\n            listeners$1.forEach(function (listener) {\n                return listener(files);\n            });\n        });\n    };\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n        // add initial listener\n        listeners$1.push(cb);\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() { }\n        };\n        listen(cb);\n        return api;\n    };\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n    var filenames = [];\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(root, label +\n            ' ' +\n            filename +\n            ', ' +\n            total +\n            ' ' +\n            (total === 1\n                ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                : root.query('GET_LABEL_FILE_COUNT_PLURAL')));\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function () {\n            clear$1(root);\n        }, 1500);\n    };\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root, action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function () {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n            filenames.length = 0;\n        }, 750);\n    };\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root, action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root, action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n        assist(root, filename + ' ' + label);\n    };\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root, action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n        assist(root, filename + ' ' + label);\n    };\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root, action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError\n        }),\n        tag: 'span',\n        name: 'assistant'\n    });\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function (sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n        return function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n            var dist = Date.now() - last;\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            }\n            else {\n                // go!\n                fn();\n            }\n        };\n    };\n    var MAX_FILES_LIMIT = 1000000;\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n    var create$e = function create(_ref) {\n        var root = _ref.root, props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function (name) {\n                return name.length;\n            })\n                .forEach(function (name) {\n                root.element.classList.add(name);\n            });\n        }\n        // Field label\n        root.ref.label = root.appendChildView(root.createChildView(dropLabel, Object.assign({}, props, {\n            translateY: null,\n            caption: root.query('GET_LABEL_IDLE')\n        })));\n        // List of items\n        root.ref.list = root.appendChildView(root.createChildView(listScroller, { translateY: null }));\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(root.createChildView(assistant, Object.assign({}, props)));\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n        // apply initial style properties\n        root\n            .query('GET_STYLES')\n            .filter(function (style) {\n            return !isEmpty(style.value);\n        })\n            .map(function (_ref2) {\n            var name = _ref2.name, value = _ref2.value;\n            root.element.dataset[name] = value;\n        });\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function () {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)')\n            .matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root, props = _ref3.props, actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n        // apply style properties\n        actions\n            .filter(function (action) {\n            return /^DID_SET_STYLE_/.test(action.type);\n        })\n            .filter(function (action) {\n            return !isEmpty(action.data.value);\n        })\n            .map(function (_ref4) {\n            var type = _ref4.type, data = _ref4.data;\n            var name = toCamels(type.substr(8).toLowerCase(), '_');\n            root.element.dataset[name] = data.value;\n            root.invalidateLayout();\n        });\n        if (root.rect.element.hidden)\n            return;\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref, hopper = _root$ref.hopper, label = _root$ref.label, list = _root$ref.list, panel = _root$ref.panel;\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem\n            ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT\n            : 1;\n        var atMaxCapacity = totalItems === maxItems;\n        // action used to add item\n        var addAction = actions.find(function (action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n            // hide label\n            label.opacity = 0;\n            if (isMultiItem) {\n                label.translateY = -40;\n            }\n            else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                }\n                else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                }\n                else {\n                    label.translateY = 30;\n                }\n            }\n        }\n        else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n        var listItemMargin = calculateListItemMargin(root);\n        var listHeight = calculateListHeight(root);\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n        var visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) -\n                listItemMargin.top;\n        if (aspectRatio) {\n            // fixed aspect ratio\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n            // available height for list\n            var listAvailableHeight = \n            // the height of the panel minus the label height\n            height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            }\n            else {\n                list.overflow = null;\n            }\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        }\n        else if (bounds.fixedHeight) {\n            // fixed height\n            // fix height of panel\n            panel.scalable = false;\n            // available height for list\n            var _listAvailableHeight = \n            // the height of the panel minus the label height\n            bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            }\n            else {\n                list.overflow = null;\n            }\n            // no need to set container bounds as these are handles by CSS fixed height\n        }\n        else if (bounds.cappedHeight) {\n            // max-height\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n            // available height for list\n            var _listAvailableHeight2 = \n            // the height of the panel minus the label height\n            panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight &&\n                listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            }\n            else {\n                list.overflow = null;\n            }\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(bounds.cappedHeight, boundsHeight - listItemMargin.top - listItemMargin.bottom);\n        }\n        else {\n            // flexible height\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform =\n                'translateY(' + panel.heightCurrent + 'px)';\n    };\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                top: item.rect.element.marginTop,\n                bottom: item.rect.element.marginBottom\n            }\n            : {\n                top: 0,\n                bottom: 0\n            };\n    };\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function (child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function (item) {\n            return visibleChildren.find(function (child) {\n                return child.id === item.id;\n            });\n        })\n            .filter(function (item) {\n            return item;\n        });\n        // no children, done!\n        if (children.length === 0)\n            return { visual: visual, bounds: bounds };\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function (child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = Math.round(horizontalSpace / itemWidth);\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function (item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n        return { visual: visual, bounds: bounds };\n    };\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight\n        };\n    };\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            return true;\n        }\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : allowReplace ? maxItems : 1;\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files')\n            });\n            return true;\n        }\n        return false;\n    };\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top: position.scopeTop -\n                (list.rect.outer.top +\n                    list.rect.element.marginTop +\n                    list.rect.element.scrollTop)\n        });\n    };\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(root.element, function (items) {\n                // allow quick validation of dropped items\n                var beforeDropFile = root.query('GET_BEFORE_DROP_FILE') ||\n                    function () {\n                        return true;\n                    };\n                // all items should be validated by all filters as valid\n                var dropValidation = root.query('GET_DROP_VALIDATION');\n                return dropValidation\n                    ? items.every(function (item) {\n                        return (applyFilters('ALLOW_HOPPER_ITEM', item, {\n                            query: root.query\n                        }).every(function (result) {\n                            return result === true;\n                        }) && beforeDropFile(item));\n                    })\n                    : true;\n            }, {\n                filterItems: function filterItems(items) {\n                    var ignoredFiles = root.query('GET_IGNORED_FILES');\n                    return items.filter(function (item) {\n                        if (isFile(item)) {\n                            return !ignoredFiles.includes(item.name.toLowerCase());\n                        }\n                        return true;\n                    });\n                },\n                catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT')\n            });\n            hopper.onload = function (items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function (child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function (item) {\n                    return visibleChildren.find(function (child) {\n                        return child.id === item.id;\n                    });\n                })\n                    .filter(function (item) {\n                    return item;\n                });\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function (queue) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue))\n                        return false;\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP\n                    });\n                });\n                root.dispatch('DID_DROP', { position: position });\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n            hopper.ondragstart = function (position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n            hopper.ondrag = debounce(function (position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n            hopper.ondragend = function (position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n            root.ref.hopper = hopper;\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        }\n        else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(root.createChildView(browser, Object.assign({}, props, {\n                onload: function onload(items) {\n                    applyFilterChain('ADD_ITEMS', items, {\n                        dispatch: root.dispatch\n                    }).then(function (queue) {\n                        // these files don't fit so stop here\n                        if (exceedsMaxFiles(root, queue))\n                            return false;\n                        // add items!\n                        root.dispatch('ADD_ITEMS', {\n                            items: queue,\n                            index: -1,\n                            interactionMethod: InteractionMethod.BROWSE\n                        });\n                    });\n                }\n            })), 0);\n        }\n        else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function (items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function (queue) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue))\n                        return false;\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE\n                    });\n                });\n            };\n        }\n        else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root, props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root, props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            }\n            else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        }\n    });\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height']\n        }\n    });\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n        // get default options\n        var defaultOptions = getOptions();\n        // create the data store, this will contain all our app info\n        var store = createStore(\n        // initial state (should be serializable)\n        createInitialState(defaultOptions), \n        // queries\n        [queries, createOptionQueries(defaultOptions)], \n        // action handlers\n        [actions, createOptionActions(defaultOptions)]);\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden)\n                return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function () {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n        var readWriteApi = {\n            // necessary for update loop\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n                    if (!isResizingHorizontally &&\n                        currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting)\n                    return;\n                // read view data\n                view._read();\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function (action) {\n                    return !/^SET_/.test(action.type);\n                });\n                // if was idling and no actions stop here\n                if (isResting && !actions.length)\n                    return;\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            }\n        };\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function (data) {\n                // create default event\n                var event = {\n                    type: name\n                };\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n                if (data.file) {\n                    event.output = data.file;\n                }\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                }\n                else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n                return event;\n            };\n        };\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n            DID_INIT: createEvent('init'),\n            DID_THROW_MAX_FILES: createEvent('warning'),\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n            DID_THROW_ITEM_REMOVE_ERROR: [\n                createEvent('error'),\n                createEvent('removefile')\n            ],\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n            DID_THROW_ITEM_PROCESSING_ERROR: [\n                createEvent('error'),\n                createEvent('processfile')\n            ],\n            DID_REMOVE_ITEM: createEvent('removefile'),\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n            DID_REORDER_ITEMS: createEvent('reorderfiles')\n        };\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(new CustomEvent('FilePond:' + event.type, {\n                // event info\n                detail: detail,\n                // event behaviour\n                bubbles: true,\n                cancelable: true,\n                composed: true // triggers listeners outside of shadow root\n            }));\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function (key) {\n                return !filtered.includes(key);\n            })\n                .forEach(function (key) {\n                return params.push(event[key]);\n            });\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length)\n                return;\n            actions\n                .filter(function (action) {\n                return eventRoutes[action.type];\n            })\n                .forEach(function (action) {\n                var routes = eventRoutes[action.type];\n                (Array.isArray(routes) ? routes : [routes]).forEach(function (route) {\n                    // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                    if (action.type === 'DID_INIT_ITEM') {\n                        exposeEvent(route(action.data));\n                    }\n                    else {\n                        setTimeout(function () {\n                            exposeEvent(route(action.data));\n                        }, 0);\n                    }\n                });\n            });\n        };\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function (resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    }\n                });\n            });\n        };\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function (resolve, reject) {\n                addFiles([{ source: source, options: options }], {\n                    index: options.index\n                })\n                    .then(function (items) {\n                    return resolve(items && items[0]);\n                })\n                    .catch(reject);\n            });\n        };\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n        var addFiles = function addFiles() {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function (resolve, reject) {\n                var sources = [];\n                var options = {};\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                }\n                else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' &&\n                        !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject\n                });\n            });\n        };\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n        var processFile = function processFile(query) {\n            return new Promise(function (resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    }\n                });\n            });\n        };\n        var prepareFiles = function prepareFiles() {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n        var processFiles = function processFiles() {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function (item) {\n                    return (!(item.status === ItemStatus.IDLE &&\n                        item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR);\n                });\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n        var removeFiles = function removeFiles() {\n            for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            }\n            else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n            var files = getFiles();\n            if (!queries.length)\n                return Promise.all(files.map(function (file) {\n                    return removeFile(file, options);\n                }));\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function (query) {\n                return isNumber(query)\n                    ? files[query]\n                        ? files[query].id\n                        : null\n                    : query;\n            })\n                .filter(function (query) {\n                return query;\n            });\n            return mappedQueries.map(function (q) {\n                return removeFile(q, options);\n            });\n        };\n        var exports = Object.assign({}, on(), {}, readWriteApi, {}, createOptionAPI(store, defaultOptions), {\n            /**\n             * Override options defined in options object\n             * @param options\n             */\n            setOptions: setOptions,\n            /**\n             * Load the given file\n             * @param source - the source of the file (either a File, base64 data uri or url)\n             * @param options - object, { index: 0 }\n             */\n            addFile: addFile,\n            /**\n             * Load the given files\n             * @param sources - the sources of the files to load\n             * @param options - object, { index: 0 }\n             */\n            addFiles: addFiles,\n            /**\n             * Returns the file objects matching the given query\n             * @param query { string, number, null }\n             */\n            getFile: getFile,\n            /**\n             * Upload file with given name\n             * @param query { string, number, null  }\n             */\n            processFile: processFile,\n            /**\n             * Request prepare output for file with given name\n             * @param query { string, number, null  }\n             */\n            prepareFile: prepareFile,\n            /**\n             * Removes a file by its name\n             * @param query { string, number, null  }\n             */\n            removeFile: removeFile,\n            /**\n             * Moves a file to a new location in the files list\n             */\n            moveFile: function moveFile(query, index) {\n                return store.dispatch('MOVE_ITEM', { query: query, index: index });\n            },\n            /**\n             * Returns all files (wrapped in public api)\n             */\n            getFiles: getFiles,\n            /**\n             * Starts uploading all files\n             */\n            processFiles: processFiles,\n            /**\n             * Clears all files from the files list\n             */\n            removeFiles: removeFiles,\n            /**\n             * Starts preparing output of all files\n             */\n            prepareFiles: prepareFiles,\n            /**\n             * Sort list of files\n             */\n            sort: function sort(compare) {\n                return store.dispatch('SORT', { compare: compare });\n            },\n            /**\n             * Browse the file system for a file\n             */\n            browse: function browse() {\n                // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                var input = view.element.querySelector('input[type=file]');\n                if (input) {\n                    input.click();\n                }\n            },\n            /**\n             * Destroys the app\n             */\n            destroy: function destroy() {\n                // request destruction\n                exports.fire('destroy', view.element);\n                // stop active processes (file uploads, fetches, stuff like that)\n                // loop over items and depending on states call abort for ongoing processes\n                store.dispatch('ABORT_ALL');\n                // destroy view\n                view._destroy();\n                // stop listening to resize\n                window.removeEventListener('resize', resizeHandler);\n                // stop listening to the visiblitychange event\n                document.removeEventListener('visibilitychange', visibilityHandler);\n                // dispatch destroy\n                store.dispatch('DID_DESTROY');\n            },\n            /**\n             * Inserts the plugin before the target element\n             */\n            insertBefore: function insertBefore$1(element) {\n                return insertBefore(view.element, element);\n            },\n            /**\n             * Inserts the plugin after the target element\n             */\n            insertAfter: function insertAfter$1(element) {\n                return insertAfter(view.element, element);\n            },\n            /**\n             * Appends the plugin to the target element\n             */\n            appendTo: function appendTo(element) {\n                return element.appendChild(view.element);\n            },\n            /**\n             * Replaces an element with the app\n             */\n            replaceElement: function replaceElement(element) {\n                // insert the app before the element\n                insertBefore(view.element, element);\n                // remove the original element\n                element.parentNode.removeChild(element);\n                // remember original element\n                originalElement = element;\n            },\n            /**\n             * Restores the original element\n             */\n            restoreElement: function restoreElement() {\n                if (!originalElement) {\n                    return; // no element to restore\n                }\n                // restore original element\n                insertAfter(originalElement, view.element);\n                // remove our element\n                view.element.parentNode.removeChild(view.element);\n                // remove reference\n                originalElement = null;\n            },\n            /**\n             * Returns true if the app root is attached to given element\n             * @param element\n             */\n            isAttachedTo: function isAttachedTo(element) {\n                return view.element === element || originalElement === element;\n            },\n            /**\n             * Returns the root element\n             */\n            element: {\n                get: function get() {\n                    return view.element;\n                }\n            },\n            /**\n             * Returns the current pond status\n             */\n            status: {\n                get: function get() {\n                    return store.query('GET_STATUS');\n                }\n            }\n        });\n        // Done!\n        store.dispatch('DID_INIT');\n        // create actual api object\n        return createObject(exports);\n    };\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function (key, value) {\n            defaultOptions[key] = value[0];\n        });\n        // set app options\n        var app = createApp(Object.assign({}, defaultOptions, {}, customOptions));\n        // return the plugin instance\n        return app;\n    };\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function (selector, mapping) {\n            forin(object, function (property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n                // tests if\n                var matches = selectorRegExp.test(property);\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function (index) {\n            attributes.push(node.attributes[index]);\n        });\n        var output = attributes\n            .filter(function (attribute) {\n            return attribute.name;\n        })\n            .reduce(function (obj, attribute) {\n            var value = attr(node, attribute.name);\n            obj[attributeNameToPropertyName(attribute.name)] =\n                value === attribute.name ? true : value;\n            return obj;\n        }, {});\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n        return output;\n    };\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process'\n                    },\n                    '^revert': {\n                        group: 'revert'\n                    },\n                    '^fetch': {\n                        group: 'fetch'\n                    },\n                    '^restore': {\n                        group: 'restore'\n                    },\n                    '^load': {\n                        group: 'load'\n                    }\n                }\n            },\n            // don't include in object\n            '^type$': false,\n            '^files$': false\n        };\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n        var attributeOptions = getAttributesAsObject(element.nodeName === 'FIELDSET'\n            ? element.querySelector('input[type=file]')\n            : element, attributeMapping);\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function (key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            }\n            else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(Array.from(element.querySelectorAll('input:not([type=file])')).map(function (input) {\n            return {\n                source: input.value,\n                options: {\n                    type: input.dataset.type\n                }\n            };\n        }));\n        // build plugin\n        var app = createAppObject(mergedOptions);\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function (file) {\n                app.addFile(file);\n            });\n        }\n        // replace the target element\n        app.replaceElement(element);\n        // expose\n        return app;\n    };\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n        return api;\n    };\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function (match, group) {\n            return replacements[group];\n        });\n    };\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript'\n        });\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n        return {\n            transfer: function transfer(message, cb) { },\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n                worker.onmessage = function (e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n                worker.postMessage({\n                    id: id,\n                    message: message\n                }, transferList);\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            }\n        };\n    };\n    var loadImage = function loadImage(url) {\n        return new Promise(function (resolve, reject) {\n            var img = new Image();\n            img.onload = function () {\n                resolve(img);\n            };\n            img.onerror = function (e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n        // remember this plugin\n        registeredPlugins.push(plugin);\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString\n            },\n            views: {\n                fileActionButton: fileActionButton\n            }\n        });\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return (Object.prototype.toString.call(window.operamini) === '[object OperaMini]');\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n    var supported = (function () {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported = \n        // Has to be a browser\n        isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n        return function () {\n            return isSupported;\n        };\n    })();\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: []\n    };\n    // plugin name\n    var name = 'filepond';\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() { };\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(function () {\n            state.apps.forEach(function (app) {\n                return app._read();\n            });\n        }, function (ts) {\n            state.apps.forEach(function (app) {\n                return app._write(ts);\n            });\n        });\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(new CustomEvent('FilePond:loaded', {\n                detail: {\n                    supported: supported,\n                    create: exports.create,\n                    destroy: exports.destroy,\n                    parse: exports.parse,\n                    find: exports.find,\n                    registerPlugin: exports.registerPlugin,\n                    setOptions: exports.setOptions\n                }\n            }));\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function () {\n                return dispatch();\n            }, 0);\n        }\n        else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function (key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n        exports.OptionTypes = {};\n        updateOptionTypes();\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function (app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n                // restore original dom element\n                app.restoreElement();\n                return true;\n            }\n            return false;\n        };\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function (newHook) {\n                return !state.apps.find(function (app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n            // create new instance for each hook\n            return newHooks.map(function (hook) {\n                return exports.create(hook);\n            });\n        };\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function (app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n                plugins[_key] = arguments[_key];\n            }\n            // register plugins\n            plugins.forEach(createAppPlugin);\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function (key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function (app) {\n                    app.setOptions(opts);\n                });\n                // override defaults\n                setOptions(opts);\n            }\n            // return new options\n            return exports.getOptions();\n        };\n    }\n    exports.supported = supported;\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n"],"mappings":"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","ignoreList":[]}