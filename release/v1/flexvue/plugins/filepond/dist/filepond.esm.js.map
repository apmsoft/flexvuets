{"version":3,"file":"filepond.esm.js","names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","isNode","value","HTMLElement","createStore","initialState","queries","actions","state","assign","actionQueue","dispatchQueue","getState","processActionQueue","queue","processDispatchQueue","forEach","type","data","dispatch","isBlocking","document","hidden","push","actionHandlers","query","str","args","queryHandles","api","action","defineProperty","obj","property","definition","forin","cb","key","createObject","attr","node","name","getAttribute","hasAttribute","setAttribute","ns","svgElements","isSVGElement","tag","includes","createElement","className","attributes","element","createElementNS","appendChild","parent","child","index","children","insertBefore","appendChildView","childViews","view","splice","removeChildView","parentNode","removeChild","IS_BROWSER","window","isBrowser","testElement","getChildCount","el","childNodes","getViewRect","elementRect","offset","scale","left","top","right","width","bottom","height","rect","inner","outer","filter","childView","isRectIgnored","map","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","Math","abs","spring","stiffness","damping","mass","target","resting","interpolate","ts","skipToEndState","f","onupdate","oncomplete","setTarget","set","get","easeLinear","easeInOutQuad","tween","duration","easing","delay","start","reverse","animator","createAnimator","category","def","props","addGetSet","keys","overwrite","Array","isArray","o","getter","setter","animations","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","animation","prop","write","destroy","addEvent","fn","addEventListener","removeEvent","removeEventListener","listeners","viewState","events","add","remove","on","off","findIndex","event","apis","isDefined","defaults","opacity","scaleX","scaleY","translateX","translateY","rotateX","rotateY","rotateZ","originX","originY","styles","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","perspective","transforms","elementCurrentStyle","style","cssText","Mixins","updateRect","layoutCalculated","paddingTop","parseInt","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","createView","read","create","filterFrameActionsForChild","didCreateView","didWriteView","ignoreRect","ignoreRectUpdate","mixins","store","getComputedStyle","frameRect","isResting","activeMixins","ref","writers","readers","destroyers","getElement","getChildViews","concat","getReference","createChildView","getStyle","_read","shouldUpdate","root","internalAPI","reader","_write","frameActions","shouldOptimize","writer","writerResting","timestamp","mixin","mixinResting","childResting","_destroy","destroyer","sharedAPIDefinition","internalAPIDefinition","is","needle","linkView","unlinkView","registerWriter","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","sort","a","b","mixinAPI","childCount","createPainter","fps","painter","interval","last","id","requestTick","cancelTick","setTimerType","setTimeout","tick","performance","now","clearTimeout","requestAnimationFrame","cancelAnimationFrame","delta","pause","createRoute","routes","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","toString","toArray","splitter","split","isBoolean","toBoolean","isString","toNumber","replace","toInt","toFloat","parseFloat","isInt","isFinite","floor","toBytes","base","naturalFileSize","test","isFunction","toFunctionReference","string","self","levels","level","shift","methods","process","patch","revert","fetch","restore","load","createServerAPI","outline","url","timeout","headers","createAction","method","withCredentials","onload","ondata","onerror","parts","header","toServerAPI","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","array","boolean","int","number","float","bytes","function","serverapi","object","JSON","parse","convertTo","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOption","currentValue","enumerable","createOptions","options","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","part","toLowerCase","join","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substr","arrayRemove","arr","run","sync","Promise","resolve","then","listener","fire","fireSync","onOnce","copyObjectPropertiesToObject","src","excluded","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","item","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","exec","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","Type","BOOLEAN","INT","NUMBER","STRING","ARRAY","OBJECT","FUNCTION","ACTION","SERVER_API","REGEX","filters","applyFilterChain","utils","reject","matchingFilters","initialFilter","reduce","current","next","catch","error","applyFilters","addFilter","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","setOptions","opts","disabled","required","captureMethod","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowMultiple","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","find","getNumericAspectRatioFromString","aspectRatio","getActiveItems","archived","Status","EMPTY","ERROR","BUSY","READY","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","status","isItemInBusyState","isItemInReadyState","GET_STATUS","some","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","filename","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","IS_ASYNC","hasRoomForItem","count","maxFileCount","limit","min","max","arrayInsert","insertItem","isBase64DataURI","getFilenameFromURL","pop","getExtensionFromFilename","guesstimateExtension","subtype","leftPad","padding","slice","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","extension","file","size","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","mimeType","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","match","getTranfserIdFromHeader","getFileInfoFromHeaders","info","source","rows","createFileLoader","fetchFn","complete","progress","request","getProgress","abort","File","loadURL","body","code","response","computable","total","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","send","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","res","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","every","processChunks","updateTotalProgress","retryProcessChunk","totalBytesTransfered","totalSize","totalProcessing","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","reset","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","isFile","deepCloneObject","v","createItem","origin","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","success","result","retryLoad","abortLoad","processor","onprocess","console","requestProcessing","abortProcessing","revertFileUpload","setMetadata","silent","getMetadata","filenameWithoutExtension","fileExtension","fileType","relativePath","extend","handler","itemAPI","freeze","release","archive","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","location","protocol","isExternalURL","href","dynamicLabel","label","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_a","failure","ABORT_ALL","DID_SET_FILES","activeItems","interactionMethod","DID_UPDATE_ITEM_METADATA","shouldPrepareOutput","doUpload","MOVE_ITEM","currentIndex","SORT","ADD_ITEMS","insertLocation","totalItems","isValidFile","validItems","promises","all","ADD_ITEM","mainStatus","main","sub","handleAdd","shouldAdd","change","loadComplete","REQUEST_PREPARE_OUTPUT","err","COMPLETE_LOAD_ITEM","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","output","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","itemReference","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","formatFilename","createElement$1","tagName","text","textNode","createTextNode","nodeValue","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","x","cos","y","sin","describeArc","startAngle","endAngle","arcSweep","end","percentageArc","from","to","spin","svg","path","align","dataset","ringStrokeWidth","ringFrom","ringTo","coordinates","progressIndicator","create$1","innerHTML","icon","isDisabled","write$1","shouldDisable","removeAttribute","fileActionButton","toNaturalFileSize","round","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_LOAD_ITEM","DID_UPDATE_ITEM_META","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_INVALID","toPercentage","create$3","didSetItemLoadProgress","title","didSetItemProcessProgress","didRequestItemProcessing","didAbortItemProcessing","didCompleteItemProcessing","fileStatus","DID_REVERT_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_COMPLETE_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getLoadIndicatorAlignment","getProcessIndicatorAlignment","getRemoveIndicatorAligment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","DID_START_ITEM_PROCESSING","processingCompleteIndicatorView","create$4","isAsync","alignRemoveItemButton","buttonFilter","enabledButtons","buttonView","classList","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","route","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","create$5","didLoadItem","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","write$3","topRect","bottomRect","center","panel","heightCurrent","createDragHelper","itemIds","prevIndex","undefined","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","container","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","dist","drop","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemIndexByPosition","positionInView","horizontalSpace","l","itemRect","itemHorizontalMargin","itemWidth","itemsPerRow","childMid","itemVerticalMargin","itemHeight","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","getHeight","setHeight","val","getWidth","setWidth","setDimensions","create$8","lastItemSpanwDate","addItemView","addIndex","spawnDate","cooldown","moveItem","vx","vy","introItemView","removeItemView","getItemHeight","getItemWidth","dragItem","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","getGridIndex","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","route$2","DID_ADD_ITEM","DID_REMOVE_ITEM","write$5","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","filterSetItemActions","list","create$9","overflowing","storeDragCoordinates","scopeLeft","scopeTop","clearDragCoordinates","route$3","DID_DRAG","DID_END_DRAG","write$6","overflow","newHeight","listScroller","attrToggle","enabledValue","resetFileInput","input","form","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","shouldCheckValidity","setCustomValidity","updateFieldValidityStatus","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","isActivationKey","keyCode","click","isLabelClick","contains","updateLabelValue","caption","clickable","querySelector","dropLabel","DID_SET_LABEL_IDLE","addBlob","moveBlob","hideBlob","explodeBlob","write$7","route$4","DID_DROP","drip","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","didAddItem","dataContainer","didLoadItem$1","field","didSetDisabled","didRemoveItem","didDefineValue","write$8","DID_DEFINE_VALUE","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","images","text$1","zip","epub","guesstimateMimeType","requestDataTransferItems","dataTransfer","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","apply","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","observer","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","point","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","filterItems","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","listen","unlisten","createPaster","create$d","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","message","textContent","clear$1","listModified","isUsingFilePond","itemAdded","itemRemoved","itemProcessed","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","debounce","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","hasCredits","frag","tabindex","rel","write$9","route$5","calculateRootBoundingBoxHeight","hopper","isMultiItem","maxItems","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","fixedHeight","cappedHeight","isCappedHeight","panelHeight","itemMargin","transform","scrollList","itemList","newItem","removedItem","verticalItemCount","ceil","measureHeight","maxHeight","exceedsMaxFiles","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_PREPARE_OUTPUT","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","detail","pond","exports","dispatchEvent","CustomEvent","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","removeFiles","mappedQueries","q","moveFile","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","createApp$1","PRIVATE_METHODS","createAppAPI","replaceInString","replacements","createWorker","workerBlob","workerURL","URL","createObjectURL","worker","Worker","post","transferList","onmessage","postMessage","terminate","revokeObjectURL","loadImage","img","Image","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","plugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","navigator","userAgent","supported","isSupported","apps","Status$1","FileStatus","FileOrigin$1","OptionTypes","create$f","registerPlugin","getOptions$1","setOptions$1","updateOptionTypes","hook","indexToRemove","context","matchedHooks","newHooks","newHook","plugins"],"sources":["filepond.esm.js"],"sourcesContent":["/*!\n * FilePond 4.25.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable */\nconst isNode = value => value instanceof HTMLElement;\nconst createStore = (initialState, queries = [], actions = []) => {\n    // internal state\n    const state = Object.assign({}, initialState);\n    // contains all actions for next frame, is clear when actions are requested\n    const actionQueue = [];\n    const dispatchQueue = [];\n    // returns a duplicate of the current state\n    const getState = () => (Object.assign({}, state));\n    // returns a duplicate of the actions array and clears the actions array\n    const processActionQueue = () => {\n        // create copy of actions queue\n        const queue = [...actionQueue];\n        // clear actions queue (we don't want no double actions)\n        actionQueue.length = 0;\n        return queue;\n    };\n    // processes actions that might block the main UI thread\n    const processDispatchQueue = () => {\n        // create copy of actions queue\n        const queue = [...dispatchQueue];\n        // clear actions queue (we don't want no double actions)\n        dispatchQueue.length = 0;\n        // now dispatch these actions\n        queue.forEach(({ type, data }) => {\n            dispatch(type, data);\n        });\n    };\n    // adds a new action, calls its handler and\n    const dispatch = (type, data, isBlocking) => {\n        // is blocking action (should never block if document is hidden)\n        if (isBlocking && !document.hidden) {\n            dispatchQueue.push({ type, data });\n            return;\n        }\n        // if this action has a handler, handle the action\n        if (actionHandlers[type]) {\n            actionHandlers[type](data);\n        }\n        // now add action\n        actionQueue.push({\n            type,\n            data\n        });\n    };\n    const query = (str, ...args) => queryHandles[str] ? queryHandles[str](...args) : null;\n    const api = {\n        getState,\n        processActionQueue,\n        processDispatchQueue,\n        dispatch,\n        query\n    };\n    let queryHandles = {};\n    queries.forEach(query => {\n        queryHandles = Object.assign(Object.assign({}, query(state)), queryHandles);\n    });\n    let actionHandlers = {};\n    actions.forEach(action => {\n        actionHandlers = Object.assign(Object.assign({}, action(dispatch, query, state)), actionHandlers);\n    });\n    return api;\n};\nconst defineProperty = (obj, property, definition) => {\n    if (typeof definition === 'function') {\n        obj[property] = definition;\n        return;\n    }\n    Object.defineProperty(obj, property, Object.assign({}, definition));\n};\nconst forin = (obj, cb) => {\n    for (const key in obj) {\n        if (!obj.hasOwnProperty(key)) {\n            continue;\n        }\n        cb(key, obj[key]);\n    }\n};\nconst createObject = definition => {\n    const obj = {};\n    forin(definition, property => {\n        defineProperty(obj, property, definition[property]);\n    });\n    return obj;\n};\nconst attr = (node, name, value = null) => {\n    if (value === null) {\n        return node.getAttribute(name) || node.hasAttribute(name);\n    }\n    node.setAttribute(name, value);\n};\nconst ns = 'http://www.w3.org/2000/svg';\nconst svgElements = ['svg', 'path']; // only svg elements used\nconst isSVGElement = tag => svgElements.includes(tag);\nconst createElement = (tag, className, attributes = {}) => {\n    if (typeof className === 'object') {\n        attributes = className;\n        className = null;\n    }\n    const element = isSVGElement(tag)\n        ? document.createElementNS(ns, tag)\n        : document.createElement(tag);\n    if (className) {\n        if (isSVGElement(tag)) {\n            attr(element, 'class', className);\n        }\n        else {\n            element.className = className;\n        }\n    }\n    forin(attributes, (name, value) => {\n        attr(element, name, value);\n    });\n    return element;\n};\nconst appendChild = parent => (child, index) => {\n    if (typeof index !== 'undefined' && parent.children[index]) {\n        parent.insertBefore(child, parent.children[index]);\n    }\n    else {\n        parent.appendChild(child);\n    }\n};\nconst appendChildView = (parent, childViews) => (view, index) => {\n    if (typeof index !== 'undefined') {\n        childViews.splice(index, 0, view);\n    }\n    else {\n        childViews.push(view);\n    }\n    return view;\n};\nconst removeChildView = (parent, childViews) => view => {\n    // remove from child views\n    childViews.splice(childViews.indexOf(view), 1);\n    // remove the element\n    if (view.element.parentNode) {\n        parent.removeChild(view.element);\n    }\n    return view;\n};\nconst IS_BROWSER = (() => typeof window !== 'undefined' && typeof window.document !== 'undefined')();\nconst isBrowser = () => IS_BROWSER;\nconst testElement = isBrowser() ? createElement('svg') : {};\nconst getChildCount = 'children' in testElement\n    ? el => el.children.length\n    : el => el.childNodes.length;\nconst getViewRect = (elementRect, childViews, offset, scale) => {\n    const left = offset[0] || elementRect.left;\n    const top = offset[1] || elementRect.top;\n    const right = left + elementRect.width;\n    const bottom = top + elementRect.height * (scale[1] || 1);\n    const rect = {\n        // the rectangle of the element itself\n        element: Object.assign({}, elementRect),\n        // the rectangle of the element expanded to contain its children, does not include any margins\n        inner: {\n            left: elementRect.left,\n            top: elementRect.top,\n            right: elementRect.right,\n            bottom: elementRect.bottom\n        },\n        // the rectangle of the element expanded to contain its children including own margin and child margins\n        // margins will be added after we've recalculated the size\n        outer: {\n            left,\n            top,\n            right,\n            bottom\n        }\n    };\n    // expand rect to fit all child rectangles\n    childViews\n        .filter(childView => !childView.isRectIgnored())\n        .map(childView => childView.rect)\n        .forEach(childViewRect => {\n        expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n        expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n    });\n    // calculate inner width and height\n    calculateRectSize(rect.inner);\n    // append additional margin (top and left margins are included in top and left automatically)\n    rect.outer.bottom += rect.element.marginBottom;\n    rect.outer.right += rect.element.marginRight;\n    // calculate outer width and height\n    calculateRectSize(rect.outer);\n    return rect;\n};\nconst expandRect = (parent, child) => {\n    // adjust for parent offset\n    child.top += parent.top;\n    child.right += parent.left;\n    child.bottom += parent.top;\n    child.left += parent.left;\n    if (child.bottom > parent.bottom) {\n        parent.bottom = child.bottom;\n    }\n    if (child.right > parent.right) {\n        parent.right = child.right;\n    }\n};\nconst calculateRectSize = rect => {\n    rect.width = rect.right - rect.left;\n    rect.height = rect.bottom - rect.top;\n};\nconst isNumber = value => typeof value === 'number';\n/**\n * Determines if position is at destination\n * @param position\n * @param destination\n * @param velocity\n * @param errorMargin\n * @returns {boolean}\n */\nconst thereYet = (position, destination, velocity, errorMargin = 0.001) => {\n    return (Math.abs(position - destination) < errorMargin &&\n        Math.abs(velocity) < errorMargin);\n};\n/**\n * Spring animation\n */\nconst spring = \n// default options\n({ stiffness = 0.5, damping = 0.75, mass = 10 } = {}) => {\n    let target = null;\n    let position = null;\n    let velocity = 0;\n    let resting = false;\n    // updates spring state\n    const interpolate = (ts, skipToEndState) => {\n        // in rest, don't animate\n        if (resting)\n            return;\n        // need at least a target or position to do springy things\n        if (!(isNumber(target) && isNumber(position))) {\n            resting = true;\n            velocity = 0;\n            return;\n        }\n        // calculate spring force\n        const f = -(position - target) * stiffness;\n        // update velocity by adding force based on mass\n        velocity += f / mass;\n        // update position by adding velocity\n        position += velocity;\n        // slow down based on amount of damping\n        velocity *= damping;\n        // we've arrived if we're near target and our velocity is near zero\n        if (thereYet(position, target, velocity) || skipToEndState) {\n            position = target;\n            velocity = 0;\n            resting = true;\n            // we done\n            api.onupdate(position);\n            api.oncomplete(position);\n        }\n        else {\n            // progress update\n            api.onupdate(position);\n        }\n    };\n    /**\n     * Set new target value\n     * @param value\n     */\n    const setTarget = value => {\n        // if currently has no position, set target and position to this value\n        if (isNumber(value) && !isNumber(position)) {\n            position = value;\n        }\n        // next target value will not be animated to\n        if (target === null) {\n            target = value;\n            position = value;\n        }\n        // let start moving to target\n        target = value;\n        // already at target\n        if (position === target || typeof target === 'undefined') {\n            // now resting as target is current position, stop moving\n            resting = true;\n            velocity = 0;\n            // done!\n            api.onupdate(position);\n            api.oncomplete(position);\n            return;\n        }\n        resting = false;\n    };\n    // need 'api' to call onupdate callback\n    const api = createObject({\n        interpolate,\n        target: {\n            set: setTarget,\n            get: () => target\n        },\n        resting: {\n            get: () => resting\n        },\n        onupdate: value => { },\n        oncomplete: value => { }\n    });\n    return api;\n};\nconst easeLinear = t => t;\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\nconst tween = \n// default values\n({ duration = 500, easing = easeInOutQuad, delay = 0 } = {}) => {\n    let start = null;\n    let t;\n    let p;\n    let resting = true;\n    let reverse = false;\n    let target = null;\n    const interpolate = (ts, skipToEndState) => {\n        if (resting || target === null)\n            return;\n        if (start === null) {\n            start = ts;\n        }\n        if (ts - start < delay)\n            return;\n        t = ts - start - delay;\n        if (t >= duration || skipToEndState) {\n            t = 1;\n            p = reverse ? 0 : 1;\n            api.onupdate(p * target);\n            api.oncomplete(p * target);\n            resting = true;\n        }\n        else {\n            p = t / duration;\n            api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n        }\n    };\n    // need 'api' to call onupdate callback\n    const api = createObject({\n        interpolate,\n        target: {\n            get: () => (reverse ? 0 : target),\n            set: value => {\n                // is initial value\n                if (target === null) {\n                    target = value;\n                    api.onupdate(value);\n                    api.oncomplete(value);\n                    return;\n                }\n                // want to tween to a smaller value and have a current value\n                if (value < target) {\n                    target = 1;\n                    reverse = true;\n                }\n                else {\n                    // not tweening to a smaller value\n                    reverse = false;\n                    target = value;\n                }\n                // let's go!\n                resting = false;\n                start = null;\n            }\n        },\n        resting: {\n            get: () => resting\n        },\n        onupdate: value => { },\n        oncomplete: value => { }\n    });\n    return api;\n};\nconst animator = {\n    spring,\n    tween\n};\n/*\n { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n { translation: { type: 'spring', ... }, ... }\n { translation: { x: { type: 'spring', ... } } }\n*/\nconst createAnimator = (definition, category, property) => {\n    // default is single definition\n    // we check if transform is set, if so, we check if property is set\n    const def = definition[category] && typeof definition[category][property] === 'object'\n        ? definition[category][property]\n        : definition[category] || definition;\n    const type = typeof def === 'string' ? def : def.type;\n    const props = typeof def === 'object' ? Object.assign({}, def) : {};\n    return animator[type] ? animator[type](props) : null;\n};\nconst addGetSet = (keys, obj, props, overwrite = false) => {\n    obj = Array.isArray(obj) ? obj : [obj];\n    obj.forEach(o => {\n        keys.forEach(key => {\n            let name = key;\n            let getter = () => props[key];\n            let setter = value => (props[key] = value);\n            if (typeof key === 'object') {\n                name = key.key;\n                getter = key.getter || getter;\n                setter = key.setter || setter;\n            }\n            if (o[name] && !overwrite) {\n                return;\n            }\n            o[name] = {\n                get: getter,\n                set: setter\n            };\n        });\n    });\n};\n// add to state,\n// add getters and setters to internal and external api (if not set)\n// setup animators\nconst animations = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI }) => {\n    // initial properties\n    const initialProps = Object.assign({}, viewProps);\n    // list of all active animations\n    const animations = [];\n    // setup animators\n    forin(mixinConfig, (property, animation) => {\n        const animator = createAnimator(animation);\n        if (!animator) {\n            return;\n        }\n        // when the animator updates, update the view state value\n        animator.onupdate = value => {\n            viewProps[property] = value;\n        };\n        // set animator target\n        animator.target = initialProps[property];\n        // when value is set, set the animator target value\n        const prop = {\n            key: property,\n            setter: value => {\n                // if already at target, we done!\n                if (animator.target === value) {\n                    return;\n                }\n                animator.target = value;\n            },\n            getter: () => viewProps[property]\n        };\n        // add getters and setters\n        addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n        // add it to the list for easy updating from the _write method\n        animations.push(animator);\n    });\n    // expose internal write api\n    return {\n        write: ts => {\n            let skipToEndState = document.hidden;\n            let resting = true;\n            animations.forEach(animation => {\n                if (!animation.resting)\n                    resting = false;\n                animation.interpolate(ts, skipToEndState);\n            });\n            return resting;\n        },\n        destroy: () => { }\n    };\n};\nconst addEvent = element => (type, fn) => {\n    element.addEventListener(type, fn);\n};\nconst removeEvent = element => (type, fn) => {\n    element.removeEventListener(type, fn);\n};\n// mixin\nconst listeners = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI, viewState, view }) => {\n    const events = [];\n    const add = addEvent(view.element);\n    const remove = removeEvent(view.element);\n    viewExternalAPI.on = (type, fn) => {\n        events.push({\n            type,\n            fn\n        });\n        add(type, fn);\n    };\n    viewExternalAPI.off = (type, fn) => {\n        events.splice(events.findIndex(event => event.type === type && event.fn === fn), 1);\n        remove(type, fn);\n    };\n    return {\n        write: () => {\n            // not busy\n            return true;\n        },\n        destroy: () => {\n            events.forEach(event => {\n                remove(event.type, event.fn);\n            });\n        }\n    };\n};\n// add to external api and link to props\nconst apis = ({ mixinConfig, viewProps, viewExternalAPI }) => {\n    addGetSet(mixinConfig, viewExternalAPI, viewProps);\n};\nconst isDefined = value => value != null;\n// add to state,\n// add getters and setters to internal and external api (if not set)\n// set initial state based on props in viewProps\n// apply as transforms each frame\nconst defaults = {\n    opacity: 1,\n    scaleX: 1,\n    scaleY: 1,\n    translateX: 0,\n    translateY: 0,\n    rotateX: 0,\n    rotateY: 0,\n    rotateZ: 0,\n    originX: 0,\n    originY: 0\n};\nconst styles = ({ mixinConfig, viewProps, viewInternalAPI, viewExternalAPI, view }) => {\n    // initial props\n    const initialProps = Object.assign({}, viewProps);\n    // current props\n    const currentProps = {};\n    // we will add those properties to the external API and link them to the viewState\n    addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n    // override rect on internal and external rect getter so it takes in account transforms\n    const getOffset = () => [\n        viewProps['translateX'] || 0,\n        viewProps['translateY'] || 0\n    ];\n    const getScale = () => [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n    const getRect = () => view.rect\n        ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n        : null;\n    viewInternalAPI.rect = { get: getRect };\n    viewExternalAPI.rect = { get: getRect };\n    // apply view props\n    mixinConfig.forEach(key => {\n        viewProps[key] =\n            typeof initialProps[key] === 'undefined'\n                ? defaults[key]\n                : initialProps[key];\n    });\n    // expose api\n    return {\n        write: () => {\n            // see if props have changed\n            if (!propsHaveChanged(currentProps, viewProps)) {\n                return;\n            }\n            // moves element to correct position on screen\n            applyStyles(view.element, viewProps);\n            // store new transforms\n            Object.assign(currentProps, Object.assign({}, viewProps));\n            // no longer busy\n            return true;\n        },\n        destroy: () => { }\n    };\n};\nconst propsHaveChanged = (currentProps, newProps) => {\n    // different amount of keys\n    if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n        return true;\n    }\n    // lets analyze the individual props\n    for (const prop in newProps) {\n        if (newProps[prop] !== currentProps[prop]) {\n            return true;\n        }\n    }\n    return false;\n};\nconst applyStyles = (element, { opacity, perspective, translateX, translateY, scaleX, scaleY, rotateX, rotateY, rotateZ, originX, originY, width, height }) => {\n    let transforms = '';\n    let styles = '';\n    // handle transform origin\n    if (isDefined(originX) || isDefined(originY)) {\n        styles += `transform-origin: ${originX || 0}px ${originY || 0}px;`;\n    }\n    // transform order is relevant\n    // 0. perspective\n    if (isDefined(perspective)) {\n        transforms += `perspective(${perspective}px) `;\n    }\n    // 1. translate\n    if (isDefined(translateX) || isDefined(translateY)) {\n        transforms += `translate3d(${translateX || 0}px, ${translateY || 0}px, 0) `;\n    }\n    // 2. scale\n    if (isDefined(scaleX) || isDefined(scaleY)) {\n        transforms += `scale3d(${isDefined(scaleX) ? scaleX : 1}, ${isDefined(scaleY) ? scaleY : 1}, 1) `;\n    }\n    // 3. rotate\n    if (isDefined(rotateZ)) {\n        transforms += `rotateZ(${rotateZ}rad) `;\n    }\n    if (isDefined(rotateX)) {\n        transforms += `rotateX(${rotateX}rad) `;\n    }\n    if (isDefined(rotateY)) {\n        transforms += `rotateY(${rotateY}rad) `;\n    }\n    // add transforms\n    if (transforms.length) {\n        styles += `transform:${transforms};`;\n    }\n    // add opacity\n    if (isDefined(opacity)) {\n        styles += `opacity:${opacity};`;\n        // if we reach zero, we make the element inaccessible\n        if (opacity === 0) {\n            styles += `visibility:hidden;`;\n        }\n        // if we're below 100% opacity this element can't be clicked\n        if (opacity < 1) {\n            styles += `pointer-events:none;`;\n        }\n    }\n    // add height\n    if (isDefined(height)) {\n        styles += `height:${height}px;`;\n    }\n    // add width\n    if (isDefined(width)) {\n        styles += `width:${width}px;`;\n    }\n    // apply styles\n    const elementCurrentStyle = element.elementCurrentStyle || '';\n    // if new styles does not match current styles, lets update!\n    if (styles.length !== elementCurrentStyle.length ||\n        styles !== elementCurrentStyle) {\n        element.style.cssText = styles;\n        // store current styles so we can compare them to new styles later on\n        // _not_ getting the style value is faster\n        element.elementCurrentStyle = styles;\n    }\n};\nconst Mixins = {\n    styles,\n    listeners,\n    animations,\n    apis\n};\nconst updateRect = (rect = {}, element = {}, style = {}) => {\n    if (!element.layoutCalculated) {\n        rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n        rect.marginTop = parseInt(style.marginTop, 10) || 0;\n        rect.marginRight = parseInt(style.marginRight, 10) || 0;\n        rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n        rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n        element.layoutCalculated = true;\n    }\n    rect.left = element.offsetLeft || 0;\n    rect.top = element.offsetTop || 0;\n    rect.width = element.offsetWidth || 0;\n    rect.height = element.offsetHeight || 0;\n    rect.right = rect.left + rect.width;\n    rect.bottom = rect.top + rect.height;\n    rect.scrollTop = element.scrollTop;\n    rect.hidden = element.offsetParent === null;\n    return rect;\n};\nconst createView = \n// default view definition\n({ \n// element definition\ntag = 'div', name = null, attributes = {}, \n// view interaction\nread = () => { }, write = () => { }, create = () => { }, destroy = () => { }, \n// hooks\nfilterFrameActionsForChild = (child, actions) => actions, didCreateView = () => { }, didWriteView = () => { }, \n// rect related\nignoreRect = false, ignoreRectUpdate = false, \n// mixins\nmixins = [] } = {}) => (\n// each view requires reference to store\nstore, \n// specific properties for this view\nprops = {}) => {\n    // root element should not be changed\n    const element = createElement(tag, `filepond--${name}`, attributes);\n    // style reference should also not be changed\n    const style = window.getComputedStyle(element, null);\n    // element rectangle\n    const rect = updateRect();\n    let frameRect = null;\n    // rest state\n    let isResting = false;\n    // pretty self explanatory\n    const childViews = [];\n    // loaded mixins\n    const activeMixins = [];\n    // references to created children\n    const ref = {};\n    // state used for each instance\n    const state = {};\n    // list of writers that will be called to update this view\n    const writers = [\n        write // default writer\n    ];\n    const readers = [\n        read // default reader\n    ];\n    const destroyers = [\n        destroy // default destroy\n    ];\n    // core view methods\n    const getElement = () => element;\n    const getChildViews = () => childViews.concat();\n    const getReference = () => ref;\n    const createChildView = store => (view, props) => view(store, props);\n    const getRect = () => {\n        if (frameRect) {\n            return frameRect;\n        }\n        frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n        return frameRect;\n    };\n    const getStyle = () => style;\n    /**\n     * Read data from DOM\n     * @private\n     */\n    const _read = () => {\n        frameRect = null;\n        // read child views\n        childViews.forEach(child => child._read());\n        const shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n        if (shouldUpdate) {\n            updateRect(rect, element, style);\n        }\n        // readers\n        const api = { root: internalAPI, props, rect };\n        readers.forEach(reader => reader(api));\n    };\n    /**\n     * Write data to DOM\n     * @private\n     */\n    const _write = (ts, frameActions, shouldOptimize) => {\n        // if no actions, we assume that the view is resting\n        let resting = frameActions.length === 0;\n        // writers\n        writers.forEach(writer => {\n            const writerResting = writer({\n                props,\n                root: internalAPI,\n                actions: frameActions,\n                timestamp: ts,\n                shouldOptimize\n            });\n            if (writerResting === false) {\n                resting = false;\n            }\n        });\n        // run mixins\n        activeMixins.forEach(mixin => {\n            // if one of the mixins is still busy after write operation, we are not resting\n            const mixinResting = mixin.write(ts);\n            if (mixinResting === false) {\n                resting = false;\n            }\n        });\n        // updates child views that are currently attached to the DOM\n        childViews\n            .filter(child => !!child.element.parentNode)\n            .forEach(child => {\n            // if a child view is not resting, we are not resting\n            const childResting = child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize);\n            if (!childResting) {\n                resting = false;\n            }\n        });\n        // append new elements to DOM and update those\n        childViews\n            //.filter(child => !child.element.parentNode)\n            .forEach((child, index) => {\n            // skip\n            if (child.element.parentNode) {\n                return;\n            }\n            // append to DOM\n            internalAPI.appendChild(child.element, index);\n            // call read (need to know the size of these elements)\n            child._read();\n            // re-call write\n            child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize);\n            // we just added somthing to the dom, no rest\n            resting = false;\n        });\n        // update resting state\n        isResting = resting;\n        didWriteView({\n            props,\n            root: internalAPI,\n            actions: frameActions,\n            timestamp: ts\n        });\n        // let parent know if we are resting\n        return resting;\n    };\n    const _destroy = () => {\n        activeMixins.forEach(mixin => mixin.destroy());\n        destroyers.forEach(destroyer => {\n            destroyer({ root: internalAPI, props });\n        });\n        childViews.forEach(child => child._destroy());\n    };\n    // sharedAPI\n    const sharedAPIDefinition = {\n        element: {\n            get: getElement\n        },\n        style: {\n            get: getStyle\n        },\n        childViews: {\n            get: getChildViews\n        }\n    };\n    // private API definition\n    const internalAPIDefinition = Object.assign(Object.assign({}, sharedAPIDefinition), { rect: {\n            get: getRect\n        }, \n        // access to custom children references\n        ref: {\n            get: getReference\n        }, \n        // dom modifiers\n        is: needle => name === needle, appendChild: appendChild(element), createChildView: createChildView(store), linkView: view => {\n            childViews.push(view);\n            return view;\n        }, unlinkView: view => {\n            childViews.splice(childViews.indexOf(view), 1);\n        }, appendChildView: appendChildView(element, childViews), removeChildView: removeChildView(element, childViews), registerWriter: writer => writers.push(writer), registerReader: reader => readers.push(reader), registerDestroyer: destroyer => destroyers.push(destroyer), invalidateLayout: () => (element.layoutCalculated = false), \n        // access to data store\n        dispatch: store.dispatch, query: store.query });\n    // public view API methods\n    const externalAPIDefinition = {\n        element: {\n            get: getElement\n        },\n        childViews: {\n            get: getChildViews\n        },\n        rect: {\n            get: getRect\n        },\n        resting: {\n            get: () => isResting\n        },\n        isRectIgnored: () => ignoreRect,\n        _read,\n        _write,\n        _destroy\n    };\n    // mixin API methods\n    const mixinAPIDefinition = Object.assign(Object.assign({}, sharedAPIDefinition), { rect: {\n            get: () => rect\n        } });\n    // add mixin functionality\n    Object.keys(mixins)\n        .sort((a, b) => {\n        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n        if (a === 'styles') {\n            return 1;\n        }\n        else if (b === 'styles') {\n            return -1;\n        }\n        return 0;\n    })\n        .forEach(key => {\n        const mixinAPI = Mixins[key]({\n            mixinConfig: mixins[key],\n            viewProps: props,\n            viewState: state,\n            viewInternalAPI: internalAPIDefinition,\n            viewExternalAPI: externalAPIDefinition,\n            view: createObject(mixinAPIDefinition)\n        });\n        if (mixinAPI) {\n            activeMixins.push(mixinAPI);\n        }\n    });\n    // construct private api\n    const internalAPI = createObject(internalAPIDefinition);\n    // create the view\n    create({\n        root: internalAPI,\n        props\n    });\n    // append created child views to root node\n    const childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n    childViews.forEach((child, index) => {\n        internalAPI.appendChild(child.element, childCount + index);\n    });\n    // call did create\n    didCreateView(internalAPI);\n    // expose public api\n    return createObject(externalAPIDefinition);\n};\nconst createPainter = (read, write, fps = 60) => {\n    const name = '__framePainter';\n    // set global painter\n    if (window[name]) {\n        window[name].readers.push(read);\n        window[name].writers.push(write);\n        return;\n    }\n    window[name] = {\n        readers: [read],\n        writers: [write]\n    };\n    const painter = window[name];\n    const interval = 1000 / fps;\n    let last = null;\n    let id = null;\n    let requestTick = null;\n    let cancelTick = null;\n    const setTimerType = () => {\n        if (document.hidden) {\n            requestTick = () => window.setTimeout(() => tick(performance.now()), interval);\n            cancelTick = () => window.clearTimeout(id);\n        }\n        else {\n            requestTick = () => window.requestAnimationFrame(tick);\n            cancelTick = () => window.cancelAnimationFrame(id);\n        }\n    };\n    document.addEventListener('visibilitychange', () => {\n        if (cancelTick)\n            cancelTick();\n        setTimerType();\n        tick(performance.now());\n    });\n    const tick = ts => {\n        // queue next tick\n        id = requestTick(tick);\n        // limit fps\n        if (!last) {\n            last = ts;\n        }\n        const delta = ts - last;\n        if (delta <= interval) {\n            // skip frame\n            return;\n        }\n        // align next frame\n        last = ts - (delta % interval);\n        // update view\n        painter.readers.forEach(read => read());\n        painter.writers.forEach(write => write(ts));\n    };\n    setTimerType();\n    tick(performance.now());\n    return {\n        pause: () => {\n            cancelTick(id);\n        }\n    };\n};\nconst createRoute = (routes, fn) => ({ root, props, actions = [], timestamp, shouldOptimize }) => {\n    actions\n        .filter(action => routes[action.type])\n        .forEach(action => routes[action.type]({\n        root,\n        props,\n        action: action.data,\n        timestamp,\n        shouldOptimize\n    }));\n    if (fn) {\n        fn({ root, props, actions, timestamp, shouldOptimize });\n    }\n};\nconst insertBefore = (newNode, referenceNode) => referenceNode.parentNode.insertBefore(newNode, referenceNode);\nconst insertAfter = (newNode, referenceNode) => {\n    return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n};\nconst isArray = value => Array.isArray(value);\nconst isEmpty = value => value == null;\nconst trim = str => str.trim();\nconst toString = value => '' + value;\nconst toArray = (value, splitter = ',') => {\n    if (isEmpty(value)) {\n        return [];\n    }\n    if (isArray(value)) {\n        return value;\n    }\n    return toString(value)\n        .split(splitter)\n        .map(trim)\n        .filter(str => str.length);\n};\nconst isBoolean = value => typeof value === 'boolean';\nconst toBoolean = value => (isBoolean(value) ? value : value === 'true');\nconst isString = value => typeof value === 'string';\nconst toNumber = value => isNumber(value)\n    ? value\n    : isString(value)\n        ? toString(value).replace(/[a-z]+/gi, '')\n        : 0;\nconst toInt = value => parseInt(toNumber(value), 10);\nconst toFloat = value => parseFloat(toNumber(value));\nconst isInt = value => isNumber(value) && isFinite(value) && Math.floor(value) === value;\nconst toBytes = (value, base = 1000) => {\n    // is in bytes\n    if (isInt(value)) {\n        return value;\n    }\n    // is natural file size\n    let naturalFileSize = toString(value).trim();\n    // if is value in megabytes\n    if (/MB$/i.test(naturalFileSize)) {\n        naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n        return toInt(naturalFileSize) * base * base;\n    }\n    // if is value in kilobytes\n    if (/KB/i.test(naturalFileSize)) {\n        naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n        return toInt(naturalFileSize) * base;\n    }\n    return toInt(naturalFileSize);\n};\nconst isFunction = value => typeof value === 'function';\nconst toFunctionReference = string => {\n    let ref = self;\n    let levels = string.split('.');\n    let level = null;\n    while ((level = levels.shift())) {\n        ref = ref[level];\n        if (!ref) {\n            return null;\n        }\n    }\n    return ref;\n};\nconst methods = {\n    process: 'POST',\n    patch: 'PATCH',\n    revert: 'DELETE',\n    fetch: 'GET',\n    restore: 'GET',\n    load: 'GET'\n};\nconst createServerAPI = outline => {\n    const api = {};\n    api.url = isString(outline) ? outline : outline.url || '';\n    api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n    api.headers = outline.headers ? outline.headers : {};\n    forin(methods, key => {\n        api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n    });\n    // special treatment for remove\n    api.remove = outline.remove || null;\n    // remove generic headers from api object\n    delete api.headers;\n    return api;\n};\nconst createAction = (name, outline, method, timeout, headers) => {\n    // is explicitely set to null so disable\n    if (outline === null) {\n        return null;\n    }\n    // if is custom function, done! Dev handles everything.\n    if (typeof outline === 'function') {\n        return outline;\n    }\n    // build action object\n    const action = {\n        url: method === 'GET' || method === 'PATCH' ? `?${name}=` : '',\n        method,\n        headers,\n        withCredentials: false,\n        timeout,\n        onload: null,\n        ondata: null,\n        onerror: null\n    };\n    // is a single url\n    if (isString(outline)) {\n        action.url = outline;\n        return action;\n    }\n    // overwrite\n    Object.assign(action, outline);\n    // see if should reformat headers;\n    if (isString(action.headers)) {\n        const parts = action.headers.split(/:(.+)/);\n        action.headers = {\n            header: parts[0],\n            value: parts[1]\n        };\n    }\n    // if is bool withCredentials\n    action.withCredentials = toBoolean(action.withCredentials);\n    return action;\n};\nconst toServerAPI = value => createServerAPI(value);\nconst isNull = value => value === null;\nconst isObject = value => typeof value === 'object' && value !== null;\nconst isAPI = value => {\n    return (isObject(value) &&\n        isString(value.url) &&\n        isObject(value.process) &&\n        isObject(value.revert) &&\n        isObject(value.restore) &&\n        isObject(value.fetch));\n};\nconst getType = value => {\n    if (isArray(value)) {\n        return 'array';\n    }\n    if (isNull(value)) {\n        return 'null';\n    }\n    if (isInt(value)) {\n        return 'int';\n    }\n    if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n        return 'bytes';\n    }\n    if (isAPI(value)) {\n        return 'api';\n    }\n    return typeof value;\n};\nconst replaceSingleQuotes = str => str\n    .replace(/{\\s*'/g, '{\"')\n    .replace(/'\\s*}/g, '\"}')\n    .replace(/'\\s*:/g, '\":')\n    .replace(/:\\s*'/g, ':\"')\n    .replace(/,\\s*'/g, ',\"')\n    .replace(/'\\s*,/g, '\",');\nconst conversionTable = {\n    array: toArray,\n    boolean: toBoolean,\n    int: value => (getType(value) === 'bytes' ? toBytes(value) : toInt(value)),\n    number: toFloat,\n    float: toFloat,\n    bytes: toBytes,\n    string: value => (isFunction(value) ? value : toString(value)),\n    function: value => toFunctionReference(value),\n    serverapi: toServerAPI,\n    object: value => {\n        try {\n            return JSON.parse(replaceSingleQuotes(value));\n        }\n        catch (e) {\n            return null;\n        }\n    }\n};\nconst convertTo = (value, type) => conversionTable[type](value);\nconst getValueByType = (newValue, defaultValue, valueType) => {\n    // can always assign default value\n    if (newValue === defaultValue) {\n        return newValue;\n    }\n    // get the type of the new value\n    let newValueType = getType(newValue);\n    // is valid type?\n    if (newValueType !== valueType) {\n        // is string input, let's attempt to convert\n        const convertedValue = convertTo(newValue, valueType);\n        // what is the type now\n        newValueType = getType(convertedValue);\n        // no valid conversions found\n        if (convertedValue === null) {\n            throw `Trying to assign value with incorrect type to \"${option}\", allowed type: \"${valueType}\"`;\n        }\n        else {\n            newValue = convertedValue;\n        }\n    }\n    // assign new value\n    return newValue;\n};\nconst createOption = (defaultValue, valueType) => {\n    let currentValue = defaultValue;\n    return {\n        enumerable: true,\n        get: () => currentValue,\n        set: newValue => {\n            currentValue = getValueByType(newValue, defaultValue, valueType);\n        }\n    };\n};\nconst createOptions = options => {\n    const obj = {};\n    forin(options, prop => {\n        const optionDefinition = options[prop];\n        obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n    });\n    return createObject(obj);\n};\nconst createInitialState = options => ({\n    // model\n    items: [],\n    // timeout used for calling update items\n    listUpdateTimeout: null,\n    // timeout used for stacking metadata updates\n    itemUpdateTimeout: null,\n    // queue of items waiting to be processed\n    processingQueue: [],\n    // options\n    options: createOptions(options)\n});\nconst fromCamels = (string, separator = '-') => string\n    .split(/(?=[A-Z])/)\n    .map(part => part.toLowerCase())\n    .join(separator);\nconst createOptionAPI = (store, options) => {\n    const obj = {};\n    forin(options, key => {\n        obj[key] = {\n            get: () => store.getState().options[key],\n            set: value => {\n                store.dispatch(`SET_${fromCamels(key, '_').toUpperCase()}`, {\n                    value\n                });\n            }\n        };\n    });\n    return obj;\n};\nconst createOptionActions = options => (dispatch, query, state) => {\n    const obj = {};\n    forin(options, key => {\n        const name = fromCamels(key, '_').toUpperCase();\n        obj[`SET_${name}`] = action => {\n            try {\n                state.options[key] = action.value;\n            }\n            catch (e) {\n                // nope, failed\n            }\n            // we successfully set the value of this option\n            dispatch(`DID_SET_${name}`, { value: state.options[key] });\n        };\n    });\n    return obj;\n};\nconst createOptionQueries = options => state => {\n    const obj = {};\n    forin(options, key => {\n        obj[`GET_${fromCamels(key, '_').toUpperCase()}`] = action => state.options[key];\n    });\n    return obj;\n};\nconst InteractionMethod = {\n    API: 1,\n    DROP: 2,\n    BROWSE: 3,\n    PASTE: 4,\n    NONE: 5\n};\nconst getUniqueId = () => Math.random()\n    .toString(36)\n    .substr(2, 9);\nconst arrayRemove = (arr, index) => arr.splice(index, 1);\nconst run = (cb, sync) => {\n    if (sync) {\n        cb();\n    }\n    else if (document.hidden) {\n        Promise.resolve(1).then(cb);\n    }\n    else {\n        setTimeout(cb, 0);\n    }\n};\nconst on = () => {\n    const listeners = [];\n    const off = (event, cb) => {\n        arrayRemove(listeners, listeners.findIndex(listener => listener.event === event && (listener.cb === cb || !cb)));\n    };\n    const fire = (event, args, sync) => {\n        listeners\n            .filter(listener => listener.event === event)\n            .map(listener => listener.cb)\n            .forEach(cb => run(() => cb(...args), sync));\n    };\n    return {\n        fireSync: (event, ...args) => {\n            fire(event, args, true);\n        },\n        fire: (event, ...args) => {\n            fire(event, args, false);\n        },\n        on: (event, cb) => {\n            listeners.push({ event, cb });\n        },\n        onOnce: (event, cb) => {\n            listeners.push({\n                event,\n                cb: (...args) => {\n                    off(event, cb);\n                    cb(...args);\n                }\n            });\n        },\n        off\n    };\n};\nconst copyObjectPropertiesToObject = (src, target, excluded) => {\n    Object.getOwnPropertyNames(src)\n        .filter(property => !excluded.includes(property))\n        .forEach(key => Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key)));\n};\nconst PRIVATE = [\n    'fire',\n    'process',\n    'revert',\n    'load',\n    'on',\n    'off',\n    'onOnce',\n    'retryLoad',\n    'extend',\n    'archive',\n    'archived',\n    'release',\n    'released',\n    'requestProcessing',\n    'freeze'\n];\nconst createItemAPI = item => {\n    const api = {};\n    copyObjectPropertiesToObject(item, api, PRIVATE);\n    return api;\n};\nconst removeReleasedItems = items => {\n    items.forEach((item, index) => {\n        if (item.released) {\n            arrayRemove(items, index);\n        }\n    });\n};\nconst ItemStatus = {\n    INIT: 1,\n    IDLE: 2,\n    PROCESSING_QUEUED: 9,\n    PROCESSING: 3,\n    PROCESSING_COMPLETE: 5,\n    PROCESSING_ERROR: 6,\n    PROCESSING_REVERT_ERROR: 10,\n    LOADING: 7,\n    LOAD_ERROR: 8\n};\nconst FileOrigin = {\n    INPUT: 1,\n    LIMBO: 2,\n    LOCAL: 3\n};\nconst getNonNumeric = str => /[^0-9]+/.exec(str);\nconst getDecimalSeparator = () => getNonNumeric((1.1).toLocaleString())[0];\nconst getThousandsSeparator = () => {\n    // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n    // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n    const decimalSeparator = getDecimalSeparator();\n    const thousandsStringWithSeparator = (1000.0).toLocaleString();\n    const thousandsStringWithoutSeparator = (1000.0).toString();\n    if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n        return getNonNumeric(thousandsStringWithSeparator)[0];\n    }\n    return decimalSeparator === '.' ? ',' : '.';\n};\nconst Type = {\n    BOOLEAN: 'boolean',\n    INT: 'int',\n    NUMBER: 'number',\n    STRING: 'string',\n    ARRAY: 'array',\n    OBJECT: 'object',\n    FUNCTION: 'function',\n    ACTION: 'action',\n    SERVER_API: 'serverapi',\n    REGEX: 'regex'\n};\n// all registered filters\nconst filters = [];\n// loops over matching filters and passes options to each filter, returning the mapped results\nconst applyFilterChain = (key, value, utils) => new Promise((resolve, reject) => {\n    // find matching filters for this key\n    const matchingFilters = filters.filter(f => f.key === key).map(f => f.cb);\n    // resolve now\n    if (matchingFilters.length === 0) {\n        resolve(value);\n        return;\n    }\n    // first filter to kick things of\n    const initialFilter = matchingFilters.shift();\n    // chain filters\n    matchingFilters\n        .reduce(\n    // loop over promises passing value to next promise\n    (current, next) => current.then(value => next(value, utils)), \n    // call initial filter, will return a promise\n    initialFilter(value, utils)\n    // all executed\n    )\n        .then(value => resolve(value))\n        .catch(error => reject(error));\n});\nconst applyFilters = (key, value, utils) => filters.filter(f => f.key === key).map(f => f.cb(value, utils));\n// adds a new filter to the list\nconst addFilter = (key, cb) => filters.push({ key, cb });\nconst extendDefaultOptions = additionalOptions => Object.assign(defaultOptions, additionalOptions);\nconst getOptions = () => (Object.assign({}, defaultOptions));\nconst setOptions = opts => {\n    forin(opts, (key, value) => {\n        // key does not exist, so this option cannot be set\n        if (!defaultOptions[key]) {\n            return;\n        }\n        defaultOptions[key][0] = getValueByType(value, defaultOptions[key][0], defaultOptions[key][1]);\n    });\n};\n// default options on app\nconst defaultOptions = {\n    // the id to add to the root element\n    id: [null, Type.STRING],\n    // input field name to use\n    name: ['filepond', Type.STRING],\n    // disable the field\n    disabled: [false, Type.BOOLEAN],\n    // classname to put on wrapper\n    className: [null, Type.STRING],\n    // is the field required\n    required: [false, Type.BOOLEAN],\n    // Allow media capture when value is set\n    captureMethod: [null, Type.STRING],\n    // - \"camera\", \"microphone\" or \"camcorder\",\n    // - Does not work with multiple on apple devices\n    // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n    // sync `acceptedFileTypes` property with `accept` attribute\n    allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n    // Feature toggles\n    allowDrop: [true, Type.BOOLEAN],\n    allowBrowse: [true, Type.BOOLEAN],\n    allowPaste: [true, Type.BOOLEAN],\n    allowMultiple: [false, Type.BOOLEAN],\n    allowReplace: [true, Type.BOOLEAN],\n    allowRevert: [true, Type.BOOLEAN],\n    allowRemove: [true, Type.BOOLEAN],\n    allowProcess: [true, Type.BOOLEAN],\n    allowReorder: [false, Type.BOOLEAN],\n    allowDirectoriesOnly: [false, Type.BOOLEAN],\n    // Revert mode\n    forceRevert: [false, Type.BOOLEAN],\n    // Input requirements\n    maxFiles: [null, Type.INT],\n    checkValidity: [false, Type.BOOLEAN],\n    // Where to put file\n    itemInsertLocationFreedom: [true, Type.BOOLEAN],\n    itemInsertLocation: ['before', Type.STRING],\n    itemInsertInterval: [75, Type.INT],\n    // Drag 'n Drop related\n    dropOnPage: [false, Type.BOOLEAN],\n    dropOnElement: [true, Type.BOOLEAN],\n    dropValidation: [false, Type.BOOLEAN],\n    ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n    // Upload related\n    instantUpload: [true, Type.BOOLEAN],\n    maxParallelUploads: [2, Type.INT],\n    // Chunks\n    chunkUploads: [false, Type.BOOLEAN],\n    chunkForce: [false, Type.BOOLEAN],\n    chunkSize: [5000000, Type.INT],\n    chunkRetryDelays: [[500, 1000, 3000], Type.Array],\n    // The server api end points to use for uploading (see docs)\n    server: [null, Type.SERVER_API],\n    // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n    fileSizeBase: [1000, Type.INT],\n    // Labels and status messages\n    labelDecimalSeparator: [getDecimalSeparator(), Type.STRING],\n    labelThousandsSeparator: [getThousandsSeparator(), Type.STRING],\n    labelIdle: [\n        'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n        Type.STRING\n    ],\n    labelInvalidField: ['Field contains invalid files', Type.STRING],\n    labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n    labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n    labelFileCountSingular: ['file in list', Type.STRING],\n    labelFileCountPlural: ['files in list', Type.STRING],\n    labelFileLoading: ['Loading', Type.STRING],\n    labelFileAdded: ['Added', Type.STRING],\n    labelFileLoadError: ['Error during load', Type.STRING],\n    labelFileRemoved: ['Removed', Type.STRING],\n    labelFileRemoveError: ['Error during remove', Type.STRING],\n    labelFileProcessing: ['Uploading', Type.STRING],\n    labelFileProcessingComplete: ['Upload complete', Type.STRING],\n    labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n    labelFileProcessingError: ['Error during upload', Type.STRING],\n    labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n    labelTapToCancel: ['tap to cancel', Type.STRING],\n    labelTapToRetry: ['tap to retry', Type.STRING],\n    labelTapToUndo: ['tap to undo', Type.STRING],\n    labelButtonRemoveItem: ['Remove', Type.STRING],\n    labelButtonAbortItemLoad: ['Abort', Type.STRING],\n    labelButtonRetryItemLoad: ['Retry', Type.STRING],\n    labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n    labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n    labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n    labelButtonProcessItem: ['Upload', Type.STRING],\n    // make sure width and height plus viewpox are even numbers so icons are nicely centered\n    iconRemove: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING\n    ],\n    iconProcess: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n        Type.STRING\n    ],\n    iconRetry: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING\n    ],\n    iconUndo: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING\n    ],\n    iconDone: [\n        '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n        Type.STRING\n    ],\n    // event handlers\n    oninit: [null, Type.FUNCTION],\n    onwarning: [null, Type.FUNCTION],\n    onerror: [null, Type.FUNCTION],\n    onactivatefile: [null, Type.FUNCTION],\n    oninitfile: [null, Type.FUNCTION],\n    onaddfilestart: [null, Type.FUNCTION],\n    onaddfileprogress: [null, Type.FUNCTION],\n    onaddfile: [null, Type.FUNCTION],\n    onprocessfilestart: [null, Type.FUNCTION],\n    onprocessfileprogress: [null, Type.FUNCTION],\n    onprocessfileabort: [null, Type.FUNCTION],\n    onprocessfilerevert: [null, Type.FUNCTION],\n    onprocessfile: [null, Type.FUNCTION],\n    onprocessfiles: [null, Type.FUNCTION],\n    onremovefile: [null, Type.FUNCTION],\n    onpreparefile: [null, Type.FUNCTION],\n    onupdatefiles: [null, Type.FUNCTION],\n    onreorderfiles: [null, Type.FUNCTION],\n    // hooks\n    beforeDropFile: [null, Type.FUNCTION],\n    beforeAddFile: [null, Type.FUNCTION],\n    beforeRemoveFile: [null, Type.FUNCTION],\n    beforePrepareFile: [null, Type.FUNCTION],\n    // styles\n    stylePanelLayout: [null, Type.STRING],\n    stylePanelAspectRatio: [null, Type.STRING],\n    styleItemPanelAspectRatio: [null, Type.STRING],\n    styleButtonRemoveItemPosition: ['left', Type.STRING],\n    styleButtonProcessItemPosition: ['right', Type.STRING],\n    styleLoadIndicatorPosition: ['right', Type.STRING],\n    styleProgressIndicatorPosition: ['right', Type.STRING],\n    styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n    // custom initial files array\n    files: [[], Type.ARRAY],\n    // show support by displaying credits\n    credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY]\n};\nconst getItemByQuery = (items, query) => {\n    // just return first index\n    if (isEmpty(query)) {\n        return items[0] || null;\n    }\n    // query is index\n    if (isInt(query)) {\n        return items[query] || null;\n    }\n    // if query is item, get the id\n    if (typeof query === 'object') {\n        query = query.id;\n    }\n    // assume query is a string and return item by id\n    return items.find(item => item.id === query) || null;\n};\nconst getNumericAspectRatioFromString = aspectRatio => {\n    if (isEmpty(aspectRatio)) {\n        return aspectRatio;\n    }\n    if (/:/.test(aspectRatio)) {\n        const parts = aspectRatio.split(':');\n        return parts[1] / parts[0];\n    }\n    return parseFloat(aspectRatio);\n};\nconst getActiveItems = items => items.filter(item => !item.archived);\nconst Status = {\n    EMPTY: 0,\n    IDLE: 1,\n    ERROR: 2,\n    BUSY: 3,\n    READY: 4 // all files uploaded\n};\nconst ITEM_ERROR = [\n    ItemStatus.LOAD_ERROR,\n    ItemStatus.PROCESSING_ERROR,\n    ItemStatus.PROCESSING_REVERT_ERROR\n];\nconst ITEM_BUSY = [\n    ItemStatus.LOADING,\n    ItemStatus.PROCESSING,\n    ItemStatus.PROCESSING_QUEUED,\n    ItemStatus.INIT\n];\nconst ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\nconst isItemInErrorState = item => ITEM_ERROR.includes(item.status);\nconst isItemInBusyState = item => ITEM_BUSY.includes(item.status);\nconst isItemInReadyState = item => ITEM_READY.includes(item.status);\nconst queries = state => ({\n    GET_STATUS: () => {\n        const items = getActiveItems(state.items);\n        const { EMPTY, ERROR, BUSY, IDLE, READY } = Status;\n        if (items.length === 0)\n            return EMPTY;\n        if (items.some(isItemInErrorState))\n            return ERROR;\n        if (items.some(isItemInBusyState))\n            return BUSY;\n        if (items.some(isItemInReadyState))\n            return READY;\n        return IDLE;\n    },\n    GET_ITEM: query => getItemByQuery(state.items, query),\n    GET_ACTIVE_ITEM: query => getItemByQuery(getActiveItems(state.items), query),\n    GET_ACTIVE_ITEMS: () => getActiveItems(state.items),\n    GET_ITEMS: () => state.items,\n    GET_ITEM_NAME: query => {\n        const item = getItemByQuery(state.items, query);\n        return item ? item.filename : null;\n    },\n    GET_ITEM_SIZE: query => {\n        const item = getItemByQuery(state.items, query);\n        return item ? item.fileSize : null;\n    },\n    GET_STYLES: () => Object.keys(state.options)\n        .filter(key => /^style/.test(key))\n        .map(option => ({\n        name: option,\n        value: state.options[option]\n    })),\n    GET_PANEL_ASPECT_RATIO: () => {\n        const isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n        const aspectRatio = isShapeCircle\n            ? 1\n            : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n        return aspectRatio;\n    },\n    GET_ITEM_PANEL_ASPECT_RATIO: () => state.options.styleItemPanelAspectRatio,\n    GET_ITEMS_BY_STATUS: status => getActiveItems(state.items).filter(item => item.status === status),\n    GET_TOTAL_ITEMS: () => getActiveItems(state.items).length,\n    IS_ASYNC: () => isObject(state.options.server) &&\n        (isObject(state.options.server.process) ||\n            isFunction(state.options.server.process))\n});\nconst hasRoomForItem = state => {\n    const count = getActiveItems(state.items).length;\n    // if cannot have multiple items, to add one item it should currently not contain items\n    if (!state.options.allowMultiple) {\n        return count === 0;\n    }\n    // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n    const maxFileCount = state.options.maxFiles;\n    if (maxFileCount === null) {\n        return true;\n    }\n    // we check if the current count is smaller than the max count, if so, another file can still be added\n    if (count < maxFileCount) {\n        return true;\n    }\n    // no more room for another file\n    return false;\n};\nconst limit = (value, min, max) => Math.max(Math.min(max, value), min);\nconst arrayInsert = (arr, index, item) => arr.splice(index, 0, item);\nconst insertItem = (items, item, index) => {\n    if (isEmpty(item)) {\n        return null;\n    }\n    // if index is undefined, append\n    if (typeof index === 'undefined') {\n        items.push(item);\n        return item;\n    }\n    // limit the index to the size of the items array\n    index = limit(index, 0, items.length);\n    // add item to array\n    arrayInsert(items, index, item);\n    // expose\n    return item;\n};\nconst isBase64DataURI = str => /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(str);\nconst getFilenameFromURL = url => url\n    .split('/')\n    .pop()\n    .split('?')\n    .shift();\nconst getExtensionFromFilename = name => name.split('.').pop();\nconst guesstimateExtension = type => {\n    // if no extension supplied, exit here\n    if (typeof type !== 'string') {\n        return '';\n    }\n    // get subtype\n    const subtype = type.split('/').pop();\n    // is svg subtype\n    if (/svg/.test(subtype)) {\n        return 'svg';\n    }\n    if (/zip|compressed/.test(subtype)) {\n        return 'zip';\n    }\n    if (/plain/.test(subtype)) {\n        return 'txt';\n    }\n    if (/msword/.test(subtype)) {\n        return 'doc';\n    }\n    // if is valid subtype\n    if (/[a-z]+/.test(subtype)) {\n        // always use jpg extension\n        if (subtype === 'jpeg') {\n            return 'jpg';\n        }\n        // return subtype\n        return subtype;\n    }\n    return '';\n};\nconst leftPad = (value, padding = '') => (padding + value).slice(-padding.length);\nconst getDateString = (date = new Date()) => `${date.getFullYear()}-${leftPad(date.getMonth() + 1, '00')}-${leftPad(date.getDate(), '00')}_${leftPad(date.getHours(), '00')}-${leftPad(date.getMinutes(), '00')}-${leftPad(date.getSeconds(), '00')}`;\nconst getFileFromBlob = (blob, filename, type = null, extension = null) => {\n    const file = typeof type === 'string'\n        ? blob.slice(0, blob.size, type)\n        : blob.slice(0, blob.size, blob.type);\n    file.lastModifiedDate = new Date();\n    // copy relative path\n    if (blob._relativePath)\n        file._relativePath = blob._relativePath;\n    // if blob has name property, use as filename if no filename supplied\n    if (!isString(filename)) {\n        filename = getDateString();\n    }\n    // if filename supplied but no extension and filename has extension\n    if (filename && extension === null && getExtensionFromFilename(filename)) {\n        file.name = filename;\n    }\n    else {\n        extension = extension || guesstimateExtension(file.type);\n        file.name = filename + (extension ? '.' + extension : '');\n    }\n    return file;\n};\nconst getBlobBuilder = () => {\n    return (window.BlobBuilder =\n        window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n};\nconst createBlob = (arrayBuffer, mimeType) => {\n    const BB = getBlobBuilder();\n    if (BB) {\n        const bb = new BB();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mimeType);\n    }\n    return new Blob([arrayBuffer], {\n        type: mimeType\n    });\n};\nconst getBlobFromByteStringWithMimeType = (byteString, mimeType) => {\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return createBlob(ab, mimeType);\n};\nconst getMimeTypeFromBase64DataURI = dataURI => {\n    return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n};\nconst getBase64DataFromBase64DataURI = dataURI => {\n    // get data part of string (remove data:image/jpeg...,)\n    const data = dataURI.split(',')[1];\n    // remove any whitespace as that causes InvalidCharacterError in IE\n    return data.replace(/\\s/g, '');\n};\nconst getByteStringFromBase64DataURI = dataURI => {\n    return atob(getBase64DataFromBase64DataURI(dataURI));\n};\nconst getBlobFromBase64DataURI = dataURI => {\n    const mimeType = getMimeTypeFromBase64DataURI(dataURI);\n    const byteString = getByteStringFromBase64DataURI(dataURI);\n    return getBlobFromByteStringWithMimeType(byteString, mimeType);\n};\nconst getFileFromBase64DataURI = (dataURI, filename, extension) => {\n    return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n};\nconst getFileNameFromHeader = header => {\n    // test if is content disposition header, if not exit\n    if (!/^content-disposition:/i.test(header))\n        return null;\n    // get filename parts\n    const matches = header\n        .split(/filename=|filename\\*=.+''/)\n        .splice(1)\n        .map(name => name.trim().replace(/^[\"']|[;\"']{0,2}$/g, ''))\n        .filter(name => name.length);\n    return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n};\nconst getFileSizeFromHeader = header => {\n    if (/content-length:/i.test(header)) {\n        const size = header.match(/[0-9]+/)[0];\n        return size ? parseInt(size, 10) : null;\n    }\n    return null;\n};\nconst getTranfserIdFromHeader = header => {\n    if (/x-content-transfer-id:/i.test(header)) {\n        const id = (header.split(':')[1] || '').trim();\n        return id || null;\n    }\n    return null;\n};\nconst getFileInfoFromHeaders = headers => {\n    const info = {\n        source: null,\n        name: null,\n        size: null\n    };\n    const rows = headers.split('\\n');\n    for (let header of rows) {\n        const name = getFileNameFromHeader(header);\n        if (name) {\n            info.name = name;\n            continue;\n        }\n        const size = getFileSizeFromHeader(header);\n        if (size) {\n            info.size = size;\n            continue;\n        }\n        const source = getTranfserIdFromHeader(header);\n        if (source) {\n            info.source = source;\n            continue;\n        }\n    }\n    return info;\n};\nconst createFileLoader = fetchFn => {\n    const state = {\n        source: null,\n        complete: false,\n        progress: 0,\n        size: null,\n        timestamp: null,\n        duration: 0,\n        request: null\n    };\n    const getProgress = () => state.progress;\n    const abort = () => {\n        if (state.request && state.request.abort) {\n            state.request.abort();\n        }\n    };\n    // load source\n    const load = () => {\n        // get quick reference\n        const source = state.source;\n        api.fire('init', source);\n        // Load Files\n        if (source instanceof File) {\n            api.fire('load', source);\n        }\n        else if (source instanceof Blob) {\n            // Load blobs, set default name to current date\n            api.fire('load', getFileFromBlob(source, source.name));\n        }\n        else if (isBase64DataURI(source)) {\n            // Load base 64, set default name to current date\n            api.fire('load', getFileFromBase64DataURI(source));\n        }\n        else {\n            // Deal as if is external URL, let's load it!\n            loadURL(source);\n        }\n    };\n    // loads a url\n    const loadURL = url => {\n        // is remote url and no fetch method supplied\n        if (!fetchFn) {\n            api.fire('error', {\n                type: 'error',\n                body: \"Can't load URL\",\n                code: 400\n            });\n            return;\n        }\n        // set request start\n        state.timestamp = Date.now();\n        // load file\n        state.request = fetchFn(url, response => {\n            // update duration\n            state.duration = Date.now() - state.timestamp;\n            // done!\n            state.complete = true;\n            // turn blob response into a file\n            if (response instanceof Blob) {\n                response = getFileFromBlob(response, response.name || getFilenameFromURL(url));\n            }\n            api.fire('load', \n            // if has received blob, we go with blob, if no response, we return null\n            response instanceof Blob ? response : response ? response.body : null);\n        }, error => {\n            api.fire('error', typeof error === 'string'\n                ? {\n                    type: 'error',\n                    code: 0,\n                    body: error\n                }\n                : error);\n        }, (computable, current, total) => {\n            // collected some meta data already\n            if (total) {\n                state.size = total;\n            }\n            // update duration\n            state.duration = Date.now() - state.timestamp;\n            // if we can't compute progress, we're not going to fire progress events\n            if (!computable) {\n                state.progress = null;\n                return;\n            }\n            // update progress percentage\n            state.progress = current / total;\n            // expose\n            api.fire('progress', state.progress);\n        }, () => {\n            api.fire('abort');\n        }, response => {\n            const fileinfo = getFileInfoFromHeaders(typeof response === 'string' ? response : response.headers);\n            api.fire('meta', {\n                size: state.size || fileinfo.size,\n                filename: fileinfo.name,\n                source: fileinfo.source\n            });\n        });\n    };\n    const api = Object.assign(Object.assign({}, on()), { setSource: source => (state.source = source), getProgress,\n        abort,\n        load // start load\n     });\n    return api;\n};\nconst isGet = method => /GET|HEAD/.test(method);\nconst sendRequest = (data, url, options) => {\n    const api = {\n        onheaders: () => { },\n        onprogress: () => { },\n        onload: () => { },\n        ontimeout: () => { },\n        onerror: () => { },\n        onabort: () => { },\n        abort: () => {\n            aborted = true;\n            xhr.abort();\n        }\n    };\n    // timeout identifier, only used when timeout is defined\n    let aborted = false;\n    let headersReceived = false;\n    // set default options\n    options = Object.assign({ method: 'POST', headers: {}, withCredentials: false }, options);\n    // encode url\n    url = encodeURI(url);\n    // if method is GET, add any received data to url\n    if (isGet(options.method) && data) {\n        url = `${url}${encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data))}`;\n    }\n    // create request\n    const xhr = new XMLHttpRequest();\n    // progress of load\n    const process = isGet(options.method) ? xhr : xhr.upload;\n    process.onprogress = e => {\n        // no progress event when aborted ( onprogress is called once after abort() )\n        if (aborted) {\n            return;\n        }\n        api.onprogress(e.lengthComputable, e.loaded, e.total);\n    };\n    // tries to get header info to the app as fast as possible\n    xhr.onreadystatechange = () => {\n        // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n        if (xhr.readyState < 2) {\n            return;\n        }\n        // no server response\n        if (xhr.readyState === 4 && xhr.status === 0) {\n            return;\n        }\n        if (headersReceived) {\n            return;\n        }\n        headersReceived = true;\n        // we've probably received some useful data in response headers\n        api.onheaders(xhr);\n    };\n    // load successful\n    xhr.onload = () => {\n        // is classified as valid response\n        if (xhr.status >= 200 && xhr.status < 300) {\n            api.onload(xhr);\n        }\n        else {\n            api.onerror(xhr);\n        }\n    };\n    // error during load\n    xhr.onerror = () => api.onerror(xhr);\n    // request aborted\n    xhr.onabort = () => {\n        aborted = true;\n        api.onabort();\n    };\n    // request timeout\n    xhr.ontimeout = () => api.ontimeout(xhr);\n    // open up open up!\n    xhr.open(options.method, url, true);\n    // set timeout if defined (do it after open so IE11 plays ball)\n    if (isInt(options.timeout)) {\n        xhr.timeout = options.timeout;\n    }\n    // add headers\n    Object.keys(options.headers).forEach(key => {\n        const value = unescape(encodeURIComponent(options.headers[key]));\n        xhr.setRequestHeader(key, value);\n    });\n    // set type of response\n    if (options.responseType) {\n        xhr.responseType = options.responseType;\n    }\n    // set credentials\n    if (options.withCredentials) {\n        xhr.withCredentials = true;\n    }\n    // let's send our data\n    xhr.send(data);\n    return api;\n};\nconst createResponse = (type, code, body, headers) => ({\n    type,\n    code,\n    body,\n    headers\n});\nconst createTimeoutResponse = cb => xhr => {\n    cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n};\nconst hasQS = str => /\\?/.test(str);\nconst buildURL = (...parts) => {\n    let url = '';\n    parts.forEach(part => {\n        url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n    });\n    return url;\n};\nconst createFetchFunction = (apiUrl = '', action) => {\n    // custom handler (should also handle file, load, error, progress and abort)\n    if (typeof action === 'function') {\n        return action;\n    }\n    // no action supplied\n    if (!action || !isString(action.url)) {\n        return null;\n    }\n    // set onload hanlder\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n    // internal handler\n    return (url, load, error, progress, abort, headers) => {\n        // do local or remote request based on if the url is external\n        const request = sendRequest(url, buildURL(apiUrl, action.url), Object.assign(Object.assign({}, action), { responseType: 'blob' }));\n        request.onload = xhr => {\n            // get headers\n            const headers = xhr.getAllResponseHeaders();\n            // get filename\n            const filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n            // create response\n            load(createResponse('load', xhr.status, action.method === 'HEAD'\n                ? null\n                : getFileFromBlob(onload(xhr.response), filename), headers));\n        };\n        request.onerror = xhr => {\n            error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n        request.onheaders = xhr => {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n        // should return request\n        return request;\n    };\n};\nconst ChunkStatus = {\n    QUEUED: 0,\n    COMPLETE: 1,\n    PROCESSING: 2,\n    ERROR: 3,\n    WAITING: 4\n};\n/*\nfunction signature:\n  (file, metadata, load, error, progress, abort, transfer, options) => {\n    return {\n    abort:() => {}\n  }\n}\n*/\n// apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\nconst processFileChunked = (apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options) => {\n    // all chunks\n    const chunks = [];\n    const { chunkTransferId, chunkServer, chunkSize, chunkRetryDelays } = options;\n    // default state\n    const state = {\n        serverId: chunkTransferId,\n        aborted: false\n    };\n    // set onload handlers\n    const ondata = action.ondata || (fd => fd);\n    const onload = action.onload ||\n        ((xhr, method) => method === 'HEAD'\n            ? xhr.getResponseHeader('Upload-Offset')\n            : xhr.response);\n    const onerror = action.onerror || (res => null);\n    // create server hook\n    const requestTransferId = cb => {\n        const formData = new FormData();\n        // add metadata under same name\n        if (isObject(metadata))\n            formData.append(name, JSON.stringify(metadata));\n        const headers = typeof action.headers === 'function'\n            ? action.headers(file, metadata)\n            : Object.assign(Object.assign({}, action.headers), { 'Upload-Length': file.size });\n        const requestParams = Object.assign(Object.assign({}, action), { headers });\n        // send request object\n        const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);\n        request.onload = xhr => cb(onload(xhr, requestParams.method));\n        request.onerror = xhr => error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n        request.ontimeout = createTimeoutResponse(error);\n    };\n    const requestTransferOffset = cb => {\n        const requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n        const headers = typeof action.headers === 'function'\n            ? action.headers(state.serverId)\n            : Object.assign({}, action.headers);\n        const requestParams = {\n            headers,\n            method: 'HEAD'\n        };\n        const request = sendRequest(null, requestUrl, requestParams);\n        request.onload = xhr => cb(onload(xhr, requestParams.method));\n        request.onerror = xhr => error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n        request.ontimeout = createTimeoutResponse(error);\n    };\n    // create chunks\n    const lastChunkIndex = Math.floor(file.size / chunkSize);\n    for (let i = 0; i <= lastChunkIndex; i++) {\n        const offset = i * chunkSize;\n        const data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n        chunks[i] = {\n            index: i,\n            size: data.size,\n            offset,\n            data,\n            file,\n            progress: 0,\n            retries: [...chunkRetryDelays],\n            status: ChunkStatus.QUEUED,\n            error: null,\n            request: null,\n            timeout: null\n        };\n    }\n    const completeProcessingChunks = () => load(state.serverId);\n    const canProcessChunk = chunk => chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n    const processChunk = chunk => {\n        // processing is paused, wait here\n        if (state.aborted)\n            return;\n        // get next chunk to process\n        chunk = chunk || chunks.find(canProcessChunk);\n        // no more chunks to process\n        if (!chunk) {\n            // all done?\n            if (chunks.every(chunk => chunk.status === ChunkStatus.COMPLETE)) {\n                completeProcessingChunks();\n            }\n            // no chunk to handle\n            return;\n        }\n        // now processing this chunk\n        chunk.status = ChunkStatus.PROCESSING;\n        chunk.progress = null;\n        // allow parsing of formdata\n        const ondata = chunkServer.ondata || (fd => fd);\n        const onerror = chunkServer.onerror || (res => null);\n        // send request object\n        const requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n        const headers = typeof chunkServer.headers === 'function'\n            ? chunkServer.headers(chunk)\n            : Object.assign(Object.assign({}, chunkServer.headers), { 'Content-Type': 'application/offset+octet-stream', 'Upload-Offset': chunk.offset, 'Upload-Length': file.size, 'Upload-Name': file.name });\n        const request = (chunk.request = sendRequest(ondata(chunk.data), requestUrl, Object.assign(Object.assign({}, chunkServer), { headers })));\n        request.onload = () => {\n            // done!\n            chunk.status = ChunkStatus.COMPLETE;\n            // remove request reference\n            chunk.request = null;\n            // start processing more chunks\n            processChunks();\n        };\n        request.onprogress = (lengthComputable, loaded, total) => {\n            chunk.progress = lengthComputable ? loaded : null;\n            updateTotalProgress();\n        };\n        request.onerror = xhr => {\n            chunk.status = ChunkStatus.ERROR;\n            chunk.request = null;\n            chunk.error = onerror(xhr.response) || xhr.statusText;\n            if (!retryProcessChunk(chunk)) {\n                error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n            }\n        };\n        request.ontimeout = xhr => {\n            chunk.status = ChunkStatus.ERROR;\n            chunk.request = null;\n            if (!retryProcessChunk(chunk)) {\n                createTimeoutResponse(error)(xhr);\n            }\n        };\n        request.onabort = () => {\n            chunk.status = ChunkStatus.QUEUED;\n            chunk.request = null;\n            abort();\n        };\n    };\n    const retryProcessChunk = chunk => {\n        // no more retries left\n        if (chunk.retries.length === 0)\n            return false;\n        // new retry\n        chunk.status = ChunkStatus.WAITING;\n        clearTimeout(chunk.timeout);\n        chunk.timeout = setTimeout(() => {\n            processChunk(chunk);\n        }, chunk.retries.shift());\n        // we're going to retry\n        return true;\n    };\n    const updateTotalProgress = () => {\n        // calculate total progress fraction\n        const totalBytesTransfered = chunks.reduce((p, chunk) => {\n            if (p === null || chunk.progress === null)\n                return null;\n            return p + chunk.progress;\n        }, 0);\n        // can't compute progress\n        if (totalBytesTransfered === null)\n            return progress(false, 0, 0);\n        // calculate progress values\n        const totalSize = chunks.reduce((total, chunk) => total + chunk.size, 0);\n        // can update progress indicator\n        progress(true, totalBytesTransfered, totalSize);\n    };\n    // process new chunks\n    const processChunks = () => {\n        const totalProcessing = chunks.filter(chunk => chunk.status === ChunkStatus.PROCESSING).length;\n        if (totalProcessing >= 1)\n            return;\n        processChunk();\n    };\n    const abortChunks = () => {\n        chunks.forEach(chunk => {\n            clearTimeout(chunk.timeout);\n            if (chunk.request) {\n                chunk.request.abort();\n            }\n        });\n    };\n    // let's go!\n    if (!state.serverId) {\n        requestTransferId(serverId => {\n            // stop here if aborted, might have happened in between request and callback\n            if (state.aborted)\n                return;\n            // pass back to item so we can use it if something goes wrong\n            transfer(serverId);\n            // store internally\n            state.serverId = serverId;\n            processChunks();\n        });\n    }\n    else {\n        requestTransferOffset(offset => {\n            // stop here if aborted, might have happened in between request and callback\n            if (state.aborted)\n                return;\n            // mark chunks with lower offset as complete\n            chunks\n                .filter(chunk => chunk.offset < offset)\n                .forEach(chunk => {\n                chunk.status = ChunkStatus.COMPLETE;\n                chunk.progress = chunk.size;\n            });\n            // continue processing\n            processChunks();\n        });\n    }\n    return {\n        abort: () => {\n            state.aborted = true;\n            abortChunks();\n        }\n    };\n};\n/*\nfunction signature:\n  (file, metadata, load, error, progress, abort) => {\n    return {\n    abort:() => {}\n  }\n}\n*/\nconst createFileProcessorFunction = (apiUrl, action, name, options) => (file, metadata, load, error, progress, abort, transfer) => {\n    // no file received\n    if (!file)\n        return;\n    // if was passed a file, and we can chunk it, exit here\n    const canChunkUpload = options.chunkUploads;\n    const shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n    const willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n    if (file instanceof Blob && willChunkUpload)\n        return processFileChunked(apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options);\n    // set handlers\n    const ondata = action.ondata || (fd => fd);\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n    // create formdata object\n    var formData = new FormData();\n    // add metadata under same name\n    if (isObject(metadata)) {\n        formData.append(name, JSON.stringify(metadata));\n    }\n    // Turn into an array of objects so no matter what the input, we can handle it the same way\n    (file instanceof Blob ? [{ name: null, file }] : file).forEach(item => {\n        formData.append(name, item.file, item.name === null ? item.file.name : `${item.name}${item.file.name}`);\n    });\n    // send request object\n    const request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), action);\n    request.onload = xhr => {\n        load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n    };\n    request.onerror = xhr => {\n        error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n    };\n    request.ontimeout = createTimeoutResponse(error);\n    request.onprogress = progress;\n    request.onabort = abort;\n    // should return request\n    return request;\n};\nconst createProcessorFunction = (apiUrl = '', action, name, options) => {\n    // custom handler (should also handle file, load, error, progress and abort)\n    if (typeof action === 'function')\n        return (...params) => action(name, ...params, options);\n    // no action supplied\n    if (!action || !isString(action.url))\n        return null;\n    // internal handler\n    return createFileProcessorFunction(apiUrl, action, name, options);\n};\n/*\n function signature:\n (uniqueFileId, load, error) => { }\n */\nconst createRevertFunction = (apiUrl = '', action) => {\n    // is custom implementation\n    if (typeof action === 'function') {\n        return action;\n    }\n    // no action supplied, return stub function, interface will work, but file won't be removed\n    if (!action || !isString(action.url)) {\n        return (uniqueFileId, load) => load();\n    }\n    // set onload hanlder\n    const onload = action.onload || (res => res);\n    const onerror = action.onerror || (res => null);\n    // internal implementation\n    return (uniqueFileId, load, error) => {\n        const request = sendRequest(uniqueFileId, apiUrl + action.url, action // contains method, headers and withCredentials properties\n        );\n        request.onload = xhr => {\n            load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n        };\n        request.onerror = xhr => {\n            error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n        request.ontimeout = createTimeoutResponse(error);\n        return request;\n    };\n};\nconst getRandomNumber = (min = 0, max = 1) => min + Math.random() * (max - min);\nconst createPerceivedPerformanceUpdater = (cb, duration = 1000, offset = 0, tickMin = 25, tickMax = 250) => {\n    let timeout = null;\n    const start = Date.now();\n    const tick = () => {\n        let runtime = Date.now() - start;\n        let delay = getRandomNumber(tickMin, tickMax);\n        if (runtime + delay > duration) {\n            delay = runtime + delay - duration;\n        }\n        let progress = runtime / duration;\n        if (progress >= 1 || document.hidden) {\n            cb(1);\n            return;\n        }\n        cb(progress);\n        timeout = setTimeout(tick, delay);\n    };\n    tick();\n    return {\n        clear: () => {\n            clearTimeout(timeout);\n        }\n    };\n};\nconst createFileProcessor = processFn => {\n    const state = {\n        complete: false,\n        perceivedProgress: 0,\n        perceivedPerformanceUpdater: null,\n        progress: null,\n        timestamp: null,\n        perceivedDuration: 0,\n        duration: 0,\n        request: null,\n        response: null\n    };\n    const process = (file, metadata) => {\n        const progressFn = () => {\n            // we've not yet started the real download, stop here\n            // the request might not go through, for instance, there might be some server trouble\n            // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n            if (state.duration === 0 || state.progress === null)\n                return;\n            // as we're now processing, fire the progress event\n            api.fire('progress', api.getProgress());\n        };\n        const completeFn = () => {\n            state.complete = true;\n            api.fire('load-perceived', state.response.body);\n        };\n        // let's start processing\n        api.fire('start');\n        // set request start\n        state.timestamp = Date.now();\n        // create perceived performance progress indicator\n        state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(progress => {\n            state.perceivedProgress = progress;\n            state.perceivedDuration = Date.now() - state.timestamp;\n            progressFn();\n            // if fake progress is done, and a response has been received,\n            // and we've not yet called the complete method\n            if (state.response &&\n                state.perceivedProgress === 1 &&\n                !state.complete) {\n                // we done!\n                completeFn();\n            }\n        }, \n        // random delay as in a list of files you start noticing\n        // files uploading at the exact same speed\n        getRandomNumber(750, 1500));\n        // remember request so we can abort it later\n        state.request = processFn(\n        // the file to process\n        file, \n        // the metadata to send along\n        metadata, \n        // callbacks (load, error, progress, abort, transfer)\n        // load expects the body to be a server id if\n        // you want to make use of revert\n        response => {\n            // we put the response in state so we can access\n            // it outside of this method\n            state.response = isObject(response)\n                ? response\n                : {\n                    type: 'load',\n                    code: 200,\n                    body: `${response}`,\n                    headers: {}\n                };\n            // update duration\n            state.duration = Date.now() - state.timestamp;\n            // force progress to 1 as we're now done\n            state.progress = 1;\n            // actual load is done let's share results\n            api.fire('load', state.response.body);\n            // we are really done\n            // if perceived progress is 1 ( wait for perceived progress to complete )\n            // or if server does not support progress ( null )\n            if (state.perceivedProgress === 1) {\n                completeFn();\n            }\n        }, \n        // error is expected to be an object with type, code, body\n        error => {\n            // cancel updater\n            state.perceivedPerformanceUpdater.clear();\n            // update others about this error\n            api.fire('error', isObject(error)\n                ? error\n                : {\n                    type: 'error',\n                    code: 0,\n                    body: `${error}`\n                });\n        }, \n        // actual processing progress\n        (computable, current, total) => {\n            // update actual duration\n            state.duration = Date.now() - state.timestamp;\n            // update actual progress\n            state.progress = computable ? current / total : null;\n            progressFn();\n        }, \n        // abort does not expect a value\n        () => {\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n            // fire the abort event so we can switch visuals\n            api.fire('abort', state.response ? state.response.body : null);\n        }, \n        // register the id for this transfer\n        transferId => {\n            api.fire('transfer', transferId);\n        });\n    };\n    const abort = () => {\n        // no request running, can't abort\n        if (!state.request)\n            return;\n        // stop updater\n        state.perceivedPerformanceUpdater.clear();\n        // abort actual request\n        if (state.request.abort)\n            state.request.abort();\n        // if has response object, we've completed the request\n        state.complete = true;\n    };\n    const reset = () => {\n        abort();\n        state.complete = false;\n        state.perceivedProgress = 0;\n        state.progress = 0;\n        state.timestamp = null;\n        state.perceivedDuration = 0;\n        state.duration = 0;\n        state.request = null;\n        state.response = null;\n    };\n    const getProgress = () => state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n    const getDuration = () => Math.min(state.duration, state.perceivedDuration);\n    const api = Object.assign(Object.assign({}, on()), { process,\n        abort,\n        getProgress,\n        getDuration,\n        reset });\n    return api;\n};\nconst getFilenameWithoutExtension = name => name.substr(0, name.lastIndexOf('.')) || name;\nconst createFileStub = source => {\n    let data = [source.name, source.size, source.type];\n    // is blob or base64, then we need to set the name\n    if (source instanceof Blob || isBase64DataURI(source)) {\n        data[0] = source.name || getDateString();\n    }\n    else if (isBase64DataURI(source)) {\n        // if is base64 data uri we need to determine the average size and type\n        data[1] = source.length;\n        data[2] = getMimeTypeFromBase64DataURI(source);\n    }\n    else if (isString(source)) {\n        // url\n        data[0] = getFilenameFromURL(source);\n        data[1] = 0;\n        data[2] = 'application/octet-stream';\n    }\n    return {\n        name: data[0],\n        size: data[1],\n        type: data[2]\n    };\n};\nconst isFile = value => !!(value instanceof File || (value instanceof Blob && value.name));\nconst deepCloneObject = src => {\n    if (!isObject(src))\n        return src;\n    const target = isArray(src) ? [] : {};\n    for (const key in src) {\n        if (!src.hasOwnProperty(key))\n            continue;\n        const v = src[key];\n        target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n    }\n    return target;\n};\nconst createItem = (origin = null, serverFileReference = null, file = null) => {\n    // unique id for this item, is used to identify the item across views\n    const id = getUniqueId();\n    /**\n     * Internal item state\n     */\n    const state = {\n        // is archived\n        archived: false,\n        // if is frozen, no longer fires events\n        frozen: false,\n        // removed from view\n        released: false,\n        // original source\n        source: null,\n        // file model reference\n        file,\n        // id of file on server\n        serverFileReference,\n        // id of file transfer on server\n        transferId: null,\n        // is aborted\n        processingAborted: false,\n        // current item status\n        status: serverFileReference\n            ? ItemStatus.PROCESSING_COMPLETE\n            : ItemStatus.INIT,\n        // active processes\n        activeLoader: null,\n        activeProcessor: null\n    };\n    // callback used when abort processing is called to link back to the resolve method\n    let abortProcessingRequestComplete = null;\n    /**\n     * Externally added item metadata\n     */\n    const metadata = {};\n    // item data\n    const setStatus = status => (state.status = status);\n    // fire event unless the item has been archived\n    const fire = (event, ...params) => {\n        if (state.released || state.frozen)\n            return;\n        api.fire(event, ...params);\n    };\n    // file data\n    const getFileExtension = () => getExtensionFromFilename(state.file.name);\n    const getFileType = () => state.file.type;\n    const getFileSize = () => state.file.size;\n    const getFile = () => state.file;\n    //\n    // logic to load a file\n    //\n    const load = (source, loader, onload) => {\n        // remember the original item source\n        state.source = source;\n        // source is known\n        api.fireSync('init');\n        // file stub is already there\n        if (state.file) {\n            api.fireSync('load-skip');\n            return;\n        }\n        // set a stub file object while loading the actual data\n        state.file = createFileStub(source);\n        // starts loading\n        loader.on('init', () => {\n            fire('load-init');\n        });\n        // we'eve received a size indication, let's update the stub\n        loader.on('meta', meta => {\n            // set size of file stub\n            state.file.size = meta.size;\n            // set name of file stub\n            state.file.filename = meta.filename;\n            // if has received source, we done\n            if (meta.source) {\n                origin = FileOrigin.LIMBO;\n                state.serverFileReference = meta.source;\n                state.status = ItemStatus.PROCESSING_COMPLETE;\n            }\n            // size has been updated\n            fire('load-meta');\n        });\n        // the file is now loading we need to update the progress indicators\n        loader.on('progress', progress => {\n            setStatus(ItemStatus.LOADING);\n            fire('load-progress', progress);\n        });\n        // an error was thrown while loading the file, we need to switch to error state\n        loader.on('error', error => {\n            setStatus(ItemStatus.LOAD_ERROR);\n            fire('load-request-error', error);\n        });\n        // user or another process aborted the file load (cannot retry)\n        loader.on('abort', () => {\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        });\n        // done loading\n        loader.on('load', file => {\n            // as we've now loaded the file the loader is no longer required\n            state.activeLoader = null;\n            // called when file has loaded succesfully\n            const success = result => {\n                // set (possibly) transformed file\n                state.file = isFile(result) ? result : state.file;\n                // file received\n                if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                    setStatus(ItemStatus.PROCESSING_COMPLETE);\n                }\n                else {\n                    setStatus(ItemStatus.IDLE);\n                }\n                fire('load');\n            };\n            const error = result => {\n                // set original file\n                state.file = file;\n                fire('load-meta');\n                setStatus(ItemStatus.LOAD_ERROR);\n                fire('load-file-error', result);\n            };\n            // if we already have a server file reference, we don't need to call the onload method\n            if (state.serverFileReference) {\n                success(file);\n                return;\n            }\n            // no server id, let's give this file the full treatment\n            onload(file, success, error);\n        });\n        // set loader source data\n        loader.setSource(source);\n        // set as active loader\n        state.activeLoader = loader;\n        // load the source data\n        loader.load();\n    };\n    const retryLoad = () => {\n        if (!state.activeLoader) {\n            return;\n        }\n        state.activeLoader.load();\n    };\n    const abortLoad = () => {\n        if (state.activeLoader) {\n            state.activeLoader.abort();\n            return;\n        }\n        setStatus(ItemStatus.INIT);\n        fire('load-abort');\n    };\n    //\n    // logic to process a file\n    //\n    const process = (processor, onprocess) => {\n        // processing was aborted\n        if (state.processingAborted) {\n            state.processingAborted = false;\n            return;\n        }\n        // now processing\n        setStatus(ItemStatus.PROCESSING);\n        // reset abort callback\n        abortProcessingRequestComplete = null;\n        // if no file loaded we'll wait for the load event\n        if (!(state.file instanceof Blob)) {\n            api.on('load', () => {\n                process(processor, onprocess);\n            });\n            return;\n        }\n        // setup processor\n        processor.on('load', serverFileReference => {\n            // need this id to be able to revert the upload\n            state.transferId = null;\n            state.serverFileReference = serverFileReference;\n        });\n        // register transfer id\n        processor.on('transfer', transferId => {\n            // need this id to be able to revert the upload\n            state.transferId = transferId;\n        });\n        processor.on('load-perceived', serverFileReference => {\n            // no longer required\n            state.activeProcessor = null;\n            // need this id to be able to rever the upload\n            state.transferId = null;\n            state.serverFileReference = serverFileReference;\n            setStatus(ItemStatus.PROCESSING_COMPLETE);\n            fire('process-complete', serverFileReference);\n        });\n        processor.on('start', () => {\n            fire('process-start');\n        });\n        processor.on('error', error => {\n            state.activeProcessor = null;\n            setStatus(ItemStatus.PROCESSING_ERROR);\n            fire('process-error', error);\n        });\n        processor.on('abort', serverFileReference => {\n            state.activeProcessor = null;\n            // if file was uploaded but processing was cancelled during perceived processor time store file reference\n            state.transferId = null;\n            state.serverFileReference = serverFileReference;\n            setStatus(ItemStatus.IDLE);\n            fire('process-abort');\n            // has timeout so doesn't interfere with remove action\n            if (abortProcessingRequestComplete) {\n                abortProcessingRequestComplete();\n            }\n        });\n        processor.on('progress', progress => {\n            fire('process-progress', progress);\n        });\n        // when successfully transformed\n        const success = file => {\n            // if was archived in the mean time, don't process\n            if (state.archived)\n                return;\n            // process file!\n            processor.process(file, Object.assign({}, metadata));\n        };\n        // something went wrong during transform phase\n        const error = console.error;\n        // start processing the file\n        onprocess(state.file, success, error);\n        // set as active processor\n        state.activeProcessor = processor;\n    };\n    const requestProcessing = () => {\n        state.processingAborted = false;\n        setStatus(ItemStatus.PROCESSING_QUEUED);\n    };\n    const abortProcessing = () => new Promise(resolve => {\n        if (!state.activeProcessor) {\n            state.processingAborted = true;\n            setStatus(ItemStatus.IDLE);\n            fire('process-abort');\n            resolve();\n            return;\n        }\n        abortProcessingRequestComplete = () => {\n            resolve();\n        };\n        state.activeProcessor.abort();\n    });\n    //\n    // logic to revert a processed file\n    //\n    const revert = (revertFileUpload, forceRevert) => new Promise((resolve, reject) => {\n        // cannot revert without a server id for this process\n        if (state.serverFileReference === null) {\n            resolve();\n            return;\n        }\n        // revert the upload (fire and forget)\n        revertFileUpload(state.serverFileReference, () => {\n            // reset file server id as now it's no available on the server\n            state.serverFileReference = null;\n            resolve();\n        }, error => {\n            // don't set error state when reverting is optional, it will always resolve\n            if (!forceRevert) {\n                resolve();\n                return;\n            }\n            // oh no errors\n            setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n            fire('process-revert-error');\n            reject(error);\n        });\n        // fire event\n        setStatus(ItemStatus.IDLE);\n        fire('process-revert');\n    });\n    // exposed methods\n    const setMetadata = (key, value, silent) => {\n        const keys = key.split('.');\n        const root = keys[0];\n        const last = keys.pop();\n        let data = metadata;\n        keys.forEach(key => (data = data[key]));\n        // compare old value against new value, if they're the same, we're not updating\n        if (JSON.stringify(data[last]) === JSON.stringify(value))\n            return;\n        // update value\n        data[last] = value;\n        // don't fire update\n        if (silent)\n            return;\n        // fire update\n        fire('metadata-update', {\n            key: root,\n            value: metadata[root]\n        });\n    };\n    const getMetadata = key => deepCloneObject(key ? metadata[key] : metadata);\n    const api = Object.assign(Object.assign({ id: { get: () => id }, origin: { get: () => origin }, serverId: { get: () => state.serverFileReference }, transferId: { get: () => state.transferId }, status: { get: () => state.status }, filename: { get: () => state.file.name }, filenameWithoutExtension: {\n            get: () => getFilenameWithoutExtension(state.file.name)\n        }, fileExtension: { get: getFileExtension }, fileType: { get: getFileType }, fileSize: { get: getFileSize }, file: { get: getFile }, relativePath: { get: () => state.file._relativePath }, source: { get: () => state.source }, getMetadata, setMetadata: (key, value, silent) => {\n            if (isObject(key)) {\n                const data = key;\n                Object.keys(data).forEach(key => {\n                    setMetadata(key, data[key], value);\n                });\n                return key;\n            }\n            setMetadata(key, value, silent);\n            return value;\n        }, extend: (name, handler) => (itemAPI[name] = handler), abortLoad,\n        retryLoad,\n        requestProcessing,\n        abortProcessing,\n        load,\n        process,\n        revert }, on()), { freeze: () => (state.frozen = true), release: () => (state.released = true), released: { get: () => state.released }, archive: () => (state.archived = true), archived: { get: () => state.archived } });\n    // create it here instead of returning it instantly so we can extend it later\n    const itemAPI = createObject(api);\n    return itemAPI;\n};\nconst getItemIndexByQuery = (items, query) => {\n    // just return first index\n    if (isEmpty(query)) {\n        return 0;\n    }\n    // invalid queries\n    if (!isString(query)) {\n        return -1;\n    }\n    // return item by id (or -1 if not found)\n    return items.findIndex(item => item.id === query);\n};\nconst getItemById = (items, itemId) => {\n    const index = getItemIndexByQuery(items, itemId);\n    if (index < 0) {\n        return;\n    }\n    return items[index] || null;\n};\nconst fetchBlob = (url, load, error, progress, abort, headers) => {\n    const request = sendRequest(null, url, {\n        method: 'GET',\n        responseType: 'blob'\n    });\n    request.onload = xhr => {\n        // get headers\n        const headers = xhr.getAllResponseHeaders();\n        // get filename\n        const filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n        // create response\n        load(createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers));\n    };\n    request.onerror = xhr => {\n        error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n    };\n    request.onheaders = xhr => {\n        headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n    };\n    request.ontimeout = createTimeoutResponse(error);\n    request.onprogress = progress;\n    request.onabort = abort;\n    // should return request\n    return request;\n};\nconst getDomainFromURL = url => {\n    if (url.indexOf('//') === 0) {\n        url = location.protocol + url;\n    }\n    return url\n        .toLowerCase()\n        .replace('blob:', '')\n        .replace(/([a-z])?:\\/\\//, '$1')\n        .split('/')[0];\n};\nconst isExternalURL = url => (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n    getDomainFromURL(location.href) !== getDomainFromURL(url);\nconst dynamicLabel = label => (...params) => isFunction(label) ? label(...params) : label;\nconst isMockItem = item => !isFile(item.file);\nconst listUpdated = (dispatch, state) => {\n    clearTimeout(state.listUpdateTimeout);\n    state.listUpdateTimeout = setTimeout(() => {\n        dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n    }, 0);\n};\nconst optionalPromise = (fn, ...params) => new Promise(resolve => {\n    if (!fn) {\n        return resolve(true);\n    }\n    const result = fn(...params);\n    if (result == null) {\n        return resolve(true);\n    }\n    if (typeof result === 'boolean') {\n        return resolve(result);\n    }\n    if (typeof result.then === 'function') {\n        result.then(resolve);\n    }\n});\nconst sortItems = (state, compare) => {\n    state.items.sort((a, b) => compare(createItemAPI(a), createItemAPI(b)));\n};\n// returns item based on state\nconst getItemByQueryFromState = (state, itemHandler) => (_a = {}) => {\n    var { query, success = () => { }, failure = () => { } } = _a, options = __rest(_a, [\"query\", \"success\", \"failure\"]);\n    const item = getItemByQuery(state.items, query);\n    if (!item) {\n        failure({\n            error: createResponse('error', 0, 'Item not found'),\n            file: null\n        });\n        return;\n    }\n    itemHandler(item, success, failure, options || {});\n};\nconst actions = (dispatch, query, state) => ({\n    /**\n     * Aborts all ongoing processes\n     */\n    ABORT_ALL: () => {\n        getActiveItems(state.items).forEach(item => {\n            item.freeze();\n            item.abortLoad();\n            item.abortProcessing();\n        });\n    },\n    /**\n     * Sets initial files\n     */\n    DID_SET_FILES: ({ value = [] }) => {\n        // map values to file objects\n        const files = value.map(file => ({\n            source: file.source ? file.source : file,\n            options: file.options\n        }));\n        // loop over files, if file is in list, leave it be, if not, remove\n        // test if items should be moved\n        let activeItems = getActiveItems(state.items);\n        activeItems.forEach(item => {\n            // if item not is in new value, remove\n            if (!files.find(file => file.source === item.source || file.source === item.file)) {\n                dispatch('REMOVE_ITEM', { query: item, remove: false });\n            }\n        });\n        // add new files\n        activeItems = getActiveItems(state.items);\n        files.forEach((file, index) => {\n            // if file is already in list\n            if (activeItems.find(item => item.source === file.source || item.file === file.source))\n                return;\n            // not in list, add\n            dispatch('ADD_ITEM', Object.assign(Object.assign({}, file), { interactionMethod: InteractionMethod.NONE, index }));\n        });\n    },\n    DID_UPDATE_ITEM_METADATA: ({ id, action }) => {\n        // if is called multiple times in close succession we combined all calls together to save resources\n        clearTimeout(state.itemUpdateTimeout);\n        state.itemUpdateTimeout = setTimeout(() => {\n            const item = getItemById(state.items, id);\n            // only revert and attempt to upload when we're uploading to a server\n            if (!query('IS_ASYNC')) {\n                // should we update the output data\n                applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                    item,\n                    query,\n                    action\n                }).then(shouldPrepareOutput => {\n                    // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                    const beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                    if (beforePrepareFile)\n                        shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n                    if (!shouldPrepareOutput)\n                        return;\n                    dispatch('REQUEST_PREPARE_OUTPUT', {\n                        query: id,\n                        item,\n                        success: file => {\n                            dispatch('DID_PREPARE_OUTPUT', { id, file });\n                        }\n                    }, true);\n                });\n                return;\n            }\n            // for async scenarios\n            const upload = () => {\n                // we push this forward a bit so the interface is updated correctly\n                setTimeout(() => {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                }, 32);\n            };\n            const revert = doUpload => {\n                item\n                    .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n                    .then(doUpload ? upload : () => { })\n                    .catch(() => { });\n            };\n            const abort = doUpload => {\n                item.abortProcessing().then(doUpload ? upload : () => { });\n            };\n            // if we should re-upload the file immediately\n            if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                return revert(state.options.instantUpload);\n            }\n            // if currently uploading, cancel upload\n            if (item.status === ItemStatus.PROCESSING) {\n                return abort(state.options.instantUpload);\n            }\n            if (state.options.instantUpload) {\n                upload();\n            }\n        }, 0);\n    },\n    MOVE_ITEM: ({ query, index }) => {\n        const item = getItemByQuery(state.items, query);\n        if (!item)\n            return;\n        const currentIndex = state.items.indexOf(item);\n        index = limit(index, 0, state.items.length - 1);\n        if (currentIndex === index)\n            return;\n        state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n    },\n    SORT: ({ compare }) => {\n        sortItems(state, compare);\n        dispatch('DID_SORT_ITEMS', {\n            items: query('GET_ACTIVE_ITEMS')\n        });\n    },\n    ADD_ITEMS: ({ items, index, interactionMethod, success = () => { }, failure = () => { } }) => {\n        let currentIndex = index;\n        if (index === -1 || typeof index === 'undefined') {\n            const insertLocation = query('GET_ITEM_INSERT_LOCATION');\n            const totalItems = query('GET_TOTAL_ITEMS');\n            currentIndex = insertLocation === 'before' ? 0 : totalItems;\n        }\n        const ignoredFiles = query('GET_IGNORED_FILES');\n        const isValidFile = source => isFile(source)\n            ? !ignoredFiles.includes(source.name.toLowerCase())\n            : !isEmpty(source);\n        const validItems = items.filter(isValidFile);\n        const promises = validItems.map(source => new Promise((resolve, reject) => {\n            dispatch('ADD_ITEM', {\n                interactionMethod,\n                source: source.source || source,\n                success: resolve,\n                failure: reject,\n                index: currentIndex++,\n                options: source.options || {}\n            });\n        }));\n        Promise.all(promises)\n            .then(success)\n            .catch(failure);\n    },\n    /**\n     * @param source\n     * @param index\n     * @param interactionMethod\n     */\n    ADD_ITEM: ({ source, index = -1, interactionMethod, success = () => { }, failure = () => { }, options = {} }) => {\n        // if no source supplied\n        if (isEmpty(source)) {\n            failure({\n                error: createResponse('error', 0, 'No source'),\n                file: null\n            });\n            return;\n        }\n        // filter out invalid file items, used to filter dropped directory contents\n        if (isFile(source) &&\n            state.options.ignoredFiles.includes(source.name.toLowerCase())) {\n            // fail silently\n            return;\n        }\n        // test if there's still room in the list of files\n        if (!hasRoomForItem(state)) {\n            // if multiple allowed, we can't replace\n            // or if only a single item is allowed but we're not allowed to replace it we exit\n            if (state.options.allowMultiple ||\n                (!state.options.allowMultiple && !state.options.allowReplace)) {\n                const error = createResponse('warning', 0, 'Max files');\n                dispatch('DID_THROW_MAX_FILES', {\n                    source,\n                    error\n                });\n                failure({ error, file: null });\n                return;\n            }\n            // let's replace the item\n            // id of first item we're about to remove\n            const item = getActiveItems(state.items)[0];\n            // if has been processed remove it from the server as well\n            if (item.status === ItemStatus.PROCESSING_COMPLETE ||\n                item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n                const forceRevert = query('GET_FORCE_REVERT');\n                item\n                    .revert(createRevertFunction(state.options.server.url, state.options.server.revert), forceRevert)\n                    .then(() => {\n                    if (!forceRevert)\n                        return;\n                    // try to add now\n                    dispatch('ADD_ITEM', {\n                        source,\n                        index,\n                        interactionMethod,\n                        success,\n                        failure,\n                        options\n                    });\n                })\n                    .catch(() => { }); // no need to handle this catch state for now\n                if (forceRevert)\n                    return;\n            }\n            // remove first item as it will be replaced by this item\n            dispatch('REMOVE_ITEM', { query: item.id });\n        }\n        // where did the file originate\n        const origin = options.type === 'local'\n            ? FileOrigin.LOCAL\n            : options.type === 'limbo'\n                ? FileOrigin.LIMBO\n                : FileOrigin.INPUT;\n        // create a new blank item\n        const item = createItem(\n        // where did this file come from\n        origin, \n        // an input file never has a server file reference\n        origin === FileOrigin.INPUT ? null : source, \n        // file mock data, if defined\n        options.file);\n        // set initial meta data\n        Object.keys(options.metadata || {}).forEach(key => {\n            item.setMetadata(key, options.metadata[key]);\n        });\n        // created the item, let plugins add methods\n        applyFilters('DID_CREATE_ITEM', item, { query, dispatch });\n        // where to insert new items\n        const itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n        // adjust index if is not allowed to pick location\n        if (!state.options.itemInsertLocationFreedom) {\n            index = itemInsertLocation === 'before' ? -1 : state.items.length;\n        }\n        // add item to list\n        insertItem(state.items, item, index);\n        // sort items in list\n        if (isFunction(itemInsertLocation) && source) {\n            sortItems(state, itemInsertLocation);\n        }\n        // get a quick reference to the item id\n        const id = item.id;\n        // observe item events\n        item.on('init', () => {\n            dispatch('DID_INIT_ITEM', { id });\n        });\n        item.on('load-init', () => {\n            dispatch('DID_START_ITEM_LOAD', { id });\n        });\n        item.on('load-meta', () => {\n            dispatch('DID_UPDATE_ITEM_META', { id });\n        });\n        item.on('load-progress', progress => {\n            dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id, progress });\n        });\n        item.on('load-request-error', error => {\n            const mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n            // is client error, no way to recover\n            if (error.code >= 400 && error.code < 500) {\n                dispatch('DID_THROW_ITEM_INVALID', {\n                    id,\n                    error,\n                    status: {\n                        main: mainStatus,\n                        sub: `${error.code} (${error.body})`\n                    }\n                });\n                // reject the file so can be dealt with through API\n                failure({ error, file: createItemAPI(item) });\n                return;\n            }\n            // is possible server error, so might be possible to retry\n            dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                id,\n                error,\n                status: {\n                    main: mainStatus,\n                    sub: state.options.labelTapToRetry\n                }\n            });\n        });\n        item.on('load-file-error', error => {\n            dispatch('DID_THROW_ITEM_INVALID', {\n                id,\n                error: error.status,\n                status: error.status\n            });\n            failure({ error: error.status, file: createItemAPI(item) });\n        });\n        item.on('load-abort', () => {\n            dispatch('REMOVE_ITEM', { query: id });\n        });\n        item.on('load-skip', () => {\n            dispatch('COMPLETE_LOAD_ITEM', {\n                query: id,\n                item,\n                data: {\n                    source,\n                    success\n                }\n            });\n        });\n        item.on('load', () => {\n            const handleAdd = shouldAdd => {\n                // no should not add this file\n                if (!shouldAdd) {\n                    dispatch('REMOVE_ITEM', {\n                        query: id\n                    });\n                    return;\n                }\n                // now interested in metadata updates\n                item.on('metadata-update', change => {\n                    dispatch('DID_UPDATE_ITEM_METADATA', { id, change });\n                });\n                // let plugins decide if the output data should be prepared at this point\n                // means we'll do this and wait for idle state\n                applyFilterChain('SHOULD_PREPARE_OUTPUT', false, { item, query }).then(shouldPrepareOutput => {\n                    // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                    const beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                    if (beforePrepareFile)\n                        shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n                    const loadComplete = () => {\n                        dispatch('COMPLETE_LOAD_ITEM', {\n                            query: id,\n                            item,\n                            data: {\n                                source,\n                                success\n                            }\n                        });\n                        listUpdated(dispatch, state);\n                    };\n                    // exit\n                    if (shouldPrepareOutput) {\n                        // wait for idle state and then run PREPARE_OUTPUT\n                        dispatch('REQUEST_PREPARE_OUTPUT', {\n                            query: id,\n                            item,\n                            success: file => {\n                                dispatch('DID_PREPARE_OUTPUT', { id, file });\n                                loadComplete();\n                            }\n                        }, true);\n                        return;\n                    }\n                    loadComplete();\n                });\n            };\n            // item loaded, allow plugins to\n            // - read data (quickly)\n            // - add metadata\n            applyFilterChain('DID_LOAD_ITEM', item, { query, dispatch })\n                .then(() => {\n                optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(handleAdd);\n            })\n                .catch(() => {\n                handleAdd(false);\n            });\n        });\n        item.on('process-start', () => {\n            dispatch('DID_START_ITEM_PROCESSING', { id });\n        });\n        item.on('process-progress', progress => {\n            dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id, progress });\n        });\n        item.on('process-error', error => {\n            dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                id,\n                error,\n                status: {\n                    main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                    sub: state.options.labelTapToRetry\n                }\n            });\n        });\n        item.on('process-revert-error', error => {\n            dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                id,\n                error,\n                status: {\n                    main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                    sub: state.options.labelTapToRetry\n                }\n            });\n        });\n        item.on('process-complete', serverFileReference => {\n            dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                id,\n                error: null,\n                serverFileReference\n            });\n            dispatch('DID_DEFINE_VALUE', { id, value: serverFileReference });\n        });\n        item.on('process-abort', () => {\n            dispatch('DID_ABORT_ITEM_PROCESSING', { id });\n        });\n        item.on('process-revert', () => {\n            dispatch('DID_REVERT_ITEM_PROCESSING', { id });\n            dispatch('DID_DEFINE_VALUE', { id, value: null });\n        });\n        // let view know the item has been inserted\n        dispatch('DID_ADD_ITEM', { id, index, interactionMethod });\n        listUpdated(dispatch, state);\n        // start loading the source\n        const { url, load, restore, fetch } = state.options.server || {};\n        item.load(source, \n        // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n        createFileLoader(origin === FileOrigin.INPUT\n            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                isString(source) && isExternalURL(source)\n                    ? fetch\n                        ? createFetchFunction(url, fetch)\n                        : fetchBlob // remote url\n                    : fetchBlob // try to fetch url\n            : // limbo or local\n                origin === FileOrigin.LIMBO\n                    ? createFetchFunction(url, restore) // limbo\n                    : createFetchFunction(url, load) // local\n        ), \n        // called when the file is loaded so it can be piped through the filters\n        (file, success, error) => {\n            // let's process the file\n            applyFilterChain('LOAD_FILE', file, { query })\n                .then(success)\n                .catch(error);\n        });\n    },\n    REQUEST_PREPARE_OUTPUT: ({ item, success, failure = () => { } }) => {\n        // error response if item archived\n        const err = {\n            error: createResponse('error', 0, 'Item not found'),\n            file: null\n        };\n        // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n        if (item.archived)\n            return failure(err);\n        // allow plugins to alter the file data\n        applyFilterChain('PREPARE_OUTPUT', item.file, { query, item }).then(result => {\n            applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                query,\n                item\n            }).then(result => {\n                // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                if (item.archived)\n                    return failure(err);\n                // we done!\n                success(result);\n            });\n        });\n    },\n    COMPLETE_LOAD_ITEM: ({ item, data }) => {\n        const { success, source } = data;\n        // sort items in list\n        const itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n        if (isFunction(itemInsertLocation) && source) {\n            sortItems(state, itemInsertLocation);\n        }\n        // let interface know the item has loaded\n        dispatch('DID_LOAD_ITEM', {\n            id: item.id,\n            error: null,\n            serverFileReference: item.origin === FileOrigin.INPUT ? null : source\n        });\n        // item has been successfully loaded and added to the\n        // list of items so can now be safely returned for use\n        success(createItemAPI(item));\n        // if this is a local server file we need to show a different state\n        if (item.origin === FileOrigin.LOCAL) {\n            dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n            return;\n        }\n        // if is a temp server file we prevent async upload call here (as the file is already on the server)\n        if (item.origin === FileOrigin.LIMBO) {\n            dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                id: item.id,\n                error: null,\n                serverFileReference: source\n            });\n            dispatch('DID_DEFINE_VALUE', {\n                id: item.id,\n                value: source\n            });\n            return;\n        }\n        // id we are allowed to upload the file immediately, lets do it\n        if (query('IS_ASYNC') && state.options.instantUpload) {\n            dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n        }\n    },\n    RETRY_ITEM_LOAD: getItemByQueryFromState(state, item => {\n        // try loading the source one more time\n        item.retryLoad();\n    }),\n    REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, (item, success, failure) => {\n        dispatch('REQUEST_PREPARE_OUTPUT', {\n            query: item.id,\n            item,\n            success: file => {\n                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file });\n                success({\n                    file: item,\n                    output: file\n                });\n            },\n            failure\n        }, true);\n    }),\n    REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, (item, success, failure) => {\n        // cannot be queued (or is already queued)\n        const itemCanBeQueuedForProcessing = \n        // waiting for something\n        item.status === ItemStatus.IDLE ||\n            // processing went wrong earlier\n            item.status === ItemStatus.PROCESSING_ERROR;\n        // not ready to be processed\n        if (!itemCanBeQueuedForProcessing) {\n            const processNow = () => dispatch('REQUEST_ITEM_PROCESSING', {\n                query: item,\n                success,\n                failure\n            });\n            const process = () => document.hidden ? processNow() : setTimeout(processNow, 32);\n            // if already done processing or tried to revert but didn't work, try again\n            if (item.status === ItemStatus.PROCESSING_COMPLETE ||\n                item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n                item\n                    .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n                    .then(process)\n                    .catch(() => { }); // don't continue with processing if something went wrong\n            }\n            else if (item.status === ItemStatus.PROCESSING) {\n                item.abortProcessing().then(process);\n            }\n            return;\n        }\n        // already queued for processing\n        if (item.status === ItemStatus.PROCESSING_QUEUED)\n            return;\n        item.requestProcessing();\n        dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n        dispatch('PROCESS_ITEM', { query: item, success, failure }, true);\n    }),\n    PROCESS_ITEM: getItemByQueryFromState(state, (item, success, failure) => {\n        const maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n        const totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING).length;\n        // queue and wait till queue is freed up\n        if (totalCurrentUploads === maxParallelUploads) {\n            // queue for later processing\n            state.processingQueue.push({\n                id: item.id,\n                success,\n                failure\n            });\n            // stop it!\n            return;\n        }\n        // if was not queued or is already processing exit here\n        if (item.status === ItemStatus.PROCESSING)\n            return;\n        const processNext = () => {\n            // process queueud items\n            const queueEntry = state.processingQueue.shift();\n            // no items left\n            if (!queueEntry)\n                return;\n            // get item reference\n            const { id, success, failure } = queueEntry;\n            const itemReference = getItemByQuery(state.items, id);\n            // if item was archived while in queue, jump to next\n            if (!itemReference || itemReference.archived) {\n                processNext();\n                return;\n            }\n            // process queued item\n            dispatch('PROCESS_ITEM', { query: id, success, failure }, true);\n        };\n        // we done function\n        item.onOnce('process-complete', () => {\n            success(createItemAPI(item));\n            processNext();\n            // All items processed? No errors?\n            const allItemsProcessed = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                state.items.length;\n            if (allItemsProcessed) {\n                dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n            }\n        });\n        // we error function\n        item.onOnce('process-error', error => {\n            failure({ error, file: createItemAPI(item) });\n            processNext();\n        });\n        // start file processing\n        const options = state.options;\n        item.process(createFileProcessor(createProcessorFunction(options.server.url, options.server.process, options.name, {\n            chunkTransferId: item.transferId,\n            chunkServer: options.server.patch,\n            chunkUploads: options.chunkUploads,\n            chunkForce: options.chunkForce,\n            chunkSize: options.chunkSize,\n            chunkRetryDelays: options.chunkRetryDelays\n        })), \n        // called when the file is about to be processed so it can be piped through the transform filters\n        (file, success, error) => {\n            // allow plugins to alter the file data\n            applyFilterChain('PREPARE_OUTPUT', file, { query, item })\n                .then(file => {\n                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file });\n                success(file);\n            })\n                .catch(error);\n        });\n    }),\n    RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n    }),\n    REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, item => {\n        optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(shouldRemove => {\n            if (!shouldRemove) {\n                return;\n            }\n            dispatch('REMOVE_ITEM', { query: item });\n        });\n    }),\n    RELEASE_ITEM: getItemByQueryFromState(state, item => {\n        item.release();\n    }),\n    REMOVE_ITEM: getItemByQueryFromState(state, (item, success, failure, options) => {\n        const removeFromView = () => {\n            // get id reference\n            const id = item.id;\n            // archive the item, this does not remove it from the list\n            getItemById(state.items, id).archive();\n            // tell the view the item has been removed\n            dispatch('DID_REMOVE_ITEM', { error: null, id, item });\n            // now the list has been modified\n            listUpdated(dispatch, state);\n            // correctly removed\n            success(createItemAPI(item));\n        };\n        // if this is a local file and the server.remove function has been configured, send source there so dev can remove file from server\n        const server = state.options.server;\n        if (item.origin === FileOrigin.LOCAL &&\n            server &&\n            isFunction(server.remove) &&\n            options.remove !== false) {\n            dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n            server.remove(item.source, () => removeFromView(), status => {\n                dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                    id: item.id,\n                    error: createResponse('error', 0, status, null),\n                    status: {\n                        main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                        sub: state.options.labelTapToRetry\n                    }\n                });\n            });\n        }\n        else {\n            // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n            if (options.revert &&\n                item.origin !== FileOrigin.LOCAL &&\n                item.serverId !== null) {\n                item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'));\n            }\n            // can now safely remove from view\n            removeFromView();\n        }\n    }),\n    ABORT_ITEM_LOAD: getItemByQueryFromState(state, item => {\n        item.abortLoad();\n    }),\n    ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        // test if is already processed\n        if (item.serverId) {\n            dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n            return;\n        }\n        // abort\n        item.abortProcessing().then(() => {\n            const shouldRemove = state.options.instantUpload;\n            if (shouldRemove) {\n                dispatch('REMOVE_ITEM', { query: item.id });\n            }\n        });\n    }),\n    REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        // not instant uploading, revert immediately\n        if (!state.options.instantUpload) {\n            dispatch('REVERT_ITEM_PROCESSING', { query: item });\n            return;\n        }\n        // if we're instant uploading the file will also be removed if we revert,\n        // so if a before remove file hook is defined we need to run it now\n        const handleRevert = shouldRevert => {\n            if (!shouldRevert)\n                return;\n            dispatch('REVERT_ITEM_PROCESSING', { query: item });\n        };\n        const fn = query('GET_BEFORE_REMOVE_FILE');\n        if (!fn) {\n            return handleRevert(true);\n        }\n        const requestRemoveResult = fn(createItemAPI(item));\n        if (requestRemoveResult == null) {\n            // undefined or null\n            return handleRevert(true);\n        }\n        if (typeof requestRemoveResult === 'boolean') {\n            return handleRevert(requestRemoveResult);\n        }\n        if (typeof requestRemoveResult.then === 'function') {\n            requestRemoveResult.then(handleRevert);\n        }\n    }),\n    REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, item => {\n        item\n            .revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'))\n            .then(() => {\n            const shouldRemove = state.options.instantUpload || isMockItem(item);\n            if (shouldRemove) {\n                dispatch('REMOVE_ITEM', { query: item.id });\n            }\n        })\n            .catch(() => { });\n    }),\n    SET_OPTIONS: ({ options }) => {\n        forin(options, (key, value) => {\n            dispatch(`SET_${fromCamels(key, '_').toUpperCase()}`, { value });\n        });\n    }\n});\nconst formatFilename = name => name;\nconst createElement$1 = tagName => {\n    return document.createElement(tagName);\n};\nconst text = (node, value) => {\n    let textNode = node.childNodes[0];\n    if (!textNode) {\n        textNode = document.createTextNode(value);\n        node.appendChild(textNode);\n    }\n    else if (value !== textNode.nodeValue) {\n        textNode.nodeValue = value;\n    }\n};\nconst polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {\n    const angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n    return {\n        x: centerX + radius * Math.cos(angleInRadians),\n        y: centerY + radius * Math.sin(angleInRadians)\n    };\n};\nconst describeArc = (x, y, radius, startAngle, endAngle, arcSweep) => {\n    const start = polarToCartesian(x, y, radius, endAngle);\n    const end = polarToCartesian(x, y, radius, startAngle);\n    return [\n        'M',\n        start.x,\n        start.y,\n        'A',\n        radius,\n        radius,\n        0,\n        arcSweep,\n        0,\n        end.x,\n        end.y\n    ].join(' ');\n};\nconst percentageArc = (x, y, radius, from, to) => {\n    let arcSweep = 1;\n    if (to > from && to - from <= 0.5) {\n        arcSweep = 0;\n    }\n    if (from > to && from - to >= 0.5) {\n        arcSweep = 0;\n    }\n    return describeArc(x, y, radius, Math.min(0.9999, from) * 360, Math.min(0.9999, to) * 360, arcSweep);\n};\nconst create = ({ root, props }) => {\n    // start at 0\n    props.spin = false;\n    props.progress = 0;\n    props.opacity = 0;\n    // svg\n    const svg = createElement('svg');\n    root.ref.path = createElement('path', {\n        'stroke-width': 2,\n        'stroke-linecap': 'round'\n    });\n    svg.appendChild(root.ref.path);\n    root.ref.svg = svg;\n    root.appendChild(svg);\n};\nconst write = ({ root, props }) => {\n    if (props.opacity === 0) {\n        return;\n    }\n    if (props.align) {\n        root.element.dataset.align = props.align;\n    }\n    // get width of stroke\n    const ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n    // calculate size of ring\n    const size = root.rect.element.width * 0.5;\n    // ring state\n    let ringFrom = 0;\n    let ringTo = 0;\n    // now in busy mode\n    if (props.spin) {\n        ringFrom = 0;\n        ringTo = 0.5;\n    }\n    else {\n        ringFrom = 0;\n        ringTo = props.progress;\n    }\n    // get arc path\n    const coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n    // update progress bar\n    attr(root.ref.path, 'd', coordinates);\n    // hide while contains 0 value\n    attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n};\nconst progressIndicator = createView({\n    tag: 'div',\n    name: 'progress-indicator',\n    ignoreRectUpdate: true,\n    ignoreRect: true,\n    create,\n    write,\n    mixins: {\n        apis: ['progress', 'spin', 'align'],\n        styles: ['opacity'],\n        animations: {\n            opacity: { type: 'tween', duration: 500 },\n            progress: {\n                type: 'spring',\n                stiffness: 0.95,\n                damping: 0.65,\n                mass: 10\n            }\n        }\n    }\n});\nconst create$1 = ({ root, props }) => {\n    root.element.innerHTML = (props.icon || '') + `<span>${props.label}</span>`;\n    props.isDisabled = false;\n};\nconst write$1 = ({ root, props }) => {\n    const { isDisabled } = props;\n    const shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n    if (shouldDisable && !isDisabled) {\n        props.isDisabled = true;\n        attr(root.element, 'disabled', 'disabled');\n    }\n    else if (!shouldDisable && isDisabled) {\n        props.isDisabled = false;\n        root.element.removeAttribute('disabled');\n    }\n};\nconst fileActionButton = createView({\n    tag: 'button',\n    attributes: {\n        type: 'button'\n    },\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'file-action-button',\n    mixins: {\n        apis: ['label'],\n        styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            translateX: 'spring',\n            translateY: 'spring',\n            opacity: { type: 'tween', duration: 250 }\n        },\n        listeners: true\n    },\n    create: create$1,\n    write: write$1\n});\nconst toNaturalFileSize = (bytes, decimalSeparator = '.', base = 1000) => {\n    // no negative byte sizes\n    bytes = Math.round(Math.abs(bytes));\n    const KB = base;\n    const MB = base * base;\n    const GB = base * base * base;\n    // just bytes\n    if (bytes < KB) {\n        return `${bytes} bytes`;\n    }\n    // kilobytes\n    if (bytes < MB) {\n        return `${Math.floor(bytes / KB)} KB`;\n    }\n    // megabytes\n    if (bytes < GB) {\n        return `${removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator)} MB`;\n    }\n    // gigabytes\n    return `${removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator)} GB`;\n};\nconst removeDecimalsWhenZero = (value, decimalCount, separator) => {\n    return value\n        .toFixed(decimalCount)\n        .split('.')\n        .filter(part => part !== '0')\n        .join(separator);\n};\nconst create$2 = ({ root, props }) => {\n    // filename\n    const fileName = createElement$1('span');\n    fileName.className = 'filepond--file-info-main';\n    // hide for screenreaders\n    // the file is contained in a fieldset with legend that contains the filename\n    // no need to read it twice\n    attr(fileName, 'aria-hidden', 'true');\n    root.appendChild(fileName);\n    root.ref.fileName = fileName;\n    // filesize\n    const fileSize = createElement$1('span');\n    fileSize.className = 'filepond--file-info-sub';\n    root.appendChild(fileSize);\n    root.ref.fileSize = fileSize;\n    // set initial values\n    text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n    text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\nconst updateFile = ({ root, props }) => {\n    text(root.ref.fileSize, toNaturalFileSize(root.query('GET_ITEM_SIZE', props.id), '.', root.query('GET_FILE_SIZE_BASE')));\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\nconst updateFileSizeOnError = ({ root, props }) => {\n    // if size is available don't fallback to unknown size message\n    if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n        return;\n    }\n    text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n};\nconst fileInfo = createView({\n    name: 'file-info',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: updateFile,\n        DID_UPDATE_ITEM_META: updateFile,\n        DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n        DID_THROW_ITEM_INVALID: updateFileSizeOnError\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', Object.assign(Object.assign({}, root), { view: root }));\n    },\n    create: create$2,\n    mixins: {\n        styles: ['translateX', 'translateY'],\n        animations: {\n            translateX: 'spring',\n            translateY: 'spring'\n        }\n    }\n});\nconst toPercentage = value => Math.round(value * 100);\nconst create$3 = ({ root }) => {\n    // main status\n    const main = createElement$1('span');\n    main.className = 'filepond--file-status-main';\n    root.appendChild(main);\n    root.ref.main = main;\n    // sub status\n    const sub = createElement$1('span');\n    sub.className = 'filepond--file-status-sub';\n    root.appendChild(sub);\n    root.ref.sub = sub;\n    didSetItemLoadProgress({ root, action: { progress: null } });\n};\nconst didSetItemLoadProgress = ({ root, action }) => {\n    const title = action.progress === null\n        ? root.query('GET_LABEL_FILE_LOADING')\n        : `${root.query('GET_LABEL_FILE_LOADING')} ${toPercentage(action.progress)}%`;\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\nconst didSetItemProcessProgress = ({ root, action }) => {\n    const title = action.progress === null\n        ? root.query('GET_LABEL_FILE_PROCESSING')\n        : `${root.query('GET_LABEL_FILE_PROCESSING')} ${toPercentage(action.progress)}%`;\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\nconst didRequestItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n};\nconst didAbortItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n};\nconst didCompleteItemProcessing = ({ root }) => {\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n};\nconst clear = ({ root }) => {\n    text(root.ref.main, '');\n    text(root.ref.sub, '');\n};\nconst error = ({ root, action }) => {\n    text(root.ref.main, action.status.main);\n    text(root.ref.sub, action.status.sub);\n};\nconst fileStatus = createView({\n    name: 'file-status',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: clear,\n        DID_REVERT_ITEM_PROCESSING: clear,\n        DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n        DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n        DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n        DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n        DID_THROW_ITEM_LOAD_ERROR: error,\n        DID_THROW_ITEM_INVALID: error,\n        DID_THROW_ITEM_PROCESSING_ERROR: error,\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n        DID_THROW_ITEM_REMOVE_ERROR: error\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', Object.assign(Object.assign({}, root), { view: root }));\n    },\n    create: create$3,\n    mixins: {\n        styles: ['translateX', 'translateY', 'opacity'],\n        animations: {\n            opacity: { type: 'tween', duration: 250 },\n            translateX: 'spring',\n            translateY: 'spring'\n        }\n    }\n});\n/**\n * Button definitions for the file view\n */\nconst Buttons = {\n    AbortItemLoad: {\n        label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n        action: 'ABORT_ITEM_LOAD',\n        className: 'filepond--action-abort-item-load',\n        align: 'LOAD_INDICATOR_POSITION' // right\n    },\n    RetryItemLoad: {\n        label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n        action: 'RETRY_ITEM_LOAD',\n        icon: 'GET_ICON_RETRY',\n        className: 'filepond--action-retry-item-load',\n        align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n    },\n    RemoveItem: {\n        label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n        action: 'REQUEST_REMOVE_ITEM',\n        icon: 'GET_ICON_REMOVE',\n        className: 'filepond--action-remove-item',\n        align: 'BUTTON_REMOVE_ITEM_POSITION' // left\n    },\n    ProcessItem: {\n        label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n        action: 'REQUEST_ITEM_PROCESSING',\n        icon: 'GET_ICON_PROCESS',\n        className: 'filepond--action-process-item',\n        align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n    },\n    AbortItemProcessing: {\n        label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n        action: 'ABORT_ITEM_PROCESSING',\n        className: 'filepond--action-abort-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n    },\n    RetryItemProcessing: {\n        label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n        action: 'RETRY_ITEM_PROCESSING',\n        icon: 'GET_ICON_RETRY',\n        className: 'filepond--action-retry-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n    },\n    RevertItemProcessing: {\n        label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n        action: 'REQUEST_REVERT_ITEM_PROCESSING',\n        icon: 'GET_ICON_UNDO',\n        className: 'filepond--action-revert-item-processing',\n        align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n    }\n};\n// make a list of buttons, we can then remove buttons from this list if they're disabled\nconst ButtonKeys = [];\nforin(Buttons, key => {\n    ButtonKeys.push(key);\n});\nconst calculateFileInfoOffset = root => {\n    const buttonRect = root.ref.buttonRemoveItem.rect.element;\n    return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n};\nconst calculateButtonWidth = root => {\n    const buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n    return buttonRect.width;\n};\n// Force on full pixels so text stays crips\nconst calculateFileVerticalCenterOffset = root => Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\nconst calculateFileHorizontalCenterOffset = root => Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\nconst getLoadIndicatorAlignment = root => root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\nconst getProcessIndicatorAlignment = root => root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\nconst getRemoveIndicatorAligment = root => root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\nconst DefaultStyle = {\n    buttonAbortItemLoad: { opacity: 0 },\n    buttonRetryItemLoad: { opacity: 0 },\n    buttonRemoveItem: { opacity: 0 },\n    buttonProcessItem: { opacity: 0 },\n    buttonAbortItemProcessing: { opacity: 0 },\n    buttonRetryItemProcessing: { opacity: 0 },\n    buttonRevertItemProcessing: { opacity: 0 },\n    loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n    processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n    processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n    info: { translateX: 0, translateY: 0, opacity: 0 },\n    status: { translateX: 0, translateY: 0, opacity: 0 }\n};\nconst IdleStyle = {\n    buttonRemoveItem: { opacity: 1 },\n    buttonProcessItem: { opacity: 1 },\n    info: { translateX: calculateFileInfoOffset },\n    status: { translateX: calculateFileInfoOffset }\n};\nconst ProcessingStyle = {\n    buttonAbortItemProcessing: { opacity: 1 },\n    processProgressIndicator: { opacity: 1 },\n    status: { opacity: 1 }\n};\nconst StyleMap = {\n    DID_THROW_ITEM_INVALID: {\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset, opacity: 1 }\n    },\n    DID_START_ITEM_LOAD: {\n        buttonAbortItemLoad: { opacity: 1 },\n        loadProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 }\n    },\n    DID_THROW_ITEM_LOAD_ERROR: {\n        buttonRetryItemLoad: { opacity: 1 },\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1 }\n    },\n    DID_START_ITEM_REMOVE: {\n        processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 0 }\n    },\n    DID_THROW_ITEM_REMOVE_ERROR: {\n        processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1, translateX: calculateFileInfoOffset }\n    },\n    DID_LOAD_ITEM: IdleStyle,\n    DID_LOAD_LOCAL_ITEM: {\n        buttonRemoveItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset }\n    },\n    DID_START_ITEM_PROCESSING: ProcessingStyle,\n    DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n    DID_COMPLETE_ITEM_PROCESSING: {\n        buttonRevertItemProcessing: { opacity: 1 },\n        info: { opacity: 1 },\n        status: { opacity: 1 }\n    },\n    DID_THROW_ITEM_PROCESSING_ERROR: {\n        buttonRemoveItem: { opacity: 1 },\n        buttonRetryItemProcessing: { opacity: 1 },\n        status: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset }\n    },\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n        buttonRevertItemProcessing: { opacity: 1 },\n        status: { opacity: 1 },\n        info: { opacity: 1 }\n    },\n    DID_ABORT_ITEM_PROCESSING: {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { opacity: 1 }\n    },\n    DID_REVERT_ITEM_PROCESSING: IdleStyle\n};\n// complete indicator view\nconst processingCompleteIndicatorView = createView({\n    create: ({ root }) => {\n        root.element.innerHTML = root.query('GET_ICON_DONE');\n    },\n    name: 'processing-complete-indicator',\n    ignoreRect: true,\n    mixins: {\n        styles: ['scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            opacity: { type: 'tween', duration: 250 }\n        }\n    }\n});\n/**\n * Creates the file view\n */\nconst create$4 = ({ root, props }) => {\n    const { id } = props;\n    // allow reverting upload\n    const allowRevert = root.query('GET_ALLOW_REVERT');\n    // allow remove file\n    const allowRemove = root.query('GET_ALLOW_REMOVE');\n    // allow processing upload\n    const allowProcess = root.query('GET_ALLOW_PROCESS');\n    // is instant uploading, need this to determine the icon of the undo button\n    const instantUpload = root.query('GET_INSTANT_UPLOAD');\n    // is async set up\n    const isAsync = root.query('IS_ASYNC');\n    // should align remove item buttons\n    const alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n    // enabled buttons array\n    let buttonFilter;\n    if (isAsync) {\n        if (allowProcess && !allowRevert) {\n            // only remove revert button\n            buttonFilter = key => !/RevertItemProcessing/.test(key);\n        }\n        else if (!allowProcess && allowRevert) {\n            // only remove process button\n            buttonFilter = key => !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n        }\n        else if (!allowProcess && !allowRevert) {\n            // remove all process buttons\n            buttonFilter = key => !/Process/.test(key);\n        }\n    }\n    else {\n        // no process controls available\n        buttonFilter = key => !/Process/.test(key);\n    }\n    const enabledButtons = buttonFilter\n        ? ButtonKeys.filter(buttonFilter)\n        : ButtonKeys.concat();\n    // update icon and label for revert button when instant uploading\n    if (instantUpload && allowRevert) {\n        Buttons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n        Buttons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n    }\n    // remove last button (revert) if not allowed\n    if (isAsync && !allowRevert) {\n        const map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n        map.info.translateX = calculateFileHorizontalCenterOffset;\n        map.info.translateY = calculateFileVerticalCenterOffset;\n        map.status.translateY = calculateFileVerticalCenterOffset;\n        map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n    }\n    // should align center\n    if (isAsync && !allowProcess) {\n        [\n            'DID_START_ITEM_PROCESSING',\n            'DID_REQUEST_ITEM_PROCESSING',\n            'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n            'DID_THROW_ITEM_PROCESSING_ERROR'\n        ].forEach(key => {\n            StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n        });\n        StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n    }\n    // move remove button to right\n    if (alignRemoveItemButton && allowRevert) {\n        Buttons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n        const map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n        map.info.translateX = calculateFileInfoOffset;\n        map.status.translateY = calculateFileVerticalCenterOffset;\n        map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n    }\n    if (!allowRemove) {\n        Buttons['RemoveItem'].disabled = true;\n    }\n    // create the button views\n    forin(Buttons, (key, definition) => {\n        // create button\n        const buttonView = root.createChildView(fileActionButton, {\n            label: root.query(definition.label),\n            icon: root.query(definition.icon),\n            opacity: 0\n        });\n        // should be appended?\n        if (enabledButtons.includes(key)) {\n            root.appendChildView(buttonView);\n        }\n        // toggle\n        if (definition.disabled) {\n            buttonView.element.setAttribute('disabled', 'disabled');\n            buttonView.element.setAttribute('hidden', 'hidden');\n        }\n        // add position attribute\n        buttonView.element.dataset.align = root.query(`GET_STYLE_${definition.align}`);\n        // add class\n        buttonView.element.classList.add(definition.className);\n        // handle interactions\n        buttonView.on('click', e => {\n            e.stopPropagation();\n            if (definition.disabled)\n                return;\n            root.dispatch(definition.action, { query: id });\n        });\n        // set reference\n        root.ref[`button${key}`] = buttonView;\n    });\n    // checkmark\n    root.ref.processingCompleteIndicator = root.appendChildView(root.createChildView(processingCompleteIndicatorView));\n    root.ref.processingCompleteIndicator.element.dataset.align = root.query(`GET_STYLE_BUTTON_PROCESS_ITEM_POSITION`);\n    // create file info view\n    root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id }));\n    // create file status view\n    root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id }));\n    // add progress indicators\n    const loadIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n        opacity: 0,\n        align: root.query(`GET_STYLE_LOAD_INDICATOR_POSITION`)\n    }));\n    loadIndicatorView.element.classList.add('filepond--load-indicator');\n    root.ref.loadProgressIndicator = loadIndicatorView;\n    const progressIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n        opacity: 0,\n        align: root.query(`GET_STYLE_PROGRESS_INDICATOR_POSITION`)\n    }));\n    progressIndicatorView.element.classList.add('filepond--process-indicator');\n    root.ref.processProgressIndicator = progressIndicatorView;\n    // current active styles\n    root.ref.activeStyles = [];\n};\nconst write$2 = ({ root, actions, props }) => {\n    // route actions\n    route({ root, actions, props });\n    // select last state change action\n    let action = actions\n        .concat()\n        .filter(action => /^DID_/.test(action.type))\n        .reverse()\n        .find(action => StyleMap[action.type]);\n    // a new action happened, let's get the matching styles\n    if (action) {\n        // define new active styles\n        root.ref.activeStyles = [];\n        const stylesToApply = StyleMap[action.type];\n        forin(DefaultStyle, (name, defaultStyles) => {\n            // get reference to control\n            const control = root.ref[name];\n            // loop over all styles for this control\n            forin(defaultStyles, (key, defaultValue) => {\n                const value = stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                    ? stylesToApply[name][key]\n                    : defaultValue;\n                root.ref.activeStyles.push({ control, key, value });\n            });\n        });\n    }\n    // apply active styles to element\n    root.ref.activeStyles.forEach(({ control, key, value }) => {\n        control[key] = typeof value === 'function' ? value(root) : value;\n    });\n};\nconst route = createRoute({\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: ({ root, action }) => {\n        root.ref.buttonAbortItemProcessing.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: ({ root, action }) => {\n        root.ref.buttonAbortItemLoad.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: ({ root, action }) => {\n        root.ref.buttonAbortItemRemoval.label = action.value;\n    },\n    DID_REQUEST_ITEM_PROCESSING: ({ root }) => {\n        root.ref.processProgressIndicator.spin = true;\n        root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_LOAD: ({ root }) => {\n        root.ref.loadProgressIndicator.spin = true;\n        root.ref.loadProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_REMOVE: ({ root }) => {\n        root.ref.processProgressIndicator.spin = true;\n        root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_UPDATE_ITEM_LOAD_PROGRESS: ({ root, action }) => {\n        root.ref.loadProgressIndicator.spin = false;\n        root.ref.loadProgressIndicator.progress = action.progress;\n    },\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: ({ root, action }) => {\n        root.ref.processProgressIndicator.spin = false;\n        root.ref.processProgressIndicator.progress = action.progress;\n    }\n});\nconst file = createView({\n    create: create$4,\n    write: write$2,\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', Object.assign(Object.assign({}, root), { view: root }));\n    },\n    name: 'file'\n});\n/**\n * Creates the file view\n */\nconst create$5 = ({ root, props }) => {\n    // filename\n    root.ref.fileName = createElement$1('legend');\n    root.appendChild(root.ref.fileName);\n    // file appended\n    root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n    // data has moved to data.js\n    root.ref.data = false;\n};\n/**\n * Data storage\n */\nconst didLoadItem = ({ root, props }) => {\n    // updates the legend of the fieldset so screenreaders can better group buttons\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n};\nconst fileWrapper = createView({\n    create: create$5,\n    ignoreRect: true,\n    write: createRoute({\n        DID_LOAD_ITEM: didLoadItem\n    }),\n    didCreateView: root => {\n        applyFilters('CREATE_VIEW', Object.assign(Object.assign({}, root), { view: root }));\n    },\n    tag: 'fieldset',\n    name: 'file-wrapper'\n});\nconst PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\nconst create$6 = ({ root, props }) => {\n    [\n        {\n            name: 'top'\n        },\n        {\n            name: 'center',\n            props: {\n                translateY: null,\n                scaleY: null\n            },\n            mixins: {\n                animations: {\n                    scaleY: PANEL_SPRING_PROPS\n                },\n                styles: ['translateY', 'scaleY']\n            }\n        },\n        {\n            name: 'bottom',\n            props: {\n                translateY: null\n            },\n            mixins: {\n                animations: {\n                    translateY: PANEL_SPRING_PROPS\n                },\n                styles: ['translateY']\n            }\n        }\n    ].forEach(section => {\n        createSection(root, section, props.name);\n    });\n    root.element.classList.add(`filepond--${props.name}`);\n    root.ref.scalable = null;\n};\nconst createSection = (root, section, className) => {\n    const viewConstructor = createView({\n        name: `panel-${section.name} filepond--${className}`,\n        mixins: section.mixins,\n        ignoreRectUpdate: true\n    });\n    const view = root.createChildView(viewConstructor, section.props);\n    root.ref[section.name] = root.appendChildView(view);\n};\nconst write$3 = ({ root, props }) => {\n    // update scalable state\n    if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n        root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n        root.element.dataset.scalable = root.ref.scalable;\n    }\n    // no height, can't set\n    if (!props.height)\n        return;\n    // get child rects\n    const topRect = root.ref.top.rect.element;\n    const bottomRect = root.ref.bottom.rect.element;\n    // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n    const height = Math.max(topRect.height + bottomRect.height, props.height);\n    // offset center part\n    root.ref.center.translateY = topRect.height;\n    // scale center part\n    // use math ceil to prevent transparent lines because of rounding errors\n    root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n    // offset bottom part\n    root.ref.bottom.translateY = height - bottomRect.height;\n};\nconst panel = createView({\n    name: 'panel',\n    read: ({ root, props }) => (props.heightCurrent = root.ref.bottom.translateY),\n    write: write$3,\n    create: create$6,\n    ignoreRect: true,\n    mixins: {\n        apis: ['height', 'heightCurrent', 'scalable']\n    }\n});\nconst createDragHelper = items => {\n    const itemIds = items.map(item => item.id);\n    let prevIndex = undefined;\n    return {\n        setIndex: index => {\n            prevIndex = index;\n        },\n        getIndex: () => prevIndex,\n        getItemIndex: item => itemIds.indexOf(item.id)\n    };\n};\nconst ITEM_TRANSLATE_SPRING = {\n    type: 'spring',\n    stiffness: 0.75,\n    damping: 0.45,\n    mass: 10\n};\nconst ITEM_SCALE_SPRING = 'spring';\nconst StateMap = {\n    DID_START_ITEM_LOAD: 'busy',\n    DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n    DID_THROW_ITEM_INVALID: 'load-invalid',\n    DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n    DID_LOAD_ITEM: 'idle',\n    DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n    DID_START_ITEM_REMOVE: 'busy',\n    DID_START_ITEM_PROCESSING: 'busy processing',\n    DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n    DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n    DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n    DID_ABORT_ITEM_PROCESSING: 'cancelled',\n    DID_REVERT_ITEM_PROCESSING: 'idle'\n};\n/**\n * Creates the file view\n */\nconst create$7 = ({ root, props }) => {\n    // select\n    root.ref.handleClick = e => root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n    // set id\n    root.element.id = `filepond--item-${props.id}`;\n    root.element.addEventListener('click', root.ref.handleClick);\n    // file view\n    root.ref.container = root.appendChildView(root.createChildView(fileWrapper, { id: props.id }));\n    // file panel\n    root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n    // default start height\n    root.ref.panel.height = null;\n    // by default not marked for removal\n    props.markedForRemoval = false;\n    // if not allowed to reorder file items, exit here\n    if (!root.query('GET_ALLOW_REORDER'))\n        return;\n    // set to idle so shows grab cursor\n    root.element.dataset.dragState = 'idle';\n    const grab = e => {\n        if (!e.isPrimary)\n            return;\n        let removedActivateListener = false;\n        const origin = {\n            x: e.pageX,\n            y: e.pageY\n        };\n        props.dragOrigin = {\n            x: root.translateX,\n            y: root.translateY\n        };\n        props.dragCenter = {\n            x: e.offsetX,\n            y: e.offsetY\n        };\n        const dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n        root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState });\n        const drag = e => {\n            if (!e.isPrimary)\n                return;\n            e.stopPropagation();\n            e.preventDefault();\n            props.dragOffset = {\n                x: e.pageX - origin.x,\n                y: e.pageY - origin.y\n            };\n            // if dragged stop listening to clicks, will re-add when done dragging\n            const dist = props.dragOffset.x * props.dragOffset.x +\n                props.dragOffset.y * props.dragOffset.y;\n            if (dist > 16 && !removedActivateListener) {\n                removedActivateListener = true;\n                root.element.removeEventListener('click', root.ref.handleClick);\n            }\n            root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState });\n        };\n        const drop = e => {\n            if (!e.isPrimary)\n                return;\n            document.removeEventListener('pointermove', drag);\n            document.removeEventListener('pointerup', drop);\n            props.dragOffset = {\n                x: e.pageX - origin.x,\n                y: e.pageY - origin.y\n            };\n            root.dispatch('DID_DROP_ITEM', { id: props.id, dragState });\n            // start listening to clicks again\n            if (removedActivateListener) {\n                setTimeout(() => root.element.addEventListener('click', root.ref.handleClick), 0);\n            }\n        };\n        document.addEventListener('pointermove', drag);\n        document.addEventListener('pointerup', drop);\n    };\n    root.element.addEventListener('pointerdown', grab);\n};\nconst route$1 = createRoute({\n    DID_UPDATE_PANEL_HEIGHT: ({ root, action }) => {\n        root.height = action.height;\n    }\n});\nconst write$4 = createRoute({\n    DID_GRAB_ITEM: ({ root, props }) => {\n        props.dragOrigin = {\n            x: root.translateX,\n            y: root.translateY\n        };\n    },\n    DID_DRAG_ITEM: ({ root }) => {\n        root.element.dataset.dragState = 'drag';\n    },\n    DID_DROP_ITEM: ({ root, props }) => {\n        props.dragOffset = null;\n        props.dragOrigin = null;\n        root.element.dataset.dragState = 'drop';\n    }\n}, ({ root, actions, props, shouldOptimize }) => {\n    if (root.element.dataset.dragState === 'drop') {\n        if (root.scaleX <= 1) {\n            root.element.dataset.dragState = 'idle';\n        }\n    }\n    // select last state change action\n    let action = actions\n        .concat()\n        .filter(action => /^DID_/.test(action.type))\n        .reverse()\n        .find(action => StateMap[action.type]);\n    // no need to set same state twice\n    if (action && action.type !== props.currentState) {\n        // set current state\n        props.currentState = action.type;\n        // set state\n        root.element.dataset.filepondItemState =\n            StateMap[props.currentState] || '';\n    }\n    // route actions\n    const aspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO') ||\n        root.query('GET_PANEL_ASPECT_RATIO');\n    if (!aspectRatio) {\n        route$1({ root, actions, props });\n        if (!root.height && root.ref.container.rect.element.height > 0) {\n            root.height = root.ref.container.rect.element.height;\n        }\n    }\n    else if (!shouldOptimize) {\n        root.height = root.rect.element.width * aspectRatio;\n    }\n    // sync panel height with item height\n    if (shouldOptimize) {\n        root.ref.panel.height = null;\n    }\n    root.ref.panel.height = root.height;\n});\nconst item = createView({\n    create: create$7,\n    write: write$4,\n    destroy: ({ root, props }) => {\n        root.element.removeEventListener('click', root.ref.handleClick);\n        root.dispatch('RELEASE_ITEM', { query: props.id });\n    },\n    tag: 'li',\n    name: 'item',\n    mixins: {\n        apis: [\n            'id',\n            'interactionMethod',\n            'markedForRemoval',\n            'spawnDate',\n            'dragCenter',\n            'dragOrigin',\n            'dragOffset'\n        ],\n        styles: [\n            'translateX',\n            'translateY',\n            'scaleX',\n            'scaleY',\n            'opacity',\n            'height'\n        ],\n        animations: {\n            scaleX: ITEM_SCALE_SPRING,\n            scaleY: ITEM_SCALE_SPRING,\n            translateX: ITEM_TRANSLATE_SPRING,\n            translateY: ITEM_TRANSLATE_SPRING,\n            opacity: { type: 'tween', duration: 150 }\n        }\n    }\n});\nconst getItemIndexByPosition = (view, children, positionInView) => {\n    if (!positionInView)\n        return;\n    const horizontalSpace = view.rect.element.width;\n    // const children = view.childViews;\n    const l = children.length;\n    let last = null;\n    // -1, don't move items to accomodate (either add to top or bottom)\n    if (l === 0 || positionInView.top < children[0].rect.element.top)\n        return -1;\n    // let's get the item width\n    const item = children[0];\n    const itemRect = item.rect.element;\n    const itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n    const itemWidth = itemRect.width + itemHorizontalMargin;\n    const itemsPerRow = Math.round(horizontalSpace / itemWidth);\n    // stack\n    if (itemsPerRow === 1) {\n        for (let index = 0; index < l; index++) {\n            const child = children[index];\n            const childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n            if (positionInView.top < childMid) {\n                return index;\n            }\n        }\n        return l;\n    }\n    // grid\n    const itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n    const itemHeight = itemRect.height + itemVerticalMargin;\n    for (let index = 0; index < l; index++) {\n        const indexX = index % itemsPerRow;\n        const indexY = Math.floor(index / itemsPerRow);\n        const offsetX = indexX * itemWidth;\n        const offsetY = indexY * itemHeight;\n        const itemTop = offsetY - itemRect.marginTop;\n        const itemRight = offsetX + itemWidth;\n        const itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n        if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n            if (positionInView.left < itemRight) {\n                return index;\n            }\n            else if (index !== l - 1) {\n                last = index;\n            }\n            else {\n                last = null;\n            }\n        }\n    }\n    if (last !== null) {\n        return last;\n    }\n    return l;\n};\nconst dropAreaDimensions = {\n    height: 0,\n    width: 0,\n    get getHeight() {\n        return this.height;\n    },\n    set setHeight(val) {\n        if (this.height === 0 || val === 0)\n            this.height = val;\n    },\n    get getWidth() {\n        return this.width;\n    },\n    set setWidth(val) {\n        if (this.width === 0 || val === 0)\n            this.width = val;\n    },\n    setDimensions: function (height, width) {\n        if (this.height === 0 || height === 0)\n            this.height = height;\n        if (this.width === 0 || width === 0)\n            this.width = width;\n    }\n};\nconst create$8 = ({ root }) => {\n    // need to set role to list as otherwise it won't be read as a list by VoiceOver\n    attr(root.element, 'role', 'list');\n    root.ref.lastItemSpanwDate = Date.now();\n};\n/**\n * Inserts a new item\n * @param root\n * @param action\n */\nconst addItemView = ({ root, action }) => {\n    const { id, index, interactionMethod } = action;\n    root.ref.addIndex = index;\n    const now = Date.now();\n    let spawnDate = now;\n    let opacity = 1;\n    if (interactionMethod !== InteractionMethod.NONE) {\n        opacity = 0;\n        const cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n        const dist = now - root.ref.lastItemSpanwDate;\n        spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n    }\n    root.ref.lastItemSpanwDate = spawnDate;\n    root.appendChildView(root.createChildView(\n    // view type\n    item, \n    // props\n    {\n        spawnDate,\n        id,\n        opacity,\n        interactionMethod\n    }), index);\n};\nconst moveItem = (item, x, y, vx = 0, vy = 1) => {\n    // set to null to remove animation while dragging\n    if (item.dragOffset) {\n        item.translateX = null;\n        item.translateY = null;\n        item.translateX = item.dragOrigin.x + item.dragOffset.x;\n        item.translateY = item.dragOrigin.y + item.dragOffset.y;\n        item.scaleX = 1.025;\n        item.scaleY = 1.025;\n    }\n    else {\n        item.translateX = x;\n        item.translateY = y;\n        if (Date.now() > item.spawnDate) {\n            // reveal element\n            if (item.opacity === 0) {\n                introItemView(item, x, y, vx, vy);\n            }\n            // make sure is default scale every frame\n            item.scaleX = 1;\n            item.scaleY = 1;\n            item.opacity = 1;\n        }\n    }\n};\nconst introItemView = (item, x, y, vx, vy) => {\n    if (item.interactionMethod === InteractionMethod.NONE) {\n        item.translateX = null;\n        item.translateX = x;\n        item.translateY = null;\n        item.translateY = y;\n    }\n    else if (item.interactionMethod === InteractionMethod.DROP) {\n        item.translateX = null;\n        item.translateX = x - vx * 20;\n        item.translateY = null;\n        item.translateY = y - vy * 10;\n        item.scaleX = 0.8;\n        item.scaleY = 0.8;\n    }\n    else if (item.interactionMethod === InteractionMethod.BROWSE) {\n        item.translateY = null;\n        item.translateY = y - 30;\n    }\n    else if (item.interactionMethod === InteractionMethod.API) {\n        item.translateX = null;\n        item.translateX = x - 30;\n        item.translateY = null;\n    }\n};\n/**\n * Removes an existing item\n * @param root\n * @param action\n */\nconst removeItemView = ({ root, action }) => {\n    const { id } = action;\n    // get the view matching the given id\n    const view = root.childViews.find(child => child.id === id);\n    // if no view found, exit\n    if (!view) {\n        return;\n    }\n    // animate view out of view\n    view.scaleX = 0.9;\n    view.scaleY = 0.9;\n    view.opacity = 0;\n    // mark for removal\n    view.markedForRemoval = true;\n};\nconst getItemHeight = child => child.rect.element.height +\n    child.rect.element.marginBottom * 0.5 +\n    child.rect.element.marginTop * 0.5;\nconst getItemWidth = child => child.rect.element.width +\n    child.rect.element.marginLeft * 0.5 +\n    child.rect.element.marginRight * 0.5;\nconst dragItem = ({ root, action }) => {\n    const { id, dragState } = action;\n    // reference to item\n    const item = root.query('GET_ITEM', { id });\n    // get the view matching the given id\n    const view = root.childViews.find(child => child.id === id);\n    const numItems = root.childViews.length;\n    const oldIndex = dragState.getItemIndex(item);\n    // if no view found, exit\n    if (!view)\n        return;\n    const dragPosition = {\n        x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n        y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y\n    };\n    // get drag area dimensions\n    const dragHeight = getItemHeight(view);\n    const dragWidth = getItemWidth(view);\n    // get rows and columns (There will always be at least one row and one column if a file is present)\n    let cols = Math.floor(root.rect.outer.width / dragWidth);\n    if (cols > numItems)\n        cols = numItems;\n    // rows are used to find when we have left the preview area bounding box\n    const rows = Math.floor(numItems / cols + 1);\n    dropAreaDimensions.setHeight = dragHeight * rows;\n    dropAreaDimensions.setWidth = dragWidth * cols;\n    // get new index of dragged item\n    var location = {\n        y: Math.floor(dragPosition.y / dragHeight),\n        x: Math.floor(dragPosition.x / dragWidth),\n        getGridIndex: function getGridIndex() {\n            if (dragPosition.y > dropAreaDimensions.getHeight ||\n                dragPosition.y < 0 ||\n                dragPosition.x > dropAreaDimensions.getWidth ||\n                dragPosition.x < 0)\n                return oldIndex;\n            return this.y * cols + this.x;\n        },\n        getColIndex: function getColIndex() {\n            const items = root.query('GET_ACTIVE_ITEMS');\n            const visibleChildren = root.childViews.filter(child => child.rect.element.height);\n            const children = items.map(item => visibleChildren.find(childView => childView.id === item.id));\n            const currentIndex = children.findIndex(child => child === view);\n            const dragHeight = getItemHeight(view);\n            const l = children.length;\n            let idx = l;\n            let childHeight = 0;\n            let childBottom = 0;\n            let childTop = 0;\n            for (let i = 0; i < l; i++) {\n                childHeight = getItemHeight(children[i]);\n                childTop = childBottom;\n                childBottom = childTop + childHeight;\n                if (dragPosition.y < childBottom) {\n                    if (currentIndex > i) {\n                        if (dragPosition.y < childTop + dragHeight) {\n                            idx = i;\n                            break;\n                        }\n                        continue;\n                    }\n                    idx = i;\n                    break;\n                }\n            }\n            return idx;\n        }\n    };\n    // get new index\n    const index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n    root.dispatch('MOVE_ITEM', { query: view, index });\n    // if the index of the item changed, dispatch reorder action\n    const currentIndex = dragState.getIndex();\n    if (currentIndex === undefined || currentIndex !== index) {\n        dragState.setIndex(index);\n        if (currentIndex === undefined)\n            return;\n        root.dispatch('DID_REORDER_ITEMS', {\n            items: root.query('GET_ACTIVE_ITEMS'),\n            origin: oldIndex,\n            target: index\n        });\n    }\n};\n/**\n * Setup action routes\n */\nconst route$2 = createRoute({\n    DID_ADD_ITEM: addItemView,\n    DID_REMOVE_ITEM: removeItemView,\n    DID_DRAG_ITEM: dragItem\n});\n/**\n * Write to view\n * @param root\n * @param actions\n * @param props\n */\nconst write$5 = ({ root, props, actions, shouldOptimize }) => {\n    // route actions\n    route$2({ root, props, actions });\n    const { dragCoordinates } = props;\n    // available space on horizontal axis\n    const horizontalSpace = root.rect.element.width;\n    // only draw children that have dimensions\n    const visibleChildren = root.childViews.filter(child => child.rect.element.height);\n    // sort based on current active items\n    const children = root\n        .query('GET_ACTIVE_ITEMS')\n        .map(item => visibleChildren.find(child => child.id === item.id))\n        .filter(item => item);\n    // get index\n    const dragIndex = dragCoordinates\n        ? getItemIndexByPosition(root, children, dragCoordinates)\n        : null;\n    // add index is used to reserve the dropped/added item index till the actual item is rendered\n    const addIndex = root.ref.addIndex || null;\n    // add index no longer needed till possibly next draw\n    root.ref.addIndex = null;\n    let dragIndexOffset = 0;\n    let removeIndexOffset = 0;\n    let addIndexOffset = 0;\n    if (children.length === 0)\n        return;\n    const childRect = children[0].rect.element;\n    const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n    const itemWidth = childRect.width + itemHorizontalMargin;\n    const itemHeight = childRect.height + itemVerticalMargin;\n    const itemsPerRow = Math.round(horizontalSpace / itemWidth);\n    // stack\n    if (itemsPerRow === 1) {\n        let offsetY = 0;\n        let dragOffset = 0;\n        children.forEach((child, index) => {\n            if (dragIndex) {\n                let dist = index - dragIndex;\n                if (dist === -2) {\n                    dragOffset = -itemVerticalMargin * 0.25;\n                }\n                else if (dist === -1) {\n                    dragOffset = -itemVerticalMargin * 0.75;\n                }\n                else if (dist === 0) {\n                    dragOffset = itemVerticalMargin * 0.75;\n                }\n                else if (dist === 1) {\n                    dragOffset = itemVerticalMargin * 0.25;\n                }\n                else {\n                    dragOffset = 0;\n                }\n            }\n            if (shouldOptimize) {\n                child.translateX = null;\n                child.translateY = null;\n            }\n            if (!child.markedForRemoval) {\n                moveItem(child, 0, offsetY + dragOffset);\n            }\n            let itemHeight = child.rect.element.height + itemVerticalMargin;\n            let visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n            offsetY += visualHeight;\n        });\n    }\n    // grid\n    else {\n        let prevX = 0;\n        let prevY = 0;\n        children.forEach((child, index) => {\n            if (index === dragIndex) {\n                dragIndexOffset = 1;\n            }\n            if (index === addIndex) {\n                addIndexOffset += 1;\n            }\n            if (child.markedForRemoval && child.opacity < 0.5) {\n                removeIndexOffset -= 1;\n            }\n            const visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n            const indexX = visualIndex % itemsPerRow;\n            const indexY = Math.floor(visualIndex / itemsPerRow);\n            const offsetX = indexX * itemWidth;\n            const offsetY = indexY * itemHeight;\n            const vectorX = Math.sign(offsetX - prevX);\n            const vectorY = Math.sign(offsetY - prevY);\n            prevX = offsetX;\n            prevY = offsetY;\n            if (child.markedForRemoval)\n                return;\n            if (shouldOptimize) {\n                child.translateX = null;\n                child.translateY = null;\n            }\n            moveItem(child, offsetX, offsetY, vectorX, vectorY);\n        });\n    }\n};\n/**\n * Filters actions that are meant specifically for a certain child of the list\n * @param child\n * @param actions\n */\nconst filterSetItemActions = (child, actions) => actions.filter(action => {\n    // if action has an id, filter out actions that don't have this child id\n    if (action.data && action.data.id) {\n        return child.id === action.data.id;\n    }\n    // allow all other actions\n    return true;\n});\nconst list = createView({\n    create: create$8,\n    write: write$5,\n    tag: 'ul',\n    name: 'list',\n    didWriteView: ({ root }) => {\n        root.childViews\n            .filter(view => view.markedForRemoval && view.opacity === 0 && view.resting)\n            .forEach(view => {\n            view._destroy();\n            root.removeChildView(view);\n        });\n    },\n    filterFrameActionsForChild: filterSetItemActions,\n    mixins: {\n        apis: ['dragCoordinates']\n    }\n});\nconst create$9 = ({ root, props }) => {\n    root.ref.list = root.appendChildView(root.createChildView(list));\n    props.dragCoordinates = null;\n    props.overflowing = false;\n};\nconst storeDragCoordinates = ({ root, props, action }) => {\n    if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM'))\n        return;\n    props.dragCoordinates = {\n        left: action.position.scopeLeft - root.ref.list.rect.element.left,\n        top: action.position.scopeTop -\n            (root.rect.outer.top +\n                root.rect.element.marginTop +\n                root.rect.element.scrollTop)\n    };\n};\nconst clearDragCoordinates = ({ props }) => {\n    props.dragCoordinates = null;\n};\nconst route$3 = createRoute({\n    DID_DRAG: storeDragCoordinates,\n    DID_END_DRAG: clearDragCoordinates\n});\nconst write$6 = ({ root, props, actions }) => {\n    // route actions\n    route$3({ root, props, actions });\n    // current drag position\n    root.ref.list.dragCoordinates = props.dragCoordinates;\n    // if currently overflowing but no longer received overflow\n    if (props.overflowing && !props.overflow) {\n        props.overflowing = false;\n        // reset overflow state\n        root.element.dataset.state = '';\n        root.height = null;\n    }\n    // if is not overflowing currently but does receive overflow value\n    if (props.overflow) {\n        const newHeight = Math.round(props.overflow);\n        if (newHeight !== root.height) {\n            props.overflowing = true;\n            root.element.dataset.state = 'overflow';\n            root.height = newHeight;\n        }\n    }\n};\nconst listScroller = createView({\n    create: create$9,\n    write: write$6,\n    name: 'list-scroller',\n    mixins: {\n        apis: ['overflow', 'dragCoordinates'],\n        styles: ['height', 'translateY'],\n        animations: {\n            translateY: 'spring'\n        }\n    }\n});\nconst attrToggle = (element, name, state, enabledValue = '') => {\n    if (state) {\n        attr(element, name, enabledValue);\n    }\n    else {\n        element.removeAttribute(name);\n    }\n};\nconst resetFileInput = input => {\n    // no value, no need to reset\n    if (!input || input.value === '') {\n        return;\n    }\n    try {\n        // for modern browsers\n        input.value = '';\n    }\n    catch (err) { }\n    // for IE10\n    if (input.value) {\n        // quickly append input to temp form and reset form\n        const form = createElement$1('form');\n        const parentNode = input.parentNode;\n        const ref = input.nextSibling;\n        form.appendChild(input);\n        form.reset();\n        // re-inject input where it originally was\n        if (ref) {\n            parentNode.insertBefore(input, ref);\n        }\n        else {\n            parentNode.appendChild(input);\n        }\n    }\n};\nconst create$a = ({ root, props }) => {\n    // set id so can be referenced from outside labels\n    root.element.id = `filepond--browser-${props.id}`;\n    // set name of element (is removed when a value is set)\n    attr(root.element, 'name', root.query('GET_NAME'));\n    // we have to link this element to the status element\n    attr(root.element, 'aria-controls', `filepond--assistant-${props.id}`);\n    // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n    attr(root.element, 'aria-labelledby', `filepond--drop-label-${props.id}`);\n    // set configurable props\n    setAcceptedFileTypes({\n        root,\n        action: { value: root.query('GET_ACCEPTED_FILE_TYPES') }\n    });\n    toggleAllowMultiple({\n        root,\n        action: { value: root.query('GET_ALLOW_MULTIPLE') }\n    });\n    toggleDirectoryFilter({\n        root,\n        action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') }\n    });\n    toggleDisabled({ root });\n    toggleRequired({ root, action: { value: root.query('GET_REQUIRED') } });\n    setCaptureMethod({\n        root,\n        action: { value: root.query('GET_CAPTURE_METHOD') }\n    });\n    // handle changes to the input field\n    root.ref.handleChange = e => {\n        if (!root.element.value) {\n            return;\n        }\n        // extract files and move value of webkitRelativePath path to _relativePath\n        const files = Array.from(root.element.files).map(file => {\n            file._relativePath = file.webkitRelativePath;\n            return file;\n        });\n        // we add a little delay so the OS file select window can move out of the way before we add our file\n        setTimeout(() => {\n            // load files\n            props.onload(files);\n            // reset input, it's just for exposing a method to drop files, should not retain any state\n            resetFileInput(root.element);\n        }, 250);\n    };\n    root.element.addEventListener('change', root.ref.handleChange);\n};\nconst setAcceptedFileTypes = ({ root, action }) => {\n    if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE'))\n        return;\n    attrToggle(root.element, 'accept', !!action.value, action.value ? action.value.join(',') : '');\n};\nconst toggleAllowMultiple = ({ root, action }) => {\n    attrToggle(root.element, 'multiple', action.value);\n};\nconst toggleDirectoryFilter = ({ root, action }) => {\n    attrToggle(root.element, 'webkitdirectory', action.value);\n};\nconst toggleDisabled = ({ root }) => {\n    const isDisabled = root.query('GET_DISABLED');\n    const doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n    const disableField = isDisabled || !doesAllowBrowse;\n    attrToggle(root.element, 'disabled', disableField);\n};\nconst toggleRequired = ({ root, action }) => {\n    // want to remove required, always possible\n    if (!action.value) {\n        attrToggle(root.element, 'required', false);\n    }\n    // if want to make required, only possible when zero items\n    else if (root.query('GET_TOTAL_ITEMS') === 0) {\n        attrToggle(root.element, 'required', true);\n    }\n};\nconst setCaptureMethod = ({ root, action }) => {\n    attrToggle(root.element, 'capture', !!action.value, action.value === true ? '' : action.value);\n};\nconst updateRequiredStatus = ({ root }) => {\n    const { element } = root;\n    // always remove the required attribute when more than zero items\n    if (root.query('GET_TOTAL_ITEMS') > 0) {\n        attrToggle(element, 'required', false);\n        attrToggle(element, 'name', false);\n    }\n    else {\n        // add name attribute\n        attrToggle(element, 'name', true, root.query('GET_NAME'));\n        // remove any validation messages\n        const shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (shouldCheckValidity) {\n            element.setCustomValidity('');\n        }\n        // we only add required if the field has been deemed required\n        if (root.query('GET_REQUIRED')) {\n            attrToggle(element, 'required', true);\n        }\n    }\n};\nconst updateFieldValidityStatus = ({ root }) => {\n    const shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n    if (!shouldCheckValidity)\n        return;\n    root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n};\nconst browser = createView({\n    tag: 'input',\n    name: 'browser',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    attributes: {\n        type: 'file'\n    },\n    create: create$a,\n    destroy: ({ root }) => {\n        root.element.removeEventListener('change', root.ref.handleChange);\n    },\n    write: createRoute({\n        DID_LOAD_ITEM: updateRequiredStatus,\n        DID_REMOVE_ITEM: updateRequiredStatus,\n        DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n        DID_SET_DISABLED: toggleDisabled,\n        DID_SET_ALLOW_BROWSE: toggleDisabled,\n        DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n        DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n        DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n        DID_SET_CAPTURE_METHOD: setCaptureMethod,\n        DID_SET_REQUIRED: toggleRequired\n    })\n});\nconst Key = {\n    ENTER: 13,\n    SPACE: 32\n};\nconst create$b = ({ root, props }) => {\n    // create the label and link it to the file browser\n    const label = createElement$1('label');\n    attr(label, 'for', `filepond--browser-${props.id}`);\n    // use for labeling file input (aria-labelledby on file input)\n    attr(label, 'id', `filepond--drop-label-${props.id}`);\n    // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n    attr(label, 'aria-hidden', 'true');\n    // handle keys\n    root.ref.handleKeyDown = e => {\n        const isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n        if (!isActivationKey)\n            return;\n        // stops from triggering the element a second time\n        e.preventDefault();\n        // click link (will then in turn activate file input)\n        root.ref.label.click();\n    };\n    root.ref.handleClick = e => {\n        const isLabelClick = e.target === label || label.contains(e.target);\n        // don't want to click twice\n        if (isLabelClick)\n            return;\n        // click link (will then in turn activate file input)\n        root.ref.label.click();\n    };\n    // attach events\n    label.addEventListener('keydown', root.ref.handleKeyDown);\n    root.element.addEventListener('click', root.ref.handleClick);\n    // update\n    updateLabelValue(label, props.caption);\n    // add!\n    root.appendChild(label);\n    root.ref.label = label;\n};\nconst updateLabelValue = (label, value) => {\n    label.innerHTML = value;\n    const clickable = label.querySelector('.filepond--label-action');\n    if (clickable) {\n        attr(clickable, 'tabindex', '0');\n    }\n    return value;\n};\nconst dropLabel = createView({\n    name: 'drop-label',\n    ignoreRect: true,\n    create: create$b,\n    destroy: ({ root }) => {\n        root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.removeEventListener('click', root.ref.handleClick);\n    },\n    write: createRoute({\n        DID_SET_LABEL_IDLE: ({ root, action }) => {\n            updateLabelValue(root.ref.label, action.value);\n        }\n    }),\n    mixins: {\n        styles: ['opacity', 'translateX', 'translateY'],\n        animations: {\n            opacity: { type: 'tween', duration: 150 },\n            translateX: 'spring',\n            translateY: 'spring'\n        }\n    }\n});\nconst blob = createView({\n    name: 'drip-blob',\n    ignoreRect: true,\n    mixins: {\n        styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n        animations: {\n            scaleX: 'spring',\n            scaleY: 'spring',\n            translateX: 'spring',\n            translateY: 'spring',\n            opacity: { type: 'tween', duration: 250 }\n        }\n    }\n});\nconst addBlob = ({ root }) => {\n    const centerX = root.rect.element.width * 0.5;\n    const centerY = root.rect.element.height * 0.5;\n    root.ref.blob = root.appendChildView(root.createChildView(blob, {\n        opacity: 0,\n        scaleX: 2.5,\n        scaleY: 2.5,\n        translateX: centerX,\n        translateY: centerY\n    }));\n};\nconst moveBlob = ({ root, action }) => {\n    if (!root.ref.blob) {\n        addBlob({ root });\n        return;\n    }\n    root.ref.blob.translateX = action.position.scopeLeft;\n    root.ref.blob.translateY = action.position.scopeTop;\n    root.ref.blob.scaleX = 1;\n    root.ref.blob.scaleY = 1;\n    root.ref.blob.opacity = 1;\n};\nconst hideBlob = ({ root }) => {\n    if (!root.ref.blob) {\n        return;\n    }\n    root.ref.blob.opacity = 0;\n};\nconst explodeBlob = ({ root }) => {\n    if (!root.ref.blob) {\n        return;\n    }\n    root.ref.blob.scaleX = 2.5;\n    root.ref.blob.scaleY = 2.5;\n    root.ref.blob.opacity = 0;\n};\nconst write$7 = ({ root, props, actions }) => {\n    route$4({ root, props, actions });\n    const { blob } = root.ref;\n    if (actions.length === 0 && blob && blob.opacity === 0) {\n        root.removeChildView(blob);\n        root.ref.blob = null;\n    }\n};\nconst route$4 = createRoute({\n    DID_DRAG: moveBlob,\n    DID_DROP: explodeBlob,\n    DID_END_DRAG: hideBlob\n});\nconst drip = createView({\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'drip',\n    write: write$7\n});\nconst create$c = ({ root }) => (root.ref.fields = {});\nconst getField = (root, id) => root.ref.fields[id];\nconst syncFieldPositionsWithItems = root => {\n    root.query('GET_ACTIVE_ITEMS').forEach(item => {\n        if (!root.ref.fields[item.id])\n            return;\n        root.element.appendChild(root.ref.fields[item.id]);\n    });\n};\nconst didReorderItems = ({ root }) => syncFieldPositionsWithItems(root);\nconst didAddItem = ({ root, action }) => {\n    const dataContainer = createElement$1('input');\n    dataContainer.type = 'hidden';\n    dataContainer.name = root.query('GET_NAME');\n    dataContainer.disabled = root.query('GET_DISABLED');\n    root.ref.fields[action.id] = dataContainer;\n    syncFieldPositionsWithItems(root);\n};\nconst didLoadItem$1 = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field || action.serverFileReference === null)\n        return;\n    field.value = action.serverFileReference;\n};\nconst didSetDisabled = ({ root }) => {\n    root.element.disabled = root.query('GET_DISABLED');\n};\nconst didRemoveItem = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field)\n        return;\n    if (field.parentNode)\n        field.parentNode.removeChild(field);\n    delete root.ref.fields[action.id];\n};\nconst didDefineValue = ({ root, action }) => {\n    const field = getField(root, action.id);\n    if (!field)\n        return;\n    if (action.value === null) {\n        field.removeAttribute('value');\n    }\n    else {\n        field.value = action.value;\n    }\n    syncFieldPositionsWithItems(root);\n};\nconst write$8 = createRoute({\n    DID_SET_DISABLED: didSetDisabled,\n    DID_ADD_ITEM: didAddItem,\n    DID_LOAD_ITEM: didLoadItem$1,\n    DID_REMOVE_ITEM: didRemoveItem,\n    DID_DEFINE_VALUE: didDefineValue,\n    DID_REORDER_ITEMS: didReorderItems,\n    DID_SORT_ITEMS: didReorderItems\n});\nconst data = createView({\n    tag: 'fieldset',\n    name: 'data',\n    create: create$c,\n    write: write$8,\n    ignoreRect: true\n});\nconst getRootNode = element => 'getRootNode' in element ? element.getRootNode() : document;\nconst images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\nconst text$1 = ['css', 'csv', 'html', 'txt'];\nconst map = {\n    zip: 'zip|compressed',\n    epub: 'application/epub+zip'\n};\nconst guesstimateMimeType = (extension = '') => {\n    extension = extension.toLowerCase();\n    if (images.includes(extension)) {\n        return ('image/' +\n            (extension === 'jpg'\n                ? 'jpeg'\n                : extension === 'svg'\n                    ? 'svg+xml'\n                    : extension));\n    }\n    if (text$1.includes(extension)) {\n        return 'text/' + extension;\n    }\n    return map[extension] || '';\n};\nconst requestDataTransferItems = dataTransfer => new Promise((resolve, reject) => {\n    // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n    const links = getLinks(dataTransfer);\n    if (links.length && !hasFiles(dataTransfer)) {\n        return resolve(links);\n    }\n    // try to get files from the transfer\n    getFiles(dataTransfer).then(resolve);\n});\n/**\n * Test if datatransfer has files\n */\nconst hasFiles = dataTransfer => {\n    if (dataTransfer.files)\n        return dataTransfer.files.length > 0;\n    return false;\n};\n/**\n * Extracts files from a DataTransfer object\n */\nconst getFiles = dataTransfer => new Promise((resolve, reject) => {\n    // get the transfer items as promises\n    const promisedFiles = (dataTransfer.items\n        ? Array.from(dataTransfer.items)\n        : [])\n        // only keep file system items (files and directories)\n        .filter(item => isFileSystemItem(item))\n        // map each item to promise\n        .map(item => getFilesFromItem(item));\n    // if is empty, see if we can extract some info from the files property as a fallback\n    if (!promisedFiles.length) {\n        // TODO: test for directories (should not be allowed)\n        // Use FileReader, problem is that the files property gets lost in the process\n        resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n        return;\n    }\n    // done!\n    Promise.all(promisedFiles)\n        .then(returnedFileGroups => {\n        // flatten groups\n        const files = [];\n        returnedFileGroups.forEach(group => {\n            files.push.apply(files, group);\n        });\n        // done (filter out empty files)!\n        resolve(files\n            .filter(file => file)\n            .map(file => {\n            if (!file._relativePath)\n                file._relativePath = file.webkitRelativePath;\n            return file;\n        }));\n    })\n        .catch(console.error);\n});\nconst isFileSystemItem = item => {\n    if (isEntry(item)) {\n        const entry = getAsEntry(item);\n        if (entry) {\n            return entry.isFile || entry.isDirectory;\n        }\n    }\n    return item.kind === 'file';\n};\nconst getFilesFromItem = item => new Promise((resolve, reject) => {\n    if (isDirectoryEntry(item)) {\n        getFilesInDirectory(getAsEntry(item))\n            .then(resolve)\n            .catch(reject);\n        return;\n    }\n    resolve([item.getAsFile()]);\n});\nconst getFilesInDirectory = entry => new Promise((resolve, reject) => {\n    const files = [];\n    // the total entries to read\n    let dirCounter = 0;\n    let fileCounter = 0;\n    const resolveIfDone = () => {\n        if (fileCounter === 0 && dirCounter === 0) {\n            resolve(files);\n        }\n    };\n    // the recursive function\n    const readEntries = dirEntry => {\n        dirCounter++;\n        const directoryReader = dirEntry.createReader();\n        // directories are returned in batches, we need to process all batches before we're done\n        const readBatch = () => {\n            directoryReader.readEntries(entries => {\n                if (entries.length === 0) {\n                    dirCounter--;\n                    resolveIfDone();\n                    return;\n                }\n                entries.forEach(entry => {\n                    // recursively read more directories\n                    if (entry.isDirectory) {\n                        readEntries(entry);\n                    }\n                    else {\n                        // read as file\n                        fileCounter++;\n                        entry.file(file => {\n                            const correctedFile = correctMissingFileType(file);\n                            if (entry.fullPath)\n                                correctedFile._relativePath = entry.fullPath;\n                            files.push(correctedFile);\n                            fileCounter--;\n                            resolveIfDone();\n                        });\n                    }\n                });\n                // try to get next batch of files\n                readBatch();\n            }, reject);\n        };\n        // read first batch of files\n        readBatch();\n    };\n    // go!\n    readEntries(entry);\n});\nconst correctMissingFileType = file => {\n    if (file.type.length)\n        return file;\n    const date = file.lastModifiedDate;\n    const name = file.name;\n    const type = guesstimateMimeType(getExtensionFromFilename(file.name));\n    if (!type.length)\n        return file;\n    file = file.slice(0, file.size, type);\n    file.name = name;\n    file.lastModifiedDate = date;\n    return file;\n};\nconst isDirectoryEntry = item => isEntry(item) && (getAsEntry(item) || {}).isDirectory;\nconst isEntry = item => 'webkitGetAsEntry' in item;\nconst getAsEntry = item => item.webkitGetAsEntry();\n/**\n * Extracts links from a DataTransfer object\n */\nconst getLinks = dataTransfer => {\n    let links = [];\n    try {\n        // look in meta data property\n        links = getLinksFromTransferMetaData(dataTransfer);\n        if (links.length) {\n            return links;\n        }\n        links = getLinksFromTransferURLData(dataTransfer);\n    }\n    catch (e) {\n        // nope nope nope (probably IE trouble)\n    }\n    return links;\n};\nconst getLinksFromTransferURLData = dataTransfer => {\n    let data = dataTransfer.getData('url');\n    if (typeof data === 'string' && data.length) {\n        return [data];\n    }\n    return [];\n};\nconst getLinksFromTransferMetaData = dataTransfer => {\n    let data = dataTransfer.getData('text/html');\n    if (typeof data === 'string' && data.length) {\n        const matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n        if (matches) {\n            return [matches[1]];\n        }\n    }\n    return [];\n};\nconst dragNDropObservers = [];\nconst eventPosition = e => ({\n    pageLeft: e.pageX,\n    pageTop: e.pageY,\n    scopeLeft: e.offsetX || e.layerX,\n    scopeTop: e.offsetY || e.layerY\n});\nconst createDragNDropClient = (element, scopeToObserve, filterElement) => {\n    const observer = getDragNDropObserver(scopeToObserve);\n    const client = {\n        element,\n        filterElement,\n        state: null,\n        ondrop: () => { },\n        onenter: () => { },\n        ondrag: () => { },\n        onexit: () => { },\n        onload: () => { },\n        allowdrop: () => { }\n    };\n    client.destroy = observer.addListener(client);\n    return client;\n};\nconst getDragNDropObserver = element => {\n    // see if already exists, if so, return\n    const observer = dragNDropObservers.find(item => item.element === element);\n    if (observer) {\n        return observer;\n    }\n    // create new observer, does not yet exist for this element\n    const newObserver = createDragNDropObserver(element);\n    dragNDropObservers.push(newObserver);\n    return newObserver;\n};\nconst createDragNDropObserver = element => {\n    const clients = [];\n    const routes = {\n        dragenter,\n        dragover,\n        dragleave,\n        drop\n    };\n    const handlers = {};\n    forin(routes, (event, createHandler) => {\n        handlers[event] = createHandler(element, clients);\n        element.addEventListener(event, handlers[event], false);\n    });\n    const observer = {\n        element,\n        addListener: client => {\n            // add as client\n            clients.push(client);\n            // return removeListener function\n            return () => {\n                // remove client\n                clients.splice(clients.indexOf(client), 1);\n                // if no more clients, clean up observer\n                if (clients.length === 0) {\n                    dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n                    forin(routes, event => {\n                        element.removeEventListener(event, handlers[event], false);\n                    });\n                }\n            };\n        }\n    };\n    return observer;\n};\nconst elementFromPoint = (root, point) => {\n    if (!('elementFromPoint' in root)) {\n        root = document;\n    }\n    return root.elementFromPoint(point.x, point.y);\n};\nconst isEventTarget = (e, target) => {\n    // get root\n    const root = getRootNode(target);\n    // get element at position\n    // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n    const elementAtPosition = elementFromPoint(root, {\n        x: e.pageX - window.pageXOffset,\n        y: e.pageY - window.pageYOffset\n    });\n    // test if target is the element or if one of its children is\n    return elementAtPosition === target || target.contains(elementAtPosition);\n};\nlet initialTarget = null;\nconst setDropEffect = (dataTransfer, effect) => {\n    // is in try catch as IE11 will throw error if not\n    try {\n        dataTransfer.dropEffect = effect;\n    }\n    catch (e) { }\n};\nconst dragenter = (root, clients) => e => {\n    e.preventDefault();\n    initialTarget = e.target;\n    clients.forEach(client => {\n        const { element, onenter } = client;\n        if (isEventTarget(e, element)) {\n            client.state = 'enter';\n            // fire enter event\n            onenter(eventPosition(e));\n        }\n    });\n};\nconst dragover = (root, clients) => e => {\n    e.preventDefault();\n    const dataTransfer = e.dataTransfer;\n    requestDataTransferItems(dataTransfer).then(items => {\n        let overDropTarget = false;\n        clients.some(client => {\n            const { filterElement, element, onenter, onexit, ondrag, allowdrop } = client;\n            // by default we can drop\n            setDropEffect(dataTransfer, 'copy');\n            // allow transfer of these items\n            const allowsTransfer = allowdrop(items);\n            // only used when can be dropped on page\n            if (!allowsTransfer) {\n                setDropEffect(dataTransfer, 'none');\n                return;\n            }\n            // targetting this client\n            if (isEventTarget(e, element)) {\n                overDropTarget = true;\n                // had no previous state, means we are entering this client\n                if (client.state === null) {\n                    client.state = 'enter';\n                    onenter(eventPosition(e));\n                    return;\n                }\n                // now over element (no matter if it allows the drop or not)\n                client.state = 'over';\n                // needs to allow transfer\n                if (filterElement && !allowsTransfer) {\n                    setDropEffect(dataTransfer, 'none');\n                    return;\n                }\n                // dragging\n                ondrag(eventPosition(e));\n            }\n            else {\n                // should be over an element to drop\n                if (filterElement && !overDropTarget) {\n                    setDropEffect(dataTransfer, 'none');\n                }\n                // might have just left this client?\n                if (client.state) {\n                    client.state = null;\n                    onexit(eventPosition(e));\n                }\n            }\n        });\n    });\n};\nconst drop = (root, clients) => e => {\n    e.preventDefault();\n    const dataTransfer = e.dataTransfer;\n    requestDataTransferItems(dataTransfer).then(items => {\n        clients.forEach(client => {\n            const { filterElement, element, ondrop, onexit, allowdrop } = client;\n            client.state = null;\n            // if we're filtering on element we need to be over the element to drop\n            if (filterElement && !isEventTarget(e, element))\n                return;\n            // no transfer for this client\n            if (!allowdrop(items))\n                return onexit(eventPosition(e));\n            // we can drop these items on this client\n            ondrop(eventPosition(e), items);\n        });\n    });\n};\nconst dragleave = (root, clients) => e => {\n    if (initialTarget !== e.target) {\n        return;\n    }\n    clients.forEach(client => {\n        const { onexit } = client;\n        client.state = null;\n        onexit(eventPosition(e));\n    });\n};\nconst createHopper = (scope, validateItems, options) => {\n    // is now hopper scope\n    scope.classList.add('filepond--hopper');\n    // shortcuts\n    const { catchesDropsOnPage, requiresDropOnElement, filterItems = items => items } = options;\n    // create a dnd client\n    const client = createDragNDropClient(scope, catchesDropsOnPage ? document.documentElement : scope, requiresDropOnElement);\n    // current client state\n    let lastState = '';\n    let currentState = '';\n    // determines if a file may be dropped\n    client.allowdrop = items => {\n        // TODO: if we can, throw error to indicate the items cannot by dropped\n        return validateItems(filterItems(items));\n    };\n    client.ondrop = (position, items) => {\n        const filteredItems = filterItems(items);\n        if (!validateItems(filteredItems)) {\n            api.ondragend(position);\n            return;\n        }\n        currentState = 'drag-drop';\n        api.onload(filteredItems, position);\n    };\n    client.ondrag = position => {\n        api.ondrag(position);\n    };\n    client.onenter = position => {\n        currentState = 'drag-over';\n        api.ondragstart(position);\n    };\n    client.onexit = position => {\n        currentState = 'drag-exit';\n        api.ondragend(position);\n    };\n    const api = {\n        updateHopperState: () => {\n            if (lastState !== currentState) {\n                scope.dataset.hopperState = currentState;\n                lastState = currentState;\n            }\n        },\n        onload: () => { },\n        ondragstart: () => { },\n        ondrag: () => { },\n        ondragend: () => { },\n        destroy: () => {\n            // destroy client\n            client.destroy();\n        }\n    };\n    return api;\n};\nlet listening = false;\nconst listeners$1 = [];\nconst handlePaste = e => {\n    // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n    const activeEl = document.activeElement;\n    if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n        // test textarea or input is contained in filepond root\n        let inScope = false;\n        let element = activeEl;\n        while (element !== document.body) {\n            if (element.classList.contains('filepond--root')) {\n                inScope = true;\n                break;\n            }\n            element = element.parentNode;\n        }\n        if (!inScope)\n            return;\n    }\n    requestDataTransferItems(e.clipboardData).then(files => {\n        // no files received\n        if (!files.length) {\n            return;\n        }\n        // notify listeners of received files\n        listeners$1.forEach(listener => listener(files));\n    });\n};\nconst listen = cb => {\n    // can't add twice\n    if (listeners$1.includes(cb)) {\n        return;\n    }\n    // add initial listener\n    listeners$1.push(cb);\n    // setup paste listener for entire page\n    if (listening) {\n        return;\n    }\n    listening = true;\n    document.addEventListener('paste', handlePaste);\n};\nconst unlisten = listener => {\n    arrayRemove(listeners$1, listeners$1.indexOf(listener));\n    // clean up\n    if (listeners$1.length === 0) {\n        document.removeEventListener('paste', handlePaste);\n        listening = false;\n    }\n};\nconst createPaster = () => {\n    const cb = files => {\n        api.onload(files);\n    };\n    const api = {\n        destroy: () => {\n            unlisten(cb);\n        },\n        onload: () => { }\n    };\n    listen(cb);\n    return api;\n};\n/**\n * Creates the file view\n */\nconst create$d = ({ root, props }) => {\n    root.element.id = `filepond--assistant-${props.id}`;\n    attr(root.element, 'role', 'status');\n    attr(root.element, 'aria-live', 'polite');\n    attr(root.element, 'aria-relevant', 'additions');\n};\nlet addFilesNotificationTimeout = null;\nlet notificationClearTimeout = null;\nconst filenames = [];\nconst assist = (root, message) => {\n    root.element.textContent = message;\n};\nconst clear$1 = root => {\n    root.element.textContent = '';\n};\nconst listModified = (root, filename, label) => {\n    const total = root.query('GET_TOTAL_ITEMS');\n    assist(root, `${label} ${filename}, ${total} ${total === 1\n        ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n        : root.query('GET_LABEL_FILE_COUNT_PLURAL')}`);\n    // clear group after set amount of time so the status is not read twice\n    clearTimeout(notificationClearTimeout);\n    notificationClearTimeout = setTimeout(() => {\n        clear$1(root);\n    }, 1500);\n};\nconst isUsingFilePond = root => root.element.parentNode.contains(document.activeElement);\nconst itemAdded = ({ root, action }) => {\n    if (!isUsingFilePond(root)) {\n        return;\n    }\n    root.element.textContent = '';\n    const item = root.query('GET_ITEM', action.id);\n    filenames.push(item.filename);\n    clearTimeout(addFilesNotificationTimeout);\n    addFilesNotificationTimeout = setTimeout(() => {\n        listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n        filenames.length = 0;\n    }, 750);\n};\nconst itemRemoved = ({ root, action }) => {\n    if (!isUsingFilePond(root)) {\n        return;\n    }\n    const item = action.item;\n    listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n};\nconst itemProcessed = ({ root, action }) => {\n    // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n    const label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n    assist(root, `${filename} ${label}`);\n};\nconst itemProcessedUndo = ({ root, action }) => {\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n    const label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n    assist(root, `${filename} ${label}`);\n};\nconst itemError = ({ root, action }) => {\n    const item = root.query('GET_ITEM', action.id);\n    const filename = item.filename;\n    // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n    assist(root, `${action.status.main} ${filename} ${action.status.sub}`);\n};\nconst assistant = createView({\n    create: create$d,\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n        DID_LOAD_ITEM: itemAdded,\n        DID_REMOVE_ITEM: itemRemoved,\n        DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n        DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n        DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n        DID_THROW_ITEM_REMOVE_ERROR: itemError,\n        DID_THROW_ITEM_LOAD_ERROR: itemError,\n        DID_THROW_ITEM_INVALID: itemError,\n        DID_THROW_ITEM_PROCESSING_ERROR: itemError\n    }),\n    tag: 'span',\n    name: 'assistant'\n});\nconst toCamels = (string, separator = '-') => string.replace(new RegExp(`${separator}.`, 'g'), sub => sub.charAt(1).toUpperCase());\nconst debounce = (func, interval = 16, immidiateOnly = true) => {\n    let last = Date.now();\n    let timeout = null;\n    return (...args) => {\n        clearTimeout(timeout);\n        const dist = Date.now() - last;\n        const fn = () => {\n            last = Date.now();\n            func(...args);\n        };\n        if (dist < interval) {\n            // we need to delay by the difference between interval and dist\n            // for example: if distance is 10 ms and interval is 16 ms,\n            // we need to wait an additional 6ms before calling the function)\n            if (!immidiateOnly) {\n                timeout = setTimeout(fn, interval - dist);\n            }\n        }\n        else {\n            // go!\n            fn();\n        }\n    };\n};\nconst MAX_FILES_LIMIT = 1000000;\nconst prevent = e => e.preventDefault();\nconst create$e = ({ root, props }) => {\n    // Add id\n    const id = root.query('GET_ID');\n    if (id) {\n        root.element.id = id;\n    }\n    // Add className\n    const className = root.query('GET_CLASS_NAME');\n    if (className) {\n        className\n            .split(' ')\n            .filter(name => name.length)\n            .forEach(name => {\n            root.element.classList.add(name);\n        });\n    }\n    // Field label\n    root.ref.label = root.appendChildView(root.createChildView(dropLabel, Object.assign(Object.assign({}, props), { translateY: null, caption: root.query('GET_LABEL_IDLE') })));\n    // List of items\n    root.ref.list = root.appendChildView(root.createChildView(listScroller, { translateY: null }));\n    // Background panel\n    root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n    // Assistant notifies assistive tech when content changes\n    root.ref.assistant = root.appendChildView(root.createChildView(assistant, Object.assign({}, props)));\n    // Data\n    root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n    // Measure (tests if fixed height was set)\n    // DOCTYPE needs to be set for this to work\n    root.ref.measure = createElement$1('div');\n    root.ref.measure.style.height = '100%';\n    root.element.appendChild(root.ref.measure);\n    // information on the root height or fixed height status\n    root.ref.bounds = null;\n    // apply initial style properties\n    root\n        .query('GET_STYLES')\n        .filter(style => !isEmpty(style.value))\n        .map(({ name, value }) => {\n        root.element.dataset[name] = value;\n    });\n    // determine if width changed\n    root.ref.widthPrevious = null;\n    root.ref.widthUpdated = debounce(() => {\n        root.ref.updateHistory = [];\n        root.dispatch('DID_RESIZE_ROOT');\n    }, 250);\n    // history of updates\n    root.ref.previousAspectRatio = null;\n    root.ref.updateHistory = [];\n    // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n    const canHover = window.matchMedia('(pointer: fine) and (hover: hover)')\n        .matches;\n    const hasPointerEvents = 'PointerEvent' in window;\n    if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n        root.element.addEventListener('touchmove', prevent, { passive: false });\n        root.element.addEventListener('gesturestart', prevent);\n    }\n    // add credits\n    const credits = root.query('GET_CREDITS');\n    const hasCredits = credits.length === 2;\n    if (hasCredits) {\n        const frag = document.createElement('a');\n        frag.className = 'filepond--credits';\n        frag.setAttribute('aria-hidden', 'true');\n        frag.href = credits[0];\n        frag.tabindex = -1;\n        frag.target = '_blank';\n        frag.rel = 'noopener noreferrer';\n        frag.textContent = credits[1];\n        root.element.appendChild(frag);\n        root.ref.credits = frag;\n    }\n};\nconst write$9 = ({ root, props, actions }) => {\n    // route actions\n    route$5({ root, props, actions });\n    // apply style properties\n    actions\n        .filter(action => /^DID_SET_STYLE_/.test(action.type))\n        .filter(action => !isEmpty(action.data.value))\n        .map(({ type, data }) => {\n        const name = toCamels(type.substr(8).toLowerCase(), '_');\n        root.element.dataset[name] = data.value;\n        root.invalidateLayout();\n    });\n    if (root.rect.element.hidden)\n        return;\n    if (root.rect.element.width !== root.ref.widthPrevious) {\n        root.ref.widthPrevious = root.rect.element.width;\n        root.ref.widthUpdated();\n    }\n    // get box bounds, we do this only once\n    let bounds = root.ref.bounds;\n    if (!bounds) {\n        bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n        // destroy measure element\n        root.element.removeChild(root.ref.measure);\n        root.ref.measure = null;\n    }\n    // get quick references to various high level parts of the upload tool\n    const { hopper, label, list, panel } = root.ref;\n    // sets correct state to hopper scope\n    if (hopper) {\n        hopper.updateHopperState();\n    }\n    // bool to indicate if we're full or not\n    const aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n    const isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n    const totalItems = root.query('GET_TOTAL_ITEMS');\n    const maxItems = isMultiItem\n        ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT\n        : 1;\n    const atMaxCapacity = totalItems === maxItems;\n    // action used to add item\n    const addAction = actions.find(action => action.type === 'DID_ADD_ITEM');\n    // if reached max capacity and we've just reached it\n    if (atMaxCapacity && addAction) {\n        // get interaction type\n        const interactionMethod = addAction.data.interactionMethod;\n        // hide label\n        label.opacity = 0;\n        if (isMultiItem) {\n            label.translateY = -40;\n        }\n        else {\n            if (interactionMethod === InteractionMethod.API) {\n                label.translateX = 40;\n            }\n            else if (interactionMethod === InteractionMethod.BROWSE) {\n                label.translateY = 40;\n            }\n            else {\n                label.translateY = 30;\n            }\n        }\n    }\n    else if (!atMaxCapacity) {\n        label.opacity = 1;\n        label.translateX = 0;\n        label.translateY = 0;\n    }\n    const listItemMargin = calculateListItemMargin(root);\n    const listHeight = calculateListHeight(root);\n    const labelHeight = label.rect.element.height;\n    const currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n    const listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n    const listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n    const visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n    const boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n    // link list to label bottom position\n    list.translateY =\n        Math.max(0, currentLabelHeight - list.rect.element.marginTop) -\n            listItemMargin.top;\n    if (aspectRatio) {\n        // fixed aspect ratio\n        // calculate height based on width\n        const width = root.rect.element.width;\n        const height = width * aspectRatio;\n        // clear history if aspect ratio has changed\n        if (aspectRatio !== root.ref.previousAspectRatio) {\n            root.ref.previousAspectRatio = aspectRatio;\n            root.ref.updateHistory = [];\n        }\n        // remember this width\n        const history = root.ref.updateHistory;\n        history.push(width);\n        const MAX_BOUNCES = 2;\n        if (history.length > MAX_BOUNCES * 2) {\n            const l = history.length;\n            const bottom = l - 10;\n            let bounces = 0;\n            for (let i = l; i >= bottom; i--) {\n                if (history[i] === history[i - 2]) {\n                    bounces++;\n                }\n                if (bounces >= MAX_BOUNCES) {\n                    // dont adjust height\n                    return;\n                }\n            }\n        }\n        // fix height of panel so it adheres to aspect ratio\n        panel.scalable = false;\n        panel.height = height;\n        // available height for list\n        const listAvailableHeight = \n        // the height of the panel minus the label height\n        height -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n        if (listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        }\n        else {\n            list.overflow = null;\n        }\n        // set container bounds (so pushes siblings downwards)\n        root.height = height;\n    }\n    else if (bounds.fixedHeight) {\n        // fixed height\n        // fix height of panel\n        panel.scalable = false;\n        // available height for list\n        const listAvailableHeight = \n        // the height of the panel minus the label height\n        bounds.fixedHeight -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n        // set list height\n        if (listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        }\n        else {\n            list.overflow = null;\n        }\n        // no need to set container bounds as these are handles by CSS fixed height\n    }\n    else if (bounds.cappedHeight) {\n        // max-height\n        // not a fixed height panel\n        const isCappedHeight = visualHeight >= bounds.cappedHeight;\n        const panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n        panel.scalable = true;\n        panel.height = isCappedHeight\n            ? panelHeight\n            : panelHeight - listItemMargin.top - listItemMargin.bottom;\n        // available height for list\n        const listAvailableHeight = \n        // the height of the panel minus the label height\n        panelHeight -\n            currentLabelHeight -\n            // the room we leave open between the end of the list and the panel bottom\n            (listMarginBottom - listItemMargin.bottom) -\n            // if we're full we need to leave some room between the top of the panel and the list\n            (atMaxCapacity ? listMarginTop : 0);\n        // set list height (if is overflowing)\n        if (visualHeight > bounds.cappedHeight &&\n            listHeight.visual > listAvailableHeight) {\n            list.overflow = listAvailableHeight;\n        }\n        else {\n            list.overflow = null;\n        }\n        // set container bounds (so pushes siblings downwards)\n        root.height = Math.min(bounds.cappedHeight, boundsHeight - listItemMargin.top - listItemMargin.bottom);\n    }\n    else {\n        // flexible height\n        // not a fixed height panel\n        const itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n        panel.scalable = true;\n        panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n        // set container bounds (so pushes siblings downwards)\n        root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n    }\n    // move credits to bottom\n    if (root.ref.credits && panel.heightCurrent)\n        root.ref.credits.style.transform = `translateY(${panel.heightCurrent}px)`;\n};\nconst calculateListItemMargin = root => {\n    const item = root.ref.list.childViews[0].childViews[0];\n    return item\n        ? {\n            top: item.rect.element.marginTop,\n            bottom: item.rect.element.marginBottom\n        }\n        : {\n            top: 0,\n            bottom: 0\n        };\n};\nconst calculateListHeight = root => {\n    let visual = 0;\n    let bounds = 0;\n    // get file list reference\n    const scrollList = root.ref.list;\n    const itemList = scrollList.childViews[0];\n    const visibleChildren = itemList.childViews.filter(child => child.rect.element.height);\n    const children = root\n        .query('GET_ACTIVE_ITEMS')\n        .map(item => visibleChildren.find(child => child.id === item.id))\n        .filter(item => item);\n    // no children, done!\n    if (children.length === 0)\n        return { visual, bounds };\n    const horizontalSpace = itemList.rect.element.width;\n    const dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n    const childRect = children[0].rect.element;\n    const itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    const itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n    const itemWidth = childRect.width + itemHorizontalMargin;\n    const itemHeight = childRect.height + itemVerticalMargin;\n    const newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n    const removedItem = children.find(child => child.markedForRemoval && child.opacity < 0.45)\n        ? -1\n        : 0;\n    const verticalItemCount = children.length + newItem + removedItem;\n    const itemsPerRow = Math.round(horizontalSpace / itemWidth);\n    // stack\n    if (itemsPerRow === 1) {\n        children.forEach(item => {\n            const height = item.rect.element.height + itemVerticalMargin;\n            bounds += height;\n            visual += height * item.opacity;\n        });\n    }\n    // grid\n    else {\n        bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n        visual = bounds;\n    }\n    return { visual, bounds };\n};\nconst calculateRootBoundingBoxHeight = root => {\n    const height = root.ref.measureHeight || null;\n    const cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n    const fixedHeight = height === 0 ? null : height;\n    return {\n        cappedHeight,\n        fixedHeight\n    };\n};\nconst exceedsMaxFiles = (root, items) => {\n    const allowReplace = root.query('GET_ALLOW_REPLACE');\n    const allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n    const totalItems = root.query('GET_TOTAL_ITEMS');\n    let maxItems = root.query('GET_MAX_FILES');\n    // total amount of items being dragged\n    const totalBrowseItems = items.length;\n    // if does not allow multiple items and dragging more than one item\n    if (!allowMultiple && totalBrowseItems > 1) {\n        return true;\n    }\n    // limit max items to one if not allowed to drop multiple items\n    maxItems = allowMultiple ? maxItems : allowReplace ? maxItems : 1;\n    // no more room?\n    const hasMaxItems = isInt(maxItems);\n    if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n        root.dispatch('DID_THROW_MAX_FILES', {\n            source: items,\n            error: createResponse('warning', 0, 'Max files')\n        });\n        return true;\n    }\n    return false;\n};\nconst getDragIndex = (list, children, position) => {\n    const itemList = list.childViews[0];\n    return getItemIndexByPosition(itemList, children, {\n        left: position.scopeLeft - itemList.rect.element.left,\n        top: position.scopeTop -\n            (list.rect.outer.top +\n                list.rect.element.marginTop +\n                list.rect.element.scrollTop)\n    });\n};\n/**\n * Enable or disable file drop functionality\n */\nconst toggleDrop = root => {\n    const isAllowed = root.query('GET_ALLOW_DROP');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.hopper) {\n        const hopper = createHopper(root.element, items => {\n            // allow quick validation of dropped items\n            const beforeDropFile = root.query('GET_BEFORE_DROP_FILE') || (() => true);\n            // all items should be validated by all filters as valid\n            const dropValidation = root.query('GET_DROP_VALIDATION');\n            return dropValidation\n                ? items.every(item => applyFilters('ALLOW_HOPPER_ITEM', item, {\n                    query: root.query\n                }).every(result => result === true) && beforeDropFile(item))\n                : true;\n        }, {\n            filterItems: items => {\n                const ignoredFiles = root.query('GET_IGNORED_FILES');\n                return items.filter(item => {\n                    if (isFile(item)) {\n                        return !ignoredFiles.includes(item.name.toLowerCase());\n                    }\n                    return true;\n                });\n            },\n            catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n            requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT')\n        });\n        hopper.onload = (items, position) => {\n            // get item children elements and sort based on list sort\n            const list = root.ref.list.childViews[0];\n            const visibleChildren = list.childViews.filter(child => child.rect.element.height);\n            const children = root\n                .query('GET_ACTIVE_ITEMS')\n                .map(item => visibleChildren.find(child => child.id === item.id))\n                .filter(item => item);\n            applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(queue => {\n                // these files don't fit so stop here\n                if (exceedsMaxFiles(root, queue))\n                    return false;\n                // go\n                root.dispatch('ADD_ITEMS', {\n                    items: queue,\n                    index: getDragIndex(root.ref.list, children, position),\n                    interactionMethod: InteractionMethod.DROP\n                });\n            });\n            root.dispatch('DID_DROP', { position });\n            root.dispatch('DID_END_DRAG', { position });\n        };\n        hopper.ondragstart = position => {\n            root.dispatch('DID_START_DRAG', { position });\n        };\n        hopper.ondrag = debounce(position => {\n            root.dispatch('DID_DRAG', { position });\n        });\n        hopper.ondragend = position => {\n            root.dispatch('DID_END_DRAG', { position });\n        };\n        root.ref.hopper = hopper;\n        root.ref.drip = root.appendChildView(root.createChildView(drip));\n    }\n    else if (!enabled && root.ref.hopper) {\n        root.ref.hopper.destroy();\n        root.ref.hopper = null;\n        root.removeChildView(root.ref.drip);\n    }\n};\n/**\n * Enable or disable browse functionality\n */\nconst toggleBrowse = (root, props) => {\n    const isAllowed = root.query('GET_ALLOW_BROWSE');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.browser) {\n        root.ref.browser = root.appendChildView(root.createChildView(browser, Object.assign(Object.assign({}, props), { onload: items => {\n                applyFilterChain('ADD_ITEMS', items, {\n                    dispatch: root.dispatch\n                }).then(queue => {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue))\n                        return false;\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.BROWSE\n                    });\n                });\n            } })), 0);\n    }\n    else if (!enabled && root.ref.browser) {\n        root.removeChildView(root.ref.browser);\n        root.ref.browser = null;\n    }\n};\n/**\n * Enable or disable paste functionality\n */\nconst togglePaste = root => {\n    const isAllowed = root.query('GET_ALLOW_PASTE');\n    const isDisabled = root.query('GET_DISABLED');\n    const enabled = isAllowed && !isDisabled;\n    if (enabled && !root.ref.paster) {\n        root.ref.paster = createPaster();\n        root.ref.paster.onload = items => {\n            applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(queue => {\n                // these files don't fit so stop here\n                if (exceedsMaxFiles(root, queue))\n                    return false;\n                // add items!\n                root.dispatch('ADD_ITEMS', {\n                    items: queue,\n                    index: -1,\n                    interactionMethod: InteractionMethod.PASTE\n                });\n            });\n        };\n    }\n    else if (!enabled && root.ref.paster) {\n        root.ref.paster.destroy();\n        root.ref.paster = null;\n    }\n};\n/**\n * Route actions\n */\nconst route$5 = createRoute({\n    DID_SET_ALLOW_BROWSE: ({ root, props }) => {\n        toggleBrowse(root, props);\n    },\n    DID_SET_ALLOW_DROP: ({ root }) => {\n        toggleDrop(root);\n    },\n    DID_SET_ALLOW_PASTE: ({ root }) => {\n        togglePaste(root);\n    },\n    DID_SET_DISABLED: ({ root, props }) => {\n        toggleDrop(root);\n        togglePaste(root);\n        toggleBrowse(root, props);\n        const isDisabled = root.query('GET_DISABLED');\n        if (isDisabled) {\n            root.element.dataset.disabled = 'disabled';\n        }\n        else {\n            // delete root.element.dataset.disabled; <= this does not work on iOS 10\n            root.element.removeAttribute('data-disabled');\n        }\n    }\n});\nconst root = createView({\n    name: 'root',\n    read: ({ root }) => {\n        if (root.ref.measure) {\n            root.ref.measureHeight = root.ref.measure.offsetHeight;\n        }\n    },\n    create: create$e,\n    write: write$9,\n    destroy: ({ root }) => {\n        if (root.ref.paster) {\n            root.ref.paster.destroy();\n        }\n        if (root.ref.hopper) {\n            root.ref.hopper.destroy();\n        }\n        root.element.removeEventListener('touchmove', prevent);\n        root.element.removeEventListener('gesturestart', prevent);\n    },\n    mixins: {\n        styles: ['height']\n    }\n});\n// creates the app\nconst createApp = (initialOptions = {}) => {\n    // let element\n    let originalElement = null;\n    // get default options\n    const defaultOptions = getOptions();\n    // create the data store, this will contain all our app info\n    const store = createStore(\n    // initial state (should be serializable)\n    createInitialState(defaultOptions), \n    // queries\n    [queries, createOptionQueries(defaultOptions)], \n    // action handlers\n    [actions, createOptionActions(defaultOptions)]);\n    // set initial options\n    store.dispatch('SET_OPTIONS', { options: initialOptions });\n    // kick thread if visibility changes\n    const visibilityHandler = () => {\n        if (document.hidden)\n            return;\n        store.dispatch('KICK');\n    };\n    document.addEventListener('visibilitychange', visibilityHandler);\n    // re-render on window resize start and finish\n    let resizeDoneTimer = null;\n    let isResizing = false;\n    let isResizingHorizontally = false;\n    let initialWindowWidth = null;\n    let currentWindowWidth = null;\n    const resizeHandler = () => {\n        if (!isResizing) {\n            isResizing = true;\n        }\n        clearTimeout(resizeDoneTimer);\n        resizeDoneTimer = setTimeout(() => {\n            isResizing = false;\n            initialWindowWidth = null;\n            currentWindowWidth = null;\n            if (isResizingHorizontally) {\n                isResizingHorizontally = false;\n                store.dispatch('DID_STOP_RESIZE');\n            }\n        }, 500);\n    };\n    window.addEventListener('resize', resizeHandler);\n    // render initial view\n    const view = root(store, { id: getUniqueId() });\n    //\n    // PRIVATE API -------------------------------------------------------------------------------------\n    //\n    let isResting = false;\n    let isHidden = false;\n    const readWriteApi = {\n        // necessary for update loop\n        /**\n         * Reads from dom (never call manually)\n         * @private\n         */\n        _read: () => {\n            // test if we're resizing horizontally\n            // TODO: see if we can optimize this by measuring root rect\n            if (isResizing) {\n                currentWindowWidth = window.innerWidth;\n                if (!initialWindowWidth) {\n                    initialWindowWidth = currentWindowWidth;\n                }\n                if (!isResizingHorizontally &&\n                    currentWindowWidth !== initialWindowWidth) {\n                    store.dispatch('DID_START_RESIZE');\n                    isResizingHorizontally = true;\n                }\n            }\n            if (isHidden && isResting) {\n                // test if is no longer hidden\n                isResting = view.element.offsetParent === null;\n            }\n            // if resting, no need to read as numbers will still all be correct\n            if (isResting)\n                return;\n            // read view data\n            view._read();\n            // if is hidden we need to know so we exit rest mode when revealed\n            isHidden = view.rect.element.hidden;\n        },\n        /**\n         * Writes to dom (never call manually)\n         * @private\n         */\n        _write: ts => {\n            // get all actions from store\n            const actions = store\n                .processActionQueue()\n                // filter out set actions (these will automatically trigger DID_SET)\n                .filter(action => !/^SET_/.test(action.type));\n            // if was idling and no actions stop here\n            if (isResting && !actions.length)\n                return;\n            // some actions might trigger events\n            routeActionsToEvents(actions);\n            // update the view\n            isResting = view._write(ts, actions, isResizingHorizontally);\n            // will clean up all archived items\n            removeReleasedItems(store.query('GET_ITEMS'));\n            // now idling\n            if (isResting) {\n                store.processDispatchQueue();\n            }\n        }\n    };\n    //\n    // EXPOSE EVENTS -------------------------------------------------------------------------------------\n    //\n    const createEvent = name => data => {\n        // create default event\n        const event = {\n            type: name\n        };\n        // no data to add\n        if (!data) {\n            return event;\n        }\n        // copy relevant props\n        if (data.hasOwnProperty('error')) {\n            event.error = data.error ? Object.assign({}, data.error) : null;\n        }\n        if (data.status) {\n            event.status = Object.assign({}, data.status);\n        }\n        if (data.file) {\n            event.output = data.file;\n        }\n        // only source is available, else add item if possible\n        if (data.source) {\n            event.file = data.source;\n        }\n        else if (data.item || data.id) {\n            const item = data.item ? data.item : store.query('GET_ITEM', data.id);\n            event.file = item ? createItemAPI(item) : null;\n        }\n        // map all items in a possible items array\n        if (data.items) {\n            event.items = data.items.map(createItemAPI);\n        }\n        // if this is a progress event add the progress amount\n        if (/progress/.test(name)) {\n            event.progress = data.progress;\n        }\n        // copy relevant props\n        if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n            event.origin = data.origin;\n            event.target = data.target;\n        }\n        return event;\n    };\n    const eventRoutes = {\n        DID_DESTROY: createEvent('destroy'),\n        DID_INIT: createEvent('init'),\n        DID_THROW_MAX_FILES: createEvent('warning'),\n        DID_INIT_ITEM: createEvent('initfile'),\n        DID_START_ITEM_LOAD: createEvent('addfilestart'),\n        DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n        DID_LOAD_ITEM: createEvent('addfile'),\n        DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n        DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n        DID_THROW_ITEM_REMOVE_ERROR: [\n            createEvent('error'),\n            createEvent('removefile')\n        ],\n        DID_PREPARE_OUTPUT: createEvent('preparefile'),\n        DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n        DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n        DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n        DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n        DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n        DID_THROW_ITEM_PROCESSING_ERROR: [\n            createEvent('error'),\n            createEvent('processfile')\n        ],\n        DID_REMOVE_ITEM: createEvent('removefile'),\n        DID_UPDATE_ITEMS: createEvent('updatefiles'),\n        DID_ACTIVATE_ITEM: createEvent('activatefile'),\n        DID_REORDER_ITEMS: createEvent('reorderfiles')\n    };\n    const exposeEvent = event => {\n        // create event object to be dispatched\n        const detail = Object.assign({ pond: exports }, event);\n        delete detail.type;\n        view.element.dispatchEvent(new CustomEvent(`FilePond:${event.type}`, {\n            // event info\n            detail,\n            // event behaviour\n            bubbles: true,\n            cancelable: true,\n            composed: true // triggers listeners outside of shadow root\n        }));\n        // event object to params used for `on()` event handlers and callbacks `oninit()`\n        const params = [];\n        // if is possible error event, make it the first param\n        if (event.hasOwnProperty('error')) {\n            params.push(event.error);\n        }\n        // file is always section\n        if (event.hasOwnProperty('file')) {\n            params.push(event.file);\n        }\n        // append other props\n        const filtered = ['type', 'error', 'file'];\n        Object.keys(event)\n            .filter(key => !filtered.includes(key))\n            .forEach(key => params.push(event[key]));\n        // on(type, () => { })\n        exports.fire(event.type, ...params);\n        // oninit = () => {}\n        const handler = store.query(`GET_ON${event.type.toUpperCase()}`);\n        if (handler) {\n            handler(...params);\n        }\n    };\n    const routeActionsToEvents = actions => {\n        if (!actions.length)\n            return;\n        actions\n            .filter(action => eventRoutes[action.type])\n            .forEach(action => {\n            const routes = eventRoutes[action.type];\n            (Array.isArray(routes) ? routes : [routes]).forEach(route => {\n                // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                if (action.type === 'DID_INIT_ITEM') {\n                    exposeEvent(route(action.data));\n                }\n                else {\n                    setTimeout(() => {\n                        exposeEvent(route(action.data));\n                    }, 0);\n                }\n            });\n        });\n    };\n    //\n    // PUBLIC API -------------------------------------------------------------------------------------\n    //\n    const setOptions = options => store.dispatch('SET_OPTIONS', { options });\n    const getFile = query => store.query('GET_ACTIVE_ITEM', query);\n    const prepareFile = query => new Promise((resolve, reject) => {\n        store.dispatch('REQUEST_ITEM_PREPARE', {\n            query,\n            success: item => {\n                resolve(item);\n            },\n            failure: error => {\n                reject(error);\n            }\n        });\n    });\n    const addFile = (source, options = {}) => new Promise((resolve, reject) => {\n        addFiles([{ source, options }], { index: options.index })\n            .then(items => resolve(items && items[0]))\n            .catch(reject);\n    });\n    const isFilePondFile = obj => obj.file && obj.id;\n    const removeFile = (query, options) => {\n        // if only passed options\n        if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n            options = query;\n            query = undefined;\n        }\n        // request item removal\n        store.dispatch('REMOVE_ITEM', Object.assign(Object.assign({}, options), { query }));\n        // see if item has been removed\n        return store.query('GET_ACTIVE_ITEM', query) === null;\n    };\n    const addFiles = (...args) => new Promise((resolve, reject) => {\n        const sources = [];\n        const options = {};\n        // user passed a sources array\n        if (isArray(args[0])) {\n            sources.push.apply(sources, args[0]);\n            Object.assign(options, args[1] || {});\n        }\n        else {\n            // user passed sources as arguments, last one might be options object\n            const lastArgument = args[args.length - 1];\n            if (typeof lastArgument === 'object' &&\n                !(lastArgument instanceof Blob)) {\n                Object.assign(options, args.pop());\n            }\n            // add rest to sources\n            sources.push(...args);\n        }\n        store.dispatch('ADD_ITEMS', {\n            items: sources,\n            index: options.index,\n            interactionMethod: InteractionMethod.API,\n            success: resolve,\n            failure: reject\n        });\n    });\n    const getFiles = () => store.query('GET_ACTIVE_ITEMS');\n    const processFile = query => new Promise((resolve, reject) => {\n        store.dispatch('REQUEST_ITEM_PROCESSING', {\n            query,\n            success: item => {\n                resolve(item);\n            },\n            failure: error => {\n                reject(error);\n            }\n        });\n    });\n    const prepareFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n        const items = queries.length ? queries : getFiles();\n        return Promise.all(items.map(prepareFile));\n    };\n    const processFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n        if (!queries.length) {\n            const files = getFiles().filter(item => !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                item.status !== ItemStatus.PROCESSING &&\n                item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                item.status !== ItemStatus.PROCESSING_REVERT_ERROR);\n            return Promise.all(files.map(processFile));\n        }\n        return Promise.all(queries.map(processFile));\n    };\n    const removeFiles = (...args) => {\n        const queries = Array.isArray(args[0]) ? args[0] : args;\n        let options;\n        if (typeof queries[queries.length - 1] === 'object') {\n            options = queries.pop();\n        }\n        else if (Array.isArray(args[0])) {\n            options = args[1];\n        }\n        const files = getFiles();\n        if (!queries.length)\n            return Promise.all(files.map(file => removeFile(file, options)));\n        // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n        const mappedQueries = queries\n            .map(query => isNumber(query) ? (files[query] ? files[query].id : null) : query)\n            .filter(query => query);\n        return mappedQueries.map(q => removeFile(q, options));\n    };\n    const exports = Object.assign(Object.assign(Object.assign(Object.assign({}, on()), readWriteApi), createOptionAPI(store, defaultOptions)), { \n        /**\n         * Override options defined in options object\n         * @param options\n         */\n        setOptions,\n        /**\n         * Load the given file\n         * @param source - the source of the file (either a File, base64 data uri or url)\n         * @param options - object, { index: 0 }\n         */\n        addFile,\n        /**\n         * Load the given files\n         * @param sources - the sources of the files to load\n         * @param options - object, { index: 0 }\n         */\n        addFiles,\n        /**\n         * Returns the file objects matching the given query\n         * @param query { string, number, null }\n         */\n        getFile,\n        /**\n         * Upload file with given name\n         * @param query { string, number, null  }\n         */\n        processFile,\n        /**\n         * Request prepare output for file with given name\n         * @param query { string, number, null  }\n         */\n        prepareFile,\n        /**\n         * Removes a file by its name\n         * @param query { string, number, null  }\n         */\n        removeFile, \n        /**\n         * Moves a file to a new location in the files list\n         */\n        moveFile: (query, index) => store.dispatch('MOVE_ITEM', { query, index }), \n        /**\n         * Returns all files (wrapped in public api)\n         */\n        getFiles,\n        /**\n         * Starts uploading all files\n         */\n        processFiles,\n        /**\n         * Clears all files from the files list\n         */\n        removeFiles,\n        /**\n         * Starts preparing output of all files\n         */\n        prepareFiles, \n        /**\n         * Sort list of files\n         */\n        sort: compare => store.dispatch('SORT', { compare }), \n        /**\n         * Browse the file system for a file\n         */\n        browse: () => {\n            // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n            var input = view.element.querySelector('input[type=file]');\n            if (input) {\n                input.click();\n            }\n        }, \n        /**\n         * Destroys the app\n         */\n        destroy: () => {\n            // request destruction\n            exports.fire('destroy', view.element);\n            // stop active processes (file uploads, fetches, stuff like that)\n            // loop over items and depending on states call abort for ongoing processes\n            store.dispatch('ABORT_ALL');\n            // destroy view\n            view._destroy();\n            // stop listening to resize\n            window.removeEventListener('resize', resizeHandler);\n            // stop listening to the visiblitychange event\n            document.removeEventListener('visibilitychange', visibilityHandler);\n            // dispatch destroy\n            store.dispatch('DID_DESTROY');\n        }, \n        /**\n         * Inserts the plugin before the target element\n         */\n        insertBefore: element => insertBefore(view.element, element), \n        /**\n         * Inserts the plugin after the target element\n         */\n        insertAfter: element => insertAfter(view.element, element), \n        /**\n         * Appends the plugin to the target element\n         */\n        appendTo: element => element.appendChild(view.element), \n        /**\n         * Replaces an element with the app\n         */\n        replaceElement: element => {\n            // insert the app before the element\n            insertBefore(view.element, element);\n            // remove the original element\n            element.parentNode.removeChild(element);\n            // remember original element\n            originalElement = element;\n        }, \n        /**\n         * Restores the original element\n         */\n        restoreElement: () => {\n            if (!originalElement) {\n                return; // no element to restore\n            }\n            // restore original element\n            insertAfter(originalElement, view.element);\n            // remove our element\n            view.element.parentNode.removeChild(view.element);\n            // remove reference\n            originalElement = null;\n        }, \n        /**\n         * Returns true if the app root is attached to given element\n         * @param element\n         */\n        isAttachedTo: element => view.element === element || originalElement === element, \n        /**\n         * Returns the root element\n         */\n        element: {\n            get: () => view.element\n        }, \n        /**\n         * Returns the current pond status\n         */\n        status: {\n            get: () => store.query('GET_STATUS')\n        } });\n    // Done!\n    store.dispatch('DID_INIT');\n    // create actual api object\n    return createObject(exports);\n};\nconst createAppObject = (customOptions = {}) => {\n    // default options\n    const defaultOptions = {};\n    forin(getOptions(), (key, value) => {\n        defaultOptions[key] = value[0];\n    });\n    // set app options\n    const app = createApp(Object.assign(Object.assign({}, defaultOptions), customOptions));\n    // return the plugin instance\n    return app;\n};\nconst lowerCaseFirstLetter = string => string.charAt(0).toLowerCase() + string.slice(1);\nconst attributeNameToPropertyName = attributeName => toCamels(attributeName.replace(/^data-/, ''));\nconst mapObject = (object, propertyMap) => {\n    // remove unwanted\n    forin(propertyMap, (selector, mapping) => {\n        forin(object, (property, value) => {\n            // create regexp shortcut\n            const selectorRegExp = new RegExp(selector);\n            // tests if\n            const matches = selectorRegExp.test(property);\n            // no match, skip\n            if (!matches) {\n                return;\n            }\n            // if there's a mapping, the original property is always removed\n            delete object[property];\n            // should only remove, we done!\n            if (mapping === false) {\n                return;\n            }\n            // move value to new property\n            if (isString(mapping)) {\n                object[mapping] = value;\n                return;\n            }\n            // move to group\n            const group = mapping.group;\n            if (isObject(mapping) && !object[group]) {\n                object[group] = {};\n            }\n            object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n        });\n        // do submapping\n        if (mapping.mapping) {\n            mapObject(object[mapping.group], mapping.mapping);\n        }\n    });\n};\nconst getAttributesAsObject = (node, attributeMapping = {}) => {\n    // turn attributes into object\n    const attributes = [];\n    forin(node.attributes, index => {\n        attributes.push(node.attributes[index]);\n    });\n    const output = attributes\n        .filter(attribute => attribute.name)\n        .reduce((obj, attribute) => {\n        const value = attr(node, attribute.name);\n        obj[attributeNameToPropertyName(attribute.name)] =\n            value === attribute.name ? true : value;\n        return obj;\n    }, {});\n    // do mapping of object properties\n    mapObject(output, attributeMapping);\n    return output;\n};\nconst createAppAtElement = (element, options = {}) => {\n    // how attributes of the input element are mapped to the options for the plugin\n    const attributeMapping = {\n        // translate to other name\n        '^class$': 'className',\n        '^multiple$': 'allowMultiple',\n        '^capture$': 'captureMethod',\n        '^webkitdirectory$': 'allowDirectoriesOnly',\n        // group under single property\n        '^server': {\n            group: 'server',\n            mapping: {\n                '^process': {\n                    group: 'process'\n                },\n                '^revert': {\n                    group: 'revert'\n                },\n                '^fetch': {\n                    group: 'fetch'\n                },\n                '^restore': {\n                    group: 'restore'\n                },\n                '^load': {\n                    group: 'load'\n                }\n            }\n        },\n        // don't include in object\n        '^type$': false,\n        '^files$': false\n    };\n    // add additional option translators\n    applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n    // create final options object by setting options object and then overriding options supplied on element\n    const mergedOptions = Object.assign({}, options);\n    const attributeOptions = getAttributesAsObject(element.nodeName === 'FIELDSET'\n        ? element.querySelector('input[type=file]')\n        : element, attributeMapping);\n    // merge with options object\n    Object.keys(attributeOptions).forEach(key => {\n        if (isObject(attributeOptions[key])) {\n            if (!isObject(mergedOptions[key])) {\n                mergedOptions[key] = {};\n            }\n            Object.assign(mergedOptions[key], attributeOptions[key]);\n        }\n        else {\n            mergedOptions[key] = attributeOptions[key];\n        }\n    });\n    // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n    // these will then be automatically set to the initial files\n    mergedOptions.files = (options.files || []).concat(Array.from(element.querySelectorAll('input:not([type=file])')).map(input => ({\n        source: input.value,\n        options: {\n            type: input.dataset.type\n        }\n    })));\n    // build plugin\n    const app = createAppObject(mergedOptions);\n    // add already selected files\n    if (element.files) {\n        Array.from(element.files).forEach(file => {\n            app.addFile(file);\n        });\n    }\n    // replace the target element\n    app.replaceElement(element);\n    // expose\n    return app;\n};\n// if an element is passed, we create the instance at that element, if not, we just create an up object\nconst createApp$1 = (...args) => isNode(args[0]) ? createAppAtElement(...args) : createAppObject(...args);\nconst PRIVATE_METHODS = ['fire', '_read', '_write'];\nconst createAppAPI = app => {\n    const api = {};\n    copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n    return api;\n};\n/**\n * Replaces placeholders in given string with replacements\n * @param string - \"Foo {bar}\"\"\n * @param replacements - { \"bar\": 10 }\n */\nconst replaceInString = (string, replacements) => string.replace(/(?:{([a-zA-Z]+)})/g, (match, group) => replacements[group]);\nconst createWorker = fn => {\n    const workerBlob = new Blob(['(', fn.toString(), ')()'], {\n        type: 'application/javascript'\n    });\n    const workerURL = URL.createObjectURL(workerBlob);\n    const worker = new Worker(workerURL);\n    return {\n        transfer: (message, cb) => { },\n        post: (message, cb, transferList) => {\n            const id = getUniqueId();\n            worker.onmessage = e => {\n                if (e.data.id === id) {\n                    cb(e.data.message);\n                }\n            };\n            worker.postMessage({\n                id,\n                message\n            }, transferList);\n        },\n        terminate: () => {\n            worker.terminate();\n            URL.revokeObjectURL(workerURL);\n        }\n    };\n};\nconst loadImage = url => new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n        resolve(img);\n    };\n    img.onerror = e => {\n        reject(e);\n    };\n    img.src = url;\n});\nconst renameFile = (file, name) => {\n    const renamedFile = file.slice(0, file.size, file.type);\n    renamedFile.lastModifiedDate = file.lastModifiedDate;\n    renamedFile.name = name;\n    return renamedFile;\n};\nconst copyFile = file => renameFile(file, file.name);\n// already registered plugins (can't register twice)\nconst registeredPlugins = [];\n// pass utils to plugin\nconst createAppPlugin = plugin => {\n    // already registered\n    if (registeredPlugins.includes(plugin)) {\n        return;\n    }\n    // remember this plugin\n    registeredPlugins.push(plugin);\n    // setup!\n    const pluginOutline = plugin({\n        addFilter,\n        utils: {\n            Type,\n            forin,\n            isString,\n            isFile,\n            toNaturalFileSize,\n            replaceInString,\n            getExtensionFromFilename,\n            getFilenameWithoutExtension,\n            guesstimateMimeType,\n            getFileFromBlob,\n            getFilenameFromURL,\n            createRoute,\n            createWorker,\n            createView,\n            createItemAPI,\n            loadImage,\n            copyFile,\n            renameFile,\n            createBlob,\n            applyFilterChain,\n            text,\n            getNumericAspectRatioFromString\n        },\n        views: {\n            fileActionButton\n        }\n    });\n    // add plugin options to default options\n    extendDefaultOptions(pluginOutline.options);\n};\n// feature detection used by supported() method\nconst isOperaMini = () => Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\nconst hasPromises = () => 'Promise' in window;\nconst hasBlobSlice = () => 'slice' in Blob.prototype;\nconst hasCreateObjectURL = () => 'URL' in window && 'createObjectURL' in window.URL;\nconst hasVisibility = () => 'visibilityState' in document;\nconst hasTiming = () => 'performance' in window; // iOS 8.x\nconst hasCSSSupports = () => 'supports' in (window.CSS || {}); // use to detect Safari 9+\nconst isIE11 = () => /MSIE|Trident/.test(window.navigator.userAgent);\nconst supported = (() => {\n    // Runs immediately and then remembers result for subsequent calls\n    const isSupported = \n    // Has to be a browser\n    isBrowser() &&\n        // Can't run on Opera Mini due to lack of everything\n        !isOperaMini() &&\n        // Require these APIs to feature detect a modern browser\n        hasVisibility() &&\n        hasPromises() &&\n        hasBlobSlice() &&\n        hasCreateObjectURL() &&\n        hasTiming() &&\n        // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n        (hasCSSSupports() || isIE11());\n    return () => isSupported;\n})();\n/**\n * Plugin internal state (over all instances)\n */\nconst state = {\n    // active app instances, used to redraw the apps and to find the later\n    apps: []\n};\n// plugin name\nconst name = 'filepond';\n/**\n * Public Plugin methods\n */\nconst fn = () => { };\nlet Status$1 = {};\nlet FileStatus = {};\nlet FileOrigin$1 = {};\nlet OptionTypes = {};\nlet create$f = fn;\nlet destroy = fn;\nlet parse = fn;\nlet find = fn;\nlet registerPlugin = fn;\nlet getOptions$1 = fn;\nlet setOptions$1 = fn;\n// if not supported, no API\nif (supported()) {\n    // start painter and fire load event\n    createPainter(() => {\n        state.apps.forEach(app => app._read());\n    }, ts => {\n        state.apps.forEach(app => app._write(ts));\n    });\n    // fire loaded event so we know when FilePond is available\n    const dispatch = () => {\n        // let others know we have area ready\n        document.dispatchEvent(new CustomEvent('FilePond:loaded', {\n            detail: {\n                supported,\n                create: create$f,\n                destroy,\n                parse,\n                find,\n                registerPlugin,\n                setOptions: setOptions$1\n            }\n        }));\n        // clean up event\n        document.removeEventListener('DOMContentLoaded', dispatch);\n    };\n    if (document.readyState !== 'loading') {\n        // move to back of execution queue, FilePond should have been exported by then\n        setTimeout(() => dispatch(), 0);\n    }\n    else {\n        document.addEventListener('DOMContentLoaded', dispatch);\n    }\n    // updates the OptionTypes object based on the current options\n    const updateOptionTypes = () => forin(getOptions(), (key, value) => {\n        OptionTypes[key] = value[1];\n    });\n    Status$1 = Object.assign({}, Status);\n    FileOrigin$1 = Object.assign({}, FileOrigin);\n    FileStatus = Object.assign({}, ItemStatus);\n    OptionTypes = {};\n    updateOptionTypes();\n    // create method, creates apps and adds them to the app array\n    create$f = (...args) => {\n        const app = createApp$1(...args);\n        app.on('destroy', destroy);\n        state.apps.push(app);\n        return createAppAPI(app);\n    };\n    // destroys apps and removes them from the app array\n    destroy = hook => {\n        // returns true if the app was destroyed successfully\n        const indexToRemove = state.apps.findIndex(app => app.isAttachedTo(hook));\n        if (indexToRemove >= 0) {\n            // remove from apps\n            const app = state.apps.splice(indexToRemove, 1)[0];\n            // restore original dom element\n            app.restoreElement();\n            return true;\n        }\n        return false;\n    };\n    // parses the given context for plugins (does not include the context element itself)\n    parse = context => {\n        // get all possible hooks\n        const matchedHooks = Array.from(context.querySelectorAll(`.${name}`));\n        // filter out already active hooks\n        const newHooks = matchedHooks.filter(newHook => !state.apps.find(app => app.isAttachedTo(newHook)));\n        // create new instance for each hook\n        return newHooks.map(hook => create$f(hook));\n    };\n    // returns an app based on the given element hook\n    find = hook => {\n        const app = state.apps.find(app => app.isAttachedTo(hook));\n        if (!app) {\n            return null;\n        }\n        return createAppAPI(app);\n    };\n    // adds a plugin extension\n    registerPlugin = (...plugins) => {\n        // register plugins\n        plugins.forEach(createAppPlugin);\n        // update OptionTypes, each plugin might have extended the default options\n        updateOptionTypes();\n    };\n    getOptions$1 = () => {\n        const opts = {};\n        forin(getOptions(), (key, value) => {\n            opts[key] = value[0];\n        });\n        return opts;\n    };\n    setOptions$1 = opts => {\n        if (isObject(opts)) {\n            // update existing plugins\n            state.apps.forEach(app => {\n                app.setOptions(opts);\n            });\n            // override defaults\n            setOptions(opts);\n        }\n        // return new options\n        return getOptions$1();\n    };\n}\nexport { FileOrigin$1 as FileOrigin, FileStatus, OptionTypes, Status$1 as Status, create$f as create, destroy, find, getOptions$1 as getOptions, parse, registerPlugin, setOptions$1 as setOptions, supported };\n"],"mappings":"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","ignoreList":[]}