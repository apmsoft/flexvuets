{"version":3,"file":"TextPlugin.js","names":["emojiSafeSplit","getText","splitInnerHTML","gsap","_tempDiv","_getGSAP","window","registerPlugin","TextPlugin","version","name","init","target","value","tween","i","nodeName","toUpperCase","data","_short","text","original","j","condensedText","condensedOriginal","aggregate","s","svg","getBBox","delimiter","preserveSpaces","document","createElement","innerHTML","from","_from","hasClass","newClass","oldClass","length","fillChar","padSpace","push","type","speed","duration","Math","min","maxDuration","_props","render","ratio","l","applyNew","applyOld","str","slice","join","textContent","indexOf","split","default"],"sources":["TextPlugin.js"],"sourcesContent":["/*!\n * TextPlugin 3.8.0\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n/* eslint-disable */\nimport { emojiSafeSplit, getText, splitInnerHTML } from \"./utils/strings.min.js\";\nvar gsap, _tempDiv, _getGSAP = function _getGSAP() {\n    return gsap || typeof window !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n};\nexport var TextPlugin = {\n    version: \"3.8.0\",\n    name: \"text\",\n    init: function init(target, value, tween) {\n        var i = target.nodeName.toUpperCase(), data = this, _short, text, original, j, condensedText, condensedOriginal, aggregate, s;\n        data.svg = target.getBBox && (i === \"TEXT\" || i === \"TSPAN\");\n        if (!(\"innerHTML\" in target) && !data.svg) {\n            return false;\n        }\n        data.target = target;\n        if (typeof value !== \"object\") {\n            value = {\n                value: value\n            };\n        }\n        if (!(\"value\" in value)) {\n            data.text = data.original = [\"\"];\n            return;\n        }\n        data.delimiter = value.delimiter || \"\";\n        original = splitInnerHTML(target, data.delimiter, false, value.preserveSpaces);\n        if (!_tempDiv) {\n            _tempDiv = document.createElement(\"div\");\n        }\n        _tempDiv.innerHTML = value.value;\n        text = splitInnerHTML(_tempDiv, data.delimiter);\n        data.from = tween._from;\n        if (data.from) {\n            i = original;\n            original = text;\n            text = i;\n        }\n        data.hasClass = !!(value.newClass || value.oldClass);\n        data.newClass = value.newClass;\n        data.oldClass = value.oldClass;\n        i = original.length - text.length;\n        _short = i < 0 ? original : text;\n        data.fillChar = value.fillChar || (value.padSpace ? \"&nbsp;\" : \"\");\n        if (i < 0) {\n            i = -i;\n        }\n        while (--i > -1) {\n            _short.push(data.fillChar);\n        }\n        if (value.type === \"diff\") {\n            j = 0;\n            condensedText = [];\n            condensedOriginal = [];\n            aggregate = \"\";\n            for (i = 0; i < text.length; i++) {\n                s = text[i];\n                if (s === original[i]) {\n                    aggregate += s;\n                }\n                else {\n                    condensedText[j] = aggregate + s;\n                    condensedOriginal[j++] = aggregate + original[i];\n                    aggregate = \"\";\n                }\n            }\n            text = condensedText;\n            original = condensedOriginal;\n            if (aggregate) {\n                text.push(aggregate);\n                original.push(aggregate);\n            }\n        }\n        if (value.speed) {\n            tween.duration(Math.min(0.05 / value.speed * _short.length, value.maxDuration || 9999));\n        }\n        this.original = original;\n        this.text = text;\n        this._props.push(\"text\");\n    },\n    render: function render(ratio, data) {\n        if (ratio > 1) {\n            ratio = 1;\n        }\n        else if (ratio < 0) {\n            ratio = 0;\n        }\n        if (data.from) {\n            ratio = 1 - ratio;\n        }\n        var text = data.text, hasClass = data.hasClass, newClass = data.newClass, oldClass = data.oldClass, delimiter = data.delimiter, target = data.target, fillChar = data.fillChar, original = data.original, l = text.length, i = ratio * l + 0.5 | 0, applyNew, applyOld, str;\n        if (hasClass) {\n            applyNew = newClass && i;\n            applyOld = oldClass && i !== l;\n            str = (applyNew ? \"<span class='\" + newClass + \"'>\" : \"\") + text.slice(0, i).join(delimiter) + (applyNew ? \"</span>\" : \"\") + (applyOld ? \"<span class='\" + oldClass + \"'>\" : \"\") + delimiter + original.slice(i).join(delimiter) + (applyOld ? \"</span>\" : \"\");\n        }\n        else {\n            str = text.slice(0, i).join(delimiter) + delimiter + original.slice(i).join(delimiter);\n        }\n        if (data.svg) {\n            //SVG text elements don't have an \"innerHTML\" in Microsoft browsers.\n            target.textContent = str;\n        }\n        else {\n            target.innerHTML = fillChar === \"&nbsp;\" && ~str.indexOf(\"  \") ? str.split(\"  \").join(\"&nbsp;&nbsp;\") : str;\n        }\n    }\n};\nTextPlugin.splitInnerHTML = splitInnerHTML;\nTextPlugin.emojiSafeSplit = emojiSafeSplit;\nTextPlugin.getText = getText;\n_getGSAP() && gsap.registerPlugin(TextPlugin);\nexport { TextPlugin as default };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,cAAc,EAAEC,OAAO,EAAEC,cAAc;AAChD,IAAIC,IAAI,CAAEC,QAAQ,CAAEC,QAAQ,GAAG,SAASA,QAAQA,CAAA,EAAG;IAC/C,OAAOF,IAAI,IAAI,OAAOG,MAAM,KAAK,WAAW,KAAKH,IAAI,GAAGG,MAAM,CAACH,IAAI,CAAC,IAAIA,IAAI,CAACI,cAAc,IAAIJ,IAAI;EACvG,CAAC;AACD,OAAO,IAAIK,UAAU,GAAG;EACpBC,OAAO,EAAE,OAAO;EAChBC,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,SAASA,IAAIA,CAACC,MAAM,EAAEC,KAAK,EAAEC,KAAK,EAAE;IACtC,IAAIC,CAAC,GAAGH,MAAM,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAEC,IAAI,GAAG,IAAI,CAAEC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,CAAC,CAAEC,aAAa,CAAEC,iBAAiB,CAAEC,SAAS,CAAEC,CAAC;IAC7HR,IAAI,CAACS,GAAG,GAAGf,MAAM,CAACgB,OAAO,KAAKb,CAAC,KAAK,MAAM,IAAIA,CAAC,KAAK,OAAO,CAAC;IAC5D,IAAI,EAAE,WAAW,IAAIH,MAAM,CAAC,IAAI,CAACM,IAAI,CAACS,GAAG,EAAE;MACvC,OAAO,KAAK;IAChB;IACAT,IAAI,CAACN,MAAM,GAAGA,MAAM;IACpB,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;MAC3BA,KAAK,GAAG;QACJA,KAAK,EAAEA;MACX,CAAC;IACL;IACA,IAAI,EAAE,OAAO,IAAIA,KAAK,CAAC,EAAE;MACrBK,IAAI,CAACE,IAAI,GAAGF,IAAI,CAACG,QAAQ,GAAG,CAAC,EAAE,CAAC;MAChC;IACJ;IACAH,IAAI,CAACW,SAAS,GAAGhB,KAAK,CAACgB,SAAS,IAAI,EAAE;IACtCR,QAAQ,GAAGnB,cAAc,CAACU,MAAM,EAAEM,IAAI,CAACW,SAAS,EAAE,KAAK,EAAEhB,KAAK,CAACiB,cAAc,CAAC;IAC9E,IAAI,CAAC1B,QAAQ,EAAE;MACXA,QAAQ,GAAG2B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC5C;IACA5B,QAAQ,CAAC6B,SAAS,GAAGpB,KAAK,CAACA,KAAK;IAChCO,IAAI,GAAGlB,cAAc,CAACE,QAAQ,EAAEc,IAAI,CAACW,SAAS,CAAC;IAC/CX,IAAI,CAACgB,IAAI,GAAGpB,KAAK,CAACqB,KAAK;IACvB,IAAIjB,IAAI,CAACgB,IAAI,EAAE;MACXnB,CAAC,GAAGM,QAAQ;MACZA,QAAQ,GAAGD,IAAI;MACfA,IAAI,GAAGL,CAAC;IACZ;IACAG,IAAI,CAACkB,QAAQ,GAAG,CAAC,EAAEvB,KAAK,CAACwB,QAAQ,IAAIxB,KAAK,CAACyB,QAAQ,CAAC;IACpDpB,IAAI,CAACmB,QAAQ,GAAGxB,KAAK,CAACwB,QAAQ;IAC9BnB,IAAI,CAACoB,QAAQ,GAAGzB,KAAK,CAACyB,QAAQ;IAC9BvB,CAAC,GAAGM,QAAQ,CAACkB,MAAM,GAAGnB,IAAI,CAACmB,MAAM;IACjCpB,MAAM,GAAGJ,CAAC,GAAG,CAAC,GAAGM,QAAQ,GAAGD,IAAI;IAChCF,IAAI,CAACsB,QAAQ,GAAG3B,KAAK,CAAC2B,QAAQ,KAAK3B,KAAK,CAAC4B,QAAQ,GAAG,QAAQ,GAAG,EAAE,CAAC;IAClE,IAAI1B,CAAC,GAAG,CAAC,EAAE;MACPA,CAAC,GAAG,CAACA,CAAC;IACV;IACA,OAAO,EAAEA,CAAC,GAAG,CAAC,CAAC,EAAE;MACbI,MAAM,CAACuB,IAAI,CAACxB,IAAI,CAACsB,QAAQ,CAAC;IAC9B;IACA,IAAI3B,KAAK,CAAC8B,IAAI,KAAK,MAAM,EAAE;MACvBrB,CAAC,GAAG,CAAC;MACLC,aAAa,GAAG,EAAE;MAClBC,iBAAiB,GAAG,EAAE;MACtBC,SAAS,GAAG,EAAE;MACd,KAAKV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGK,IAAI,CAACmB,MAAM,EAAExB,CAAC,EAAE,EAAE;QAC9BW,CAAC,GAAGN,IAAI,CAACL,CAAC,CAAC;QACX,IAAIW,CAAC,KAAKL,QAAQ,CAACN,CAAC,CAAC,EAAE;UACnBU,SAAS,IAAIC,CAAC;QAClB,CAAC;QACI;UACDH,aAAa,CAACD,CAAC,CAAC,GAAGG,SAAS,GAAGC,CAAC;UAChCF,iBAAiB,CAACF,CAAC,EAAE,CAAC,GAAGG,SAAS,GAAGJ,QAAQ,CAACN,CAAC,CAAC;UAChDU,SAAS,GAAG,EAAE;QAClB;MACJ;MACAL,IAAI,GAAGG,aAAa;MACpBF,QAAQ,GAAGG,iBAAiB;MAC5B,IAAIC,SAAS,EAAE;QACXL,IAAI,CAACsB,IAAI,CAACjB,SAAS,CAAC;QACpBJ,QAAQ,CAACqB,IAAI,CAACjB,SAAS,CAAC;MAC5B;IACJ;IACA,IAAIZ,KAAK,CAAC+B,KAAK,EAAE;MACb9B,KAAK,CAAC+B,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,IAAI,GAAGlC,KAAK,CAAC+B,KAAK,GAAGzB,MAAM,CAACoB,MAAM,EAAE1B,KAAK,CAACmC,WAAW,IAAI,IAAI,CAAC,CAAC;IAC3F;IACA,IAAI,CAAC3B,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACD,IAAI,GAAGA,IAAI;IAChB,IAAI,CAAC6B,MAAM,CAACP,IAAI,CAAC,MAAM,CAAC;EAC5B,CAAC;EACDQ,MAAM,EAAE,SAASA,MAAMA,CAACC,KAAK,EAAEjC,IAAI,EAAE;IACjC,IAAIiC,KAAK,GAAG,CAAC,EAAE;MACXA,KAAK,GAAG,CAAC;IACb,CAAC;IACI,IAAIA,KAAK,GAAG,CAAC,EAAE;MAChBA,KAAK,GAAG,CAAC;IACb;IACA,IAAIjC,IAAI,CAACgB,IAAI,EAAE;MACXiB,KAAK,GAAG,CAAC,GAAGA,KAAK;IACrB;IACA,IAAI/B,IAAI,GAAGF,IAAI,CAACE,IAAI,CAAEgB,QAAQ,GAAGlB,IAAI,CAACkB,QAAQ,CAAEC,QAAQ,GAAGnB,IAAI,CAACmB,QAAQ,CAAEC,QAAQ,GAAGpB,IAAI,CAACoB,QAAQ,CAAET,SAAS,GAAGX,IAAI,CAACW,SAAS,CAAEjB,MAAM,GAAGM,IAAI,CAACN,MAAM,CAAE4B,QAAQ,GAAGtB,IAAI,CAACsB,QAAQ,CAAEnB,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAAE+B,CAAC,GAAGhC,IAAI,CAACmB,MAAM,CAAExB,CAAC,GAAGoC,KAAK,GAAGC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,GAAG;IAC3Q,IAAInB,QAAQ,EAAE;MACViB,QAAQ,GAAGhB,QAAQ,IAAItB,CAAC;MACxBuC,QAAQ,GAAGhB,QAAQ,IAAIvB,CAAC,KAAKqC,CAAC;MAC9BG,GAAG,GAAG,CAACF,QAAQ,GAAG,eAAe,GAAGhB,QAAQ,GAAG,IAAI,GAAG,EAAE,IAAIjB,IAAI,CAACoC,KAAK,CAAC,CAAC,EAAEzC,CAAC,CAAC,CAAC0C,IAAI,CAAC5B,SAAS,CAAC,IAAIwB,QAAQ,GAAG,SAAS,GAAG,EAAE,CAAC,IAAIC,QAAQ,GAAG,eAAe,GAAGhB,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC,GAAGT,SAAS,GAAGR,QAAQ,CAACmC,KAAK,CAACzC,CAAC,CAAC,CAAC0C,IAAI,CAAC5B,SAAS,CAAC,IAAIyB,QAAQ,GAAG,SAAS,GAAG,EAAE,CAAC;IAClQ,CAAC;IACI;MACDC,GAAG,GAAGnC,IAAI,CAACoC,KAAK,CAAC,CAAC,EAAEzC,CAAC,CAAC,CAAC0C,IAAI,CAAC5B,SAAS,CAAC,GAAGA,SAAS,GAAGR,QAAQ,CAACmC,KAAK,CAACzC,CAAC,CAAC,CAAC0C,IAAI,CAAC5B,SAAS,CAAC;IAC1F;IACA,IAAIX,IAAI,CAACS,GAAG,EAAE;MACV;MACAf,MAAM,CAAC8C,WAAW,GAAGH,GAAG;IAC5B,CAAC;IACI;MACD3C,MAAM,CAACqB,SAAS,GAAGO,QAAQ,KAAK,QAAQ,IAAI,CAACe,GAAG,CAACI,OAAO,CAAC,IAAI,CAAC,GAAGJ,GAAG,CAACK,KAAK,CAAC,IAAI,CAAC,CAACH,IAAI,CAAC,cAAc,CAAC,GAAGF,GAAG;IAC/G;EACJ;AACJ,CAAC;AACD/C,UAAU,CAACN,cAAc,GAAGA,cAAc;AAC1CM,UAAU,CAACR,cAAc,GAAGA,cAAc;AAC1CQ,UAAU,CAACP,OAAO,GAAGA,OAAO;AAC5BI,QAAQ,CAAC,CAAC,IAAIF,IAAI,CAACI,cAAc,CAACC,UAAU,CAAC;AAC7C,SAASA,UAAU,IAAIqD,OAAO","ignoreList":[]}