{"version":3,"file":"dispatcher.js","names":["dispatcher","binding","data","events","newEvent","CustomEvent","gesture","getId","detail","bubbles","cancelable","emitEvent","element","target","event","dispatchEvent","bindOnce","ZingTouch","unbind","getType"],"sources":["dispatcher.js"],"sourcesContent":["/**\n * @file dispatcher.js\n * Contains logic for the dispatcher\n */\n/**\n * Emits data at the target element if available, and bubbles up from\n * the target to the parent until the document has been reached.\n * Called from the arbiter.\n * @param {Binding} binding - An object of type Binding\n * @param {Object} data - The metadata computed by the gesture being emitted.\n * @param {Array} events - An array of ZingEvents\n *  corresponding to the inputs on the screen.\n */\nfunction dispatcher(binding, data, events) {\n    data.events = events;\n    const newEvent = new CustomEvent(binding.gesture.getId(), {\n        detail: data,\n        bubbles: true,\n        cancelable: true,\n    });\n    emitEvent(binding.element, newEvent, binding);\n}\n/**\n * Emits the new event. Unbinds the event if the event was registered\n * at bindOnce.\n * @param {Element} target - Element object to emit the event to.\n * @param {Event} event - The CustomEvent to emit.\n * @param {Binding} binding - An object of type Binding\n */\nfunction emitEvent(target, event, binding) {\n    target.dispatchEvent(event);\n    if (binding.bindOnce) {\n        ZingTouch.unbind(binding.element, binding.gesture.getType());\n    }\n}\nexport default dispatcher;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,UAAUA,CAACC,OAAO,EAAEC,IAAI,EAAEC,MAAM,EAAE;EACvCD,IAAI,CAACC,MAAM,GAAGA,MAAM;EACpB,MAAMC,QAAQ,GAAG,IAAIC,WAAW,CAACJ,OAAO,CAACK,OAAO,CAACC,KAAK,CAAC,CAAC,EAAE;IACtDC,MAAM,EAAEN,IAAI;IACZO,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE;EAChB,CAAC,CAAC;EACFC,SAAS,CAACV,OAAO,CAACW,OAAO,EAAER,QAAQ,EAAEH,OAAO,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASU,SAASA,CAACE,MAAM,EAAEC,KAAK,EAAEb,OAAO,EAAE;EACvCY,MAAM,CAACE,aAAa,CAACD,KAAK,CAAC;EAC3B,IAAIb,OAAO,CAACe,QAAQ,EAAE;IAClBC,SAAS,CAACC,MAAM,CAACjB,OAAO,CAACW,OAAO,EAAEX,OAAO,CAACK,OAAO,CAACa,OAAO,CAAC,CAAC,CAAC;EAChE;AACJ;AACA,eAAenB,UAAU","ignoreList":[]}