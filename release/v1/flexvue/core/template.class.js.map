{"version":3,"file":"template.class.js","names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Template","readFile","filename","_options","_headers","defaultHeaders","Object","assign","options","cache","headers","response","fetch","ok","text","Error","status","toString","include","template_id","elem","document","querySelector","content","fragment","tpl","importNode","XMLSerializer","serializeToString","render","data","func","Function","keys","values"],"sources":["template.class.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport default class Template {\n    // template 파일 찾기\n    readFile(filename, _options = {}, _headers = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const defaultHeaders = Object.assign({ 'Content-Type': 'text/plain' }, _headers);\n            const options = Object.assign({ cache: 'default', headers: defaultHeaders }, _options);\n            const response = yield fetch(filename, options);\n            if (response.ok) {\n                return yield response.text();\n            }\n            throw new Error(response.status.toString());\n        });\n    }\n    /**\n     *\n     * @param <template id=\"#tpl_test\"> : template_id\n     * @returns\n     */\n    include(template_id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const elem = document.querySelector(template_id);\n            if (elem === null || elem === void 0 ? void 0 : elem.content) {\n                const fragment = elem.content;\n                const tpl = document.importNode(fragment, true);\n                return new XMLSerializer().serializeToString(tpl);\n            }\n            return 'undefined';\n        });\n    }\n    /**\n     *\n     * @param {json data} data\n     * @returns : rendering html\n     */\n    render(tpl, data) {\n        const func = new Function(...Object.keys(data), \"return `\" + tpl + \"`;\");\n        return func(...Object.values(data));\n    }\n}\n"],"mappings":"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","ignoreList":[]}